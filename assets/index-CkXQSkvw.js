var Kd=Object.defineProperty;var ml=e=>{throw TypeError(e)};var Jd=(e,t,n)=>t in e?Kd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var St=(e,t,n)=>Jd(e,typeof t!="symbol"?t+"":t,n),ua=(e,t,n)=>t.has(e)||ml("Cannot "+n);var A=(e,t,n)=>(ua(e,t,"read from private field"),n?n.call(e):t.get(e)),Q=(e,t,n)=>t.has(e)?ml("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),G=(e,t,n,r)=>(ua(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),_e=(e,t,n)=>(ua(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();const wa=!1;var vi=Array.isArray,em=Array.prototype.indexOf,To=Array.from,Su=Object.defineProperty,Ln=Object.getOwnPropertyDescriptor,Tu=Object.getOwnPropertyDescriptors,tm=Object.prototype,nm=Array.prototype,os=Object.getPrototypeOf,hl=Object.isExtensible;const _n=()=>{};function rm(e){return e()}function Ji(e){for(var t=0;t<e.length;t++)e[t]()}function Eu(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}function im(e,t){if(Array.isArray(e))return e;if(!(Symbol.iterator in e))return Array.from(e);const n=[];for(const r of e)if(n.push(r),n.length===t)break;return n}const Ee=2,Eo=4,No=8,Nu=1<<24,nn=16,rn=32,Kn=64,ko=128,ht=512,Ae=1024,Ve=2048,pt=4096,Ye=8192,Kt=16384,as=32768,Pr=65536,pl=1<<17,ss=1<<18,Or=1<<19,ku=1<<20,Ut=1<<25,Gn=32768,Aa=1<<21,ls=1<<22,gn=1<<23,Jt=Symbol("$state"),om=Symbol("legacy props"),am=Symbol(""),dr=new class extends Error{constructor(){super(...arguments);St(this,"name","StaleReactionError");St(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function _i(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function sm(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function lm(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function um(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function fm(e){throw new Error("https://svelte.dev/e/effect_orphan")}function cm(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function dm(e){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function mm(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function hm(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function pm(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function vm(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function _m(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const gm=1,ym=2,Cu=4,Mm=8,Pm=16,bm=1,wm=2,Am=4,xm=8,Sm=16,Tm=1,Em=2,we=Symbol(),Nm="http://www.w3.org/1999/xhtml",km="@attach";function Cm(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function Om(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Ou(e){return e===this.v}function us(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Iu(e){return!us(e,this.v)}let Ir=!1,Im=!1;function $m(){Ir=!0}let Z=null;function br(e){Z=e}function $u(e){return Fu().get(e)}function Fm(e,t){return Fu().set(e,t),t}function Ue(e,t=!1,n){Z={p:Z,i:!1,c:null,e:null,s:e,x:null,l:Ir&&!t?{s:null,u:null,$:[]}:null}}function Qe(e){var t=Z,n=t.e;if(n!==null){t.e=null;for(var r of n)ef(r)}return e!==void 0&&(t.x=e),t.i=!0,Z=t.p,e??{}}function gi(){return!Ir||Z!==null&&Z.l===null}function Fu(e){return Z===null&&_i(),Z.c??(Z.c=new Map(Rm(Z)||void 0))}function Rm(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}let Nn=[];function Ru(){var e=Nn;Nn=[],Ji(e)}function en(e){if(Nn.length===0&&!ei){var t=Nn;queueMicrotask(()=>{t===Nn&&Ru()})}Nn.push(e)}function Lm(){for(;Nn.length>0;)Ru()}function Lu(e){var t=ne;if(t===null)return z.f|=gn,e;if((t.f&as)===0){if((t.f&ko)===0)throw e;t.b.error(e)}else wr(e,t)}function wr(e,t){for(;t!==null;){if((t.f&ko)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const ki=new Set;let W=null,Jr=null,ge=null,ot=[],Co=null,xa=!1,ei=!1;var _r,gr,Cn,On,mi,yr,Mr,xe,Sa,Yr,Ta,ju,Du;const Ao=class Ao{constructor(){Q(this,xe);St(this,"committed",!1);St(this,"current",new Map);St(this,"previous",new Map);Q(this,_r,new Set);Q(this,gr,new Set);Q(this,Cn,0);Q(this,On,0);Q(this,mi,null);Q(this,yr,new Set);Q(this,Mr,new Set);St(this,"skipped_effects",new Set);St(this,"is_fork",!1)}is_deferred(){return this.is_fork||A(this,On)>0}process(t){var r;ot=[],Jr=null,this.apply();var n={parent:null,effect:null,effects:[],render_effects:[]};for(const i of t)_e(this,xe,Sa).call(this,i,n);this.is_fork||_e(this,xe,ju).call(this),this.is_deferred()?(_e(this,xe,Yr).call(this,n.effects),_e(this,xe,Yr).call(this,n.render_effects)):(Jr=this,W=null,vl(n.render_effects),vl(n.effects),Jr=null,(r=A(this,mi))==null||r.resolve()),ge=null}capture(t,n){this.previous.has(t)||this.previous.set(t,n),(t.f&gn)===0&&(this.current.set(t,t.v),ge==null||ge.set(t,t.v))}activate(){W=this,this.apply()}deactivate(){W===this&&(W=null,ge=null)}flush(){if(this.activate(),ot.length>0){if(Hu(),W!==null&&W!==this)return}else A(this,Cn)===0&&this.process([]);this.deactivate()}discard(){for(const t of A(this,gr))t(this);A(this,gr).clear()}increment(t){G(this,Cn,A(this,Cn)+1),t&&G(this,On,A(this,On)+1)}decrement(t){G(this,Cn,A(this,Cn)-1),t&&G(this,On,A(this,On)-1),this.revive()}revive(){for(const t of A(this,yr))A(this,Mr).delete(t),Te(t,Ve),Xn(t);for(const t of A(this,Mr))Te(t,pt),Xn(t);this.flush()}oncommit(t){A(this,_r).add(t)}ondiscard(t){A(this,gr).add(t)}settled(){return(A(this,mi)??G(this,mi,Eu())).promise}static ensure(){if(W===null){const t=W=new Ao;ki.add(W),ei||Ao.enqueue(()=>{W===t&&t.flush()})}return W}static enqueue(t){en(t)}apply(){}};_r=new WeakMap,gr=new WeakMap,Cn=new WeakMap,On=new WeakMap,mi=new WeakMap,yr=new WeakMap,Mr=new WeakMap,xe=new WeakSet,Sa=function(t,n){var m;t.f^=Ae;for(var r=t.first;r!==null;){var i=r.f,a=(i&(rn|Kn))!==0,s=a&&(i&Ae)!==0,u=s||(i&Ye)!==0||this.skipped_effects.has(r);if((r.f&ko)!==0&&((m=r.b)!=null&&m.is_pending())&&(n={parent:n,effect:r,effects:[],render_effects:[]}),!u&&r.fn!==null){a?r.f^=Ae:(i&Eo)!==0?n.effects.push(r):Fr(r)&&((r.f&nn)!==0&&A(this,yr).add(r),xr(r));var c=r.first;if(c!==null){r=c;continue}}var f=r.parent;for(r=r.next;r===null&&f!==null;)f===n.effect&&(_e(this,xe,Yr).call(this,n.effects),_e(this,xe,Yr).call(this,n.render_effects),n=n.parent),r=f.next,f=f.parent}},Yr=function(t){for(const n of t)(n.f&Ve)!==0?A(this,yr).add(n):(n.f&pt)!==0&&A(this,Mr).add(n),_e(this,xe,Ta).call(this,n.deps),Te(n,Ae)},Ta=function(t){if(t!==null)for(const n of t)(n.f&Ee)===0||(n.f&Gn)===0||(n.f^=Gn,_e(this,xe,Ta).call(this,n.deps))},ju=function(){if(A(this,On)===0){for(const t of A(this,_r))t();A(this,_r).clear()}A(this,Cn)===0&&_e(this,xe,Du).call(this)},Du=function(){var a;if(ki.size>1){this.previous.clear();var t=ge,n=!0,r={parent:null,effect:null,effects:[],render_effects:[]};for(const s of ki){if(s===this){n=!1;continue}const u=[];for(const[f,m]of this.current){if(s.current.has(f))if(n&&m!==s.current.get(f))s.current.set(f,m);else continue;u.push(f)}if(u.length===0)continue;const c=[...s.current.keys()].filter(f=>!this.current.has(f));if(c.length>0){var i=ot;ot=[];const f=new Set,m=new Map;for(const o of u)Bu(o,c,f,m);if(ot.length>0){W=s,s.apply();for(const o of ot)_e(a=s,xe,Sa).call(a,o,r);s.deactivate()}ot=i}}W=null,ge=t}this.committed=!0,ki.delete(this)};let Qt=Ao;function jm(e){var t=ei;ei=!0;try{for(var n;;){if(Lm(),ot.length===0&&(W==null||W.flush(),ot.length===0))return Co=null,n;Hu()}}finally{ei=t}}function Hu(){var e=Dn;xa=!0;var t=null;try{var n=0;for(no(!0);ot.length>0;){var r=Qt.ensure();if(n++>1e3){var i,a;Dm()}r.process(ot),yn.clear()}}finally{xa=!1,no(e),Co=null}}function Dm(){try{cm()}catch(e){wr(e,Co)}}let ut=null;function vl(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Kt|Ye))===0&&Fr(r)&&(ut=new Set,xr(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?of(r):r.fn=null),(ut==null?void 0:ut.size)>0)){yn.clear();for(const i of ut){if((i.f&(Kt|Ye))!==0)continue;const a=[i];let s=i.parent;for(;s!==null;)ut.has(s)&&(ut.delete(s),a.push(s)),s=s.parent;for(let u=a.length-1;u>=0;u--){const c=a[u];(c.f&(Kt|Ye))===0&&xr(c)}}ut.clear()}}ut=null}}function Bu(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const a=i.f;(a&Ee)!==0?Bu(i,t,n,r):(a&(ls|nn))!==0&&(a&Ve)===0&&Vu(i,t,r)&&(Te(i,Ve),Xn(i))}}function Vu(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(t.includes(i))return!0;if((i.f&Ee)!==0&&Vu(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function Xn(e){for(var t=Co=e;t.parent!==null;){t=t.parent;var n=t.f;if(xa&&t===ne&&(n&nn)!==0&&(n&ss)===0)return;if((n&(Kn|rn))!==0){if((n&Ae)===0)return;t.f^=Ae}}ot.push(t)}function Hm(e){let t=0,n=Wn(0),r;return()=>{ii()&&(g(n),Jn(()=>(t===0&&(r=j(()=>e(()=>ti(n)))),t+=1,()=>{en(()=>{t-=1,t===0&&(r==null||r(),r=void 0,ti(n))})})))}}var Bm=Pr|Or|ko;function Vm(e,t,n){new qm(e,t,n)}var nt,rt,is,Tt,In,Et,it,Le,Nt,zt,mn,$n,hn,Fn,pn,xo,ye,Gm,Xm,Ea,Bi,Vi,Na;class qm{constructor(t,n,r){Q(this,ye);St(this,"parent");Q(this,nt,!1);Q(this,rt);Q(this,is,null);Q(this,Tt);Q(this,In);Q(this,Et);Q(this,it,null);Q(this,Le,null);Q(this,Nt,null);Q(this,zt,null);Q(this,mn,null);Q(this,$n,0);Q(this,hn,0);Q(this,Fn,!1);Q(this,pn,null);Q(this,xo,Hm(()=>(G(this,pn,Wn(A(this,$n))),()=>{G(this,pn,null)})));G(this,rt,t),G(this,Tt,n),G(this,In,r),this.parent=ne.b,G(this,nt,!!A(this,Tt).pending),G(this,Et,Io(()=>{ne.b=this;{var i=_e(this,ye,Ea).call(this);try{G(this,it,je(()=>r(i)))}catch(a){this.error(a)}A(this,hn)>0?_e(this,ye,Vi).call(this):G(this,nt,!1)}return()=>{var a;(a=A(this,mn))==null||a.remove()}},Bm))}is_pending(){return A(this,nt)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!A(this,Tt).pending}update_pending_count(t){_e(this,ye,Na).call(this,t),G(this,$n,A(this,$n)+t),A(this,pn)&&Yn(A(this,pn),A(this,$n))}get_effect_pending(){return A(this,xo).call(this),g(A(this,pn))}error(t){var n=A(this,Tt).onerror;let r=A(this,Tt).failed;if(A(this,Fn)||!n&&!r)throw t;A(this,it)&&(Se(A(this,it)),G(this,it,null)),A(this,Le)&&(Se(A(this,Le)),G(this,Le,null)),A(this,Nt)&&(Se(A(this,Nt)),G(this,Nt,null));var i=!1,a=!1;const s=()=>{if(i){Om();return}i=!0,a&&_m(),Qt.ensure(),G(this,$n,0),A(this,Nt)!==null&&jn(A(this,Nt),()=>{G(this,Nt,null)}),G(this,nt,this.has_pending_snippet()),G(this,it,_e(this,ye,Bi).call(this,()=>(G(this,Fn,!1),je(()=>A(this,In).call(this,A(this,rt)))))),A(this,hn)>0?_e(this,ye,Vi).call(this):G(this,nt,!1)};var u=z;try{He(null),a=!0,n==null||n(t,s),a=!1}catch(c){wr(c,A(this,Et)&&A(this,Et).parent)}finally{He(u)}r&&en(()=>{G(this,Nt,_e(this,ye,Bi).call(this,()=>{Qt.ensure(),G(this,Fn,!0);try{return je(()=>{r(A(this,rt),()=>t,()=>s)})}catch(c){return wr(c,A(this,Et).parent),null}finally{G(this,Fn,!1)}}))})}}nt=new WeakMap,rt=new WeakMap,is=new WeakMap,Tt=new WeakMap,In=new WeakMap,Et=new WeakMap,it=new WeakMap,Le=new WeakMap,Nt=new WeakMap,zt=new WeakMap,mn=new WeakMap,$n=new WeakMap,hn=new WeakMap,Fn=new WeakMap,pn=new WeakMap,xo=new WeakMap,ye=new WeakSet,Gm=function(){try{G(this,it,je(()=>A(this,In).call(this,A(this,rt))))}catch(t){this.error(t)}G(this,nt,!1)},Xm=function(){const t=A(this,Tt).pending;t&&(G(this,Le,je(()=>t(A(this,rt)))),Qt.enqueue(()=>{var n=_e(this,ye,Ea).call(this);G(this,it,_e(this,ye,Bi).call(this,()=>(Qt.ensure(),je(()=>A(this,In).call(this,n))))),A(this,hn)>0?_e(this,ye,Vi).call(this):(jn(A(this,Le),()=>{G(this,Le,null)}),G(this,nt,!1))}))},Ea=function(){var t=A(this,rt);return A(this,nt)&&(G(this,mn,It()),A(this,rt).before(A(this,mn)),t=A(this,mn)),t},Bi=function(t){var n=ne,r=z,i=Z;jt(A(this,Et)),He(A(this,Et)),br(A(this,Et).ctx);try{return t()}catch(a){return Lu(a),null}finally{jt(n),He(r),br(i)}},Vi=function(){const t=A(this,Tt).pending;A(this,it)!==null&&(G(this,zt,document.createDocumentFragment()),A(this,zt).append(A(this,mn)),lf(A(this,it),A(this,zt))),A(this,Le)===null&&G(this,Le,je(()=>t(A(this,rt))))},Na=function(t){var n;if(!this.has_pending_snippet()){this.parent&&_e(n=this.parent,ye,Na).call(n,t);return}G(this,hn,A(this,hn)+t),A(this,hn)===0&&(G(this,nt,!1),A(this,Le)&&jn(A(this,Le),()=>{G(this,Le,null)}),A(this,zt)&&(A(this,rt).before(A(this,zt)),G(this,zt,null)))};function fs(e,t,n,r){const i=gi()?yi:cs;if(n.length===0&&e.length===0){r(t.map(i));return}var a=W,s=ne,u=Wm();function c(){Promise.all(n.map(f=>Ym(f))).then(f=>{u();try{r([...t.map(i),...f])}catch(m){(s.f&Kt)===0&&wr(m,s)}a==null||a.deactivate(),eo()}).catch(f=>{wr(f,s)})}e.length>0?Promise.all(e).then(()=>{u();try{return c()}finally{a==null||a.deactivate(),eo()}}):c()}function Wm(){var e=ne,t=z,n=Z,r=W;return function(a=!0){jt(e),He(t),br(n),a&&(r==null||r.activate())}}function eo(){jt(null),He(null),br(null)}function yi(e){var t=Ee|Ve,n=z!==null&&(z.f&Ee)!==0?z:null;return ne!==null&&(ne.f|=Or),{ctx:Z,deps:null,effects:null,equals:Ou,f:t,fn:e,reactions:null,rv:0,v:we,wv:0,parent:n??ne,ac:null}}function Ym(e,t){let n=ne;n===null&&sm();var r=n.b,i=void 0,a=Wn(we),s=!z,u=new Map;return ih(()=>{var l;var c=Eu();i=c.promise;try{Promise.resolve(e()).then(c.resolve,c.reject).then(()=>{f===W&&f.committed&&f.deactivate(),eo()})}catch(d){c.reject(d),eo()}var f=W;if(s){var m=!r.is_pending();r.update_pending_count(1),f.increment(m),(l=u.get(f))==null||l.reject(dr),u.delete(f),u.set(f,c)}const o=(d,h=void 0)=>{if(f.activate(),h)h!==dr&&(a.f|=gn,Yn(a,h));else{(a.f&gn)!==0&&(a.f^=gn),Yn(a,d);for(const[_,v]of u){if(u.delete(_),_===f)break;v.reject(dr)}}s&&(r.update_pending_count(-1),f.decrement(m))};c.promise.then(o,d=>o(null,d||"unknown"))}),$r(()=>{for(const c of u.values())c.reject(dr)}),new Promise(c=>{function f(m){function o(){m===i?c(a):f(i)}m.then(o,o)}f(i)})}function zm(e){const t=yi(e);return ff(t),t}function cs(e){const t=yi(e);return t.equals=Iu,t}function qu(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Se(t[n])}}function Um(e){for(var t=e.parent;t!==null;){if((t.f&Ee)===0)return(t.f&Kt)===0?t:null;t=t.parent}return null}function ds(e){var t,n=ne;jt(Um(e));try{e.f&=~Gn,qu(e),t=hf(e)}finally{jt(n)}return t}function Gu(e){var t=ds(e);if(e.equals(t)||(W!=null&&W.is_fork||(e.v=t),e.wv=df()),!er)if(ge!==null)(ii()||W!=null&&W.is_fork)&&ge.set(e,t);else{var n=(e.f&ht)===0?pt:Ae;Te(e,n)}}let ka=new Set;const yn=new Map;let Xu=!1;function Wn(e,t){var n={f:0,v:e,reactions:null,equals:Ou,rv:0,wv:0};return n}function fn(e,t){const n=Wn(e);return ff(n),n}function B(e,t=!1,n=!0){var i;const r=Wn(e);return t||(r.equals=Iu),Ir&&n&&Z!==null&&Z.l!==null&&((i=Z.l).s??(i.s=[])).push(r),r}function Ci(e,t){return E(e,j(()=>g(e))),t}function E(e,t,n=!1){z!==null&&(!Ct||(z.f&pl)!==0)&&gi()&&(z.f&(Ee|nn|ls|pl))!==0&&!($e!=null&&$e.includes(e))&&vm();let r=n?mr(t):t;return Yn(e,r)}function Yn(e,t){if(!e.equals(t)){var n=e.v;er?yn.set(e,t):yn.set(e,n),e.v=t;var r=Qt.ensure();r.capture(e,n),(e.f&Ee)!==0&&((e.f&Ve)!==0&&ds(e),Te(e,(e.f&ht)!==0?Ae:pt)),e.wv=df(),Wu(e,Ve),gi()&&ne!==null&&(ne.f&Ae)!==0&&(ne.f&(rn|Kn))===0&&(tt===null?uh([e]):tt.push(e)),!r.is_fork&&ka.size>0&&!Xu&&Qm()}return t}function Qm(){Xu=!1;var e=Dn;no(!0);const t=Array.from(ka);try{for(const n of t)(n.f&Ae)!==0&&Te(n,pt),Fr(n)&&xr(n)}finally{no(e)}ka.clear()}function ti(e){E(e,e.v+1)}function Wu(e,t){var n=e.reactions;if(n!==null)for(var r=gi(),i=n.length,a=0;a<i;a++){var s=n[a],u=s.f;if(!(!r&&s===ne)){var c=(u&Ve)===0;if(c&&Te(s,t),(u&Ee)!==0){var f=s;ge==null||ge.delete(f),(u&Gn)===0&&(u&ht&&(s.f|=Gn),Wu(f,pt))}else c&&((u&nn)!==0&&ut!==null&&ut.add(s),Xn(s))}}}function mr(e){if(typeof e!="object"||e===null||Jt in e)return e;const t=os(e);if(t!==tm&&t!==nm)return e;var n=new Map,r=vi(e),i=fn(0),a=Hn,s=u=>{if(Hn===a)return u();var c=z,f=Hn;He(null),Ml(a);var m=u();return He(c),Ml(f),m};return r&&n.set("length",fn(e.length)),new Proxy(e,{defineProperty(u,c,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&hm();var m=n.get(c);return m===void 0?m=s(()=>{var o=fn(f.value);return n.set(c,o),o}):E(m,f.value,!0),!0},deleteProperty(u,c){var f=n.get(c);if(f===void 0){if(c in u){const m=s(()=>fn(we));n.set(c,m),ti(i)}}else E(f,we),ti(i);return!0},get(u,c,f){var d;if(c===Jt)return e;var m=n.get(c),o=c in u;if(m===void 0&&(!o||(d=Ln(u,c))!=null&&d.writable)&&(m=s(()=>{var h=mr(o?u[c]:we),_=fn(h);return _}),n.set(c,m)),m!==void 0){var l=g(m);return l===we?void 0:l}return Reflect.get(u,c,f)},getOwnPropertyDescriptor(u,c){var f=Reflect.getOwnPropertyDescriptor(u,c);if(f&&"value"in f){var m=n.get(c);m&&(f.value=g(m))}else if(f===void 0){var o=n.get(c),l=o==null?void 0:o.v;if(o!==void 0&&l!==we)return{enumerable:!0,configurable:!0,value:l,writable:!0}}return f},has(u,c){var l;if(c===Jt)return!0;var f=n.get(c),m=f!==void 0&&f.v!==we||Reflect.has(u,c);if(f!==void 0||ne!==null&&(!m||(l=Ln(u,c))!=null&&l.writable)){f===void 0&&(f=s(()=>{var d=m?mr(u[c]):we,h=fn(d);return h}),n.set(c,f));var o=g(f);if(o===we)return!1}return m},set(u,c,f,m){var b;var o=n.get(c),l=c in u;if(r&&c==="length")for(var d=f;d<o.v;d+=1){var h=n.get(d+"");h!==void 0?E(h,we):d in u&&(h=s(()=>fn(we)),n.set(d+"",h))}if(o===void 0)(!l||(b=Ln(u,c))!=null&&b.writable)&&(o=s(()=>fn(void 0)),E(o,mr(f)),n.set(c,o));else{l=o.v!==we;var _=s(()=>mr(f));E(o,_)}var v=Reflect.getOwnPropertyDescriptor(u,c);if(v!=null&&v.set&&v.set.call(m,f),!l){if(r&&typeof c=="string"){var p=n.get("length"),w=Number(c);Number.isInteger(w)&&w>=p.v&&E(p,w+1)}ti(i)}return!0},ownKeys(u){g(i);var c=Reflect.ownKeys(u).filter(o=>{var l=n.get(o);return l===void 0||l.v!==we});for(var[f,m]of n)m.v!==we&&!(f in u)&&c.push(f);return c},setPrototypeOf(){pm()}})}function _l(e){try{if(e!==null&&typeof e=="object"&&Jt in e)return e[Jt]}catch{}return e}function Yu(e,t){return Object.is(_l(e),_l(t))}var to,zu,Uu,Qu,Zu;function Zm(){if(to===void 0){to=window,zu=document,Uu=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Qu=Ln(t,"firstChild").get,Zu=Ln(t,"nextSibling").get,hl(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),hl(n)&&(n.__t=void 0)}}function It(e=""){return document.createTextNode(e)}function Ar(e){return Qu.call(e)}function Mi(e){return Zu.call(e)}function I(e,t){return Ar(e)}function Ne(e,t=!1){{var n=Ar(e);return n instanceof Comment&&n.data===""?Mi(n):n}}function H(e,t=1,n=!1){let r=e;for(;t--;)r=Mi(r);return r}function Km(e){e.textContent=""}function Ku(){return!1}function Jm(e,t){if(t){const n=document.body;e.autofocus=!0,en(()=>{document.activeElement===n&&e.focus()})}}let gl=!1;function eh(){gl||(gl=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function Oo(e){var t=z,n=ne;He(null),jt(null);try{return e()}finally{He(t),jt(n)}}function ms(e,t,n,r=n){e.addEventListener(t,()=>Oo(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),eh()}function Ju(e){ne===null&&(z===null&&fm(),um()),er&&lm()}function th(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function at(e,t,n){var r=ne;r!==null&&(r.f&Ye)!==0&&(e|=Ye);var i={ctx:Z,deps:null,nodes:null,f:e|Ve|ht,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{xr(i),i.f|=as}catch(u){throw Se(i),u}else t!==null&&Xn(i);var a=i;if(n&&a.deps===null&&a.teardown===null&&a.nodes===null&&a.first===a.last&&(a.f&Or)===0&&(a=a.first,(e&nn)!==0&&(e&Pr)!==0&&a!==null&&(a.f|=Pr)),a!==null&&(a.parent=r,r!==null&&th(a,r),z!==null&&(z.f&Ee)!==0&&(e&Kn)===0)){var s=z;(s.effects??(s.effects=[])).push(a)}return i}function ii(){return z!==null&&!Ct}function $r(e){const t=at(No,null,!1);return Te(t,Ae),t.teardown=e,t}function Ca(e){Ju();var t=ne.f,n=!z&&(t&rn)!==0&&(t&as)===0;if(n){var r=Z;(r.e??(r.e=[])).push(e)}else return ef(e)}function ef(e){return at(Eo|ku,e,!1)}function nh(e){return Ju(),at(No|ku,e,!0)}function rh(e){Qt.ensure();const t=at(Kn|Or,e,!0);return(n={})=>new Promise(r=>{n.outro?jn(t,()=>{Se(t),r(void 0)}):(Se(t),r(void 0))})}function Zt(e){return at(Eo,e,!1)}function D(e,t){var n=Z,r={effect:null,ran:!1,deps:e};n.l.$.push(r),r.effect=Jn(()=>{e(),!r.ran&&(r.ran=!0,j(t))})}function bn(){var e=Z;Jn(()=>{for(var t of e.l.$){t.deps();var n=t.effect;(n.f&Ae)!==0&&Te(n,pt),Fr(n)&&xr(n),t.ran=!1}})}function ih(e){return at(ls|Or,e,!0)}function Jn(e,t=0){return at(No|t,e,!0)}function ie(e,t=[],n=[],r=[]){fs(r,t,n,i=>{at(No,()=>e(...i.map(g)),!0)})}function oh(e,t=[],n=[],r=[]){var i=W,a=n.length>0||r.length>0;a&&i.increment(!0),fs(r,t,n,s=>{at(Eo,()=>e(...s.map(g)),!1),a&&i.decrement(!0)})}function Io(e,t=0){var n=at(nn|t,e,!0);return n}function tf(e,t=0){var n=at(Nu|t,e,!0);return n}function je(e){return at(rn|Or,e,!0)}function nf(e){var t=e.teardown;if(t!==null){const n=er,r=z;yl(!0),He(null);try{t.call(null)}finally{yl(n),He(r)}}}function rf(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&Oo(()=>{i.abort(dr)});var r=n.next;(n.f&Kn)!==0?n.parent=null:Se(n,t),n=r}}function ah(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&rn)===0&&Se(t),t=n}}function Se(e,t=!0){var n=!1;(t||(e.f&ss)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(sh(e.nodes.start,e.nodes.end),n=!0),rf(e,t&&!n),ro(e,0),Te(e,Kt);var r=e.nodes&&e.nodes.t;if(r!==null)for(const a of r)a.stop();nf(e);var i=e.parent;i!==null&&i.first!==null&&of(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function sh(e,t){for(;e!==null;){var n=e===t?null:Mi(e);e.remove(),e=n}}function of(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function jn(e,t,n=!0){var r=[];af(e,r,!0);var i=()=>{n&&Se(e),t&&t()},a=r.length;if(a>0){var s=()=>--a||i();for(var u of r)u.out(s)}else i()}function af(e,t,n){if((e.f&Ye)===0){e.f^=Ye;var r=e.nodes&&e.nodes.t;if(r!==null)for(const u of r)(u.is_global||n)&&t.push(u);for(var i=e.first;i!==null;){var a=i.next,s=(i.f&Pr)!==0||(i.f&rn)!==0&&(e.f&nn)!==0;af(i,t,s?n:!1),i=a}}}function hs(e){sf(e,!0)}function sf(e,t){if((e.f&Ye)!==0){e.f^=Ye,(e.f&Ae)===0&&(Te(e,Ve),Xn(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&Pr)!==0||(n.f&rn)!==0;sf(n,i?t:!1),n=r}var a=e.nodes&&e.nodes.t;if(a!==null)for(const s of a)(s.is_global||t)&&s.in()}}function lf(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var i=n===r?null:Mi(n);t.append(n),n=i}}let dn=null;function lh(e){var t=dn;try{if(dn=new Set,j(e),t!==null)for(var n of dn)t.add(n);return dn}finally{dn=t}}function uf(e){for(var t of lh(e))Yn(t,t.v)}let Dn=!1;function no(e){Dn=e}let er=!1;function yl(e){er=e}let z=null,Ct=!1;function He(e){z=e}let ne=null;function jt(e){ne=e}let $e=null;function ff(e){z!==null&&($e===null?$e=[e]:$e.push(e))}let Ie=null,Ge=0,tt=null;function uh(e){tt=e}let cf=1,oi=0,Hn=oi;function Ml(e){Hn=e}function df(){return++cf}function Fr(e){var t=e.f;if((t&Ve)!==0)return!0;if(t&Ee&&(e.f&=~Gn),(t&pt)!==0){var n=e.deps;if(n!==null)for(var r=n.length,i=0;i<r;i++){var a=n[i];if(Fr(a)&&Gu(a),a.wv>e.wv)return!0}(t&ht)!==0&&ge===null&&Te(e,Ae)}return!1}function mf(e,t,n=!0){var r=e.reactions;if(r!==null&&!($e!=null&&$e.includes(e)))for(var i=0;i<r.length;i++){var a=r[i];(a.f&Ee)!==0?mf(a,t,!1):t===a&&(n?Te(a,Ve):(a.f&Ae)!==0&&Te(a,pt),Xn(a))}}function hf(e){var h;var t=Ie,n=Ge,r=tt,i=z,a=$e,s=Z,u=Ct,c=Hn,f=e.f;Ie=null,Ge=0,tt=null,z=(f&(rn|Kn))===0?e:null,$e=null,br(e.ctx),Ct=!1,Hn=++oi,e.ac!==null&&(Oo(()=>{e.ac.abort(dr)}),e.ac=null);try{e.f|=Aa;var m=e.fn,o=m(),l=e.deps;if(Ie!==null){var d;if(ro(e,Ge),l!==null&&Ge>0)for(l.length=Ge+Ie.length,d=0;d<Ie.length;d++)l[Ge+d]=Ie[d];else e.deps=l=Ie;if(ii()&&(e.f&ht)!==0)for(d=Ge;d<l.length;d++)((h=l[d]).reactions??(h.reactions=[])).push(e)}else l!==null&&Ge<l.length&&(ro(e,Ge),l.length=Ge);if(gi()&&tt!==null&&!Ct&&l!==null&&(e.f&(Ee|pt|Ve))===0)for(d=0;d<tt.length;d++)mf(tt[d],e);return i!==null&&i!==e&&(oi++,tt!==null&&(r===null?r=tt:r.push(...tt))),(e.f&gn)!==0&&(e.f^=gn),o}catch(_){return Lu(_)}finally{e.f^=Aa,Ie=t,Ge=n,tt=r,z=i,$e=a,br(s),Ct=u,Hn=c}}function fh(e,t){let n=t.reactions;if(n!==null){var r=em.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(t.f&Ee)!==0&&(Ie===null||!Ie.includes(t))&&(Te(t,pt),(t.f&ht)!==0&&(t.f^=ht,t.f&=~Gn),qu(t),ro(t,0))}function ro(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)fh(e,n[r])}function xr(e){var t=e.f;if((t&Kt)===0){Te(e,Ae);var n=ne,r=Dn;ne=e,Dn=!0;try{(t&(nn|Nu))!==0?ah(e):rf(e),nf(e);var i=hf(e);e.teardown=typeof i=="function"?i:null,e.wv=cf;var a;wa&&Im&&(e.f&Ve)!==0&&e.deps}finally{Dn=r,ne=n}}}async function pf(){await Promise.resolve(),jm()}function g(e){var t=e.f,n=(t&Ee)!==0;if(dn==null||dn.add(e),z!==null&&!Ct){var r=ne!==null&&(ne.f&Kt)!==0;if(!r&&!($e!=null&&$e.includes(e))){var i=z.deps;if((z.f&Aa)!==0)e.rv<oi&&(e.rv=oi,Ie===null&&i!==null&&i[Ge]===e?Ge++:Ie===null?Ie=[e]:Ie.includes(e)||Ie.push(e));else{(z.deps??(z.deps=[])).push(e);var a=e.reactions;a===null?e.reactions=[z]:a.includes(z)||a.push(z)}}}if(er){if(yn.has(e))return yn.get(e);if(n){var s=e,u=s.v;return((s.f&Ae)===0&&s.reactions!==null||_f(s))&&(u=ds(s)),yn.set(s,u),u}}else n&&(!(ge!=null&&ge.has(e))||W!=null&&W.is_fork&&!ii())&&(s=e,Fr(s)&&Gu(s),Dn&&ii()&&(s.f&ht)===0&&vf(s));if(ge!=null&&ge.has(e))return ge.get(e);if((e.f&gn)!==0)throw e.v;return e.v}function vf(e){if(e.deps!==null){e.f^=ht;for(const t of e.deps)(t.reactions??(t.reactions=[])).push(e),(t.f&Ee)!==0&&(t.f&ht)===0&&vf(t)}}function _f(e){if(e.v===we)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(yn.has(t)||(t.f&Ee)!==0&&_f(t))return!0;return!1}function j(e){var t=Ct;try{return Ct=!0,e()}finally{Ct=t}}const ch=-7169;function Te(e,t){e.f=e.f&ch|t}function S(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Jt in e)Oa(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Jt in n&&Oa(n)}}}function Oa(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Oa(e[r],t)}catch{}const n=os(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Tu(n);for(let i in r){const a=r[i].get;if(a)try{a.call(e)}catch{}}}}}function dh(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const mh=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function hh(e){return mh.includes(e)}const ph={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function vh(e){return e=e.toLowerCase(),ph[e]??e}const _h=["touchstart","touchmove"];function gh(e){return _h.includes(e)}const gf=new Set,Ia=new Set;function yf(e,t,n,r={}){function i(a){if(r.capture||zr.call(t,a),!a.cancelBubble)return Oo(()=>n==null?void 0:n.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?en(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function se(e,t,n,r,i){var a={capture:r,passive:i},s=yf(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&$r(()=>{t.removeEventListener(e,s,a)})}function yh(e){for(var t=0;t<e.length;t++)gf.add(e[t]);for(var n of Ia)n(e)}let Pl=null;function zr(e){var v;var t=this,n=t.ownerDocument,r=e.type,i=((v=e.composedPath)==null?void 0:v.call(e))||[],a=i[0]||e.target;Pl=e;var s=0,u=Pl===e&&e.__root;if(u){var c=i.indexOf(u);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var f=i.indexOf(t);if(f===-1)return;c<=f&&(s=c)}if(a=i[s]||e.target,a!==t){Su(e,"currentTarget",{configurable:!0,get(){return a||n}});var m=z,o=ne;He(null),jt(null);try{for(var l,d=[];a!==null;){var h=a.assignedSlot||a.parentNode||a.host||null;try{var _=a["__"+r];_!=null&&(!a.disabled||e.target===a)&&_.call(a,e)}catch(p){l?d.push(p):l=p}if(e.cancelBubble||h===t||h===null)break;a=h}if(l){for(let p of d)queueMicrotask(()=>{throw p});throw l}}finally{e.__root=t,delete e.currentTarget,He(m),jt(o)}}}function Mf(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function ai(e,t){var n=ne;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function ee(e,t){var n=(t&Tm)!==0,r=(t&Em)!==0,i,a=!e.startsWith("<!>");return()=>{i===void 0&&(i=Mf(a?e:"<!>"+e),n||(i=Ar(i)));var s=r||Uu?document.importNode(i,!0):i.cloneNode(!0);if(n){var u=Ar(s),c=s.lastChild;ai(u,c)}else ai(s,s);return s}}function Mh(e,t,n="svg"){var r=!e.startsWith("<!>"),i=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(!a){var s=Mf(i),u=Ar(s);a=Ar(u)}var c=a.cloneNode(!0);return ai(c,c),c}}function Pt(e,t){return Mh(e,t,"svg")}function fa(e=""){{var t=It(e+"");return ai(t,t),t}}function Xe(){var e=document.createDocumentFragment(),t=document.createComment(""),n=It();return e.append(t,n),ai(t,n),e}function $(e,t){e!==null&&e.before(t)}function De(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Ph(e,t){return bh(e,t)}const ur=new Map;function bh(e,{target:t,anchor:n,props:r={},events:i,context:a,intro:s=!0}){Zm();var u=new Set,c=o=>{for(var l=0;l<o.length;l++){var d=o[l];if(!u.has(d)){u.add(d);var h=gh(d);t.addEventListener(d,zr,{passive:h});var _=ur.get(d);_===void 0?(document.addEventListener(d,zr,{passive:h}),ur.set(d,1)):ur.set(d,_+1)}}};c(To(gf)),Ia.add(c);var f=void 0,m=rh(()=>{var o=n??t.appendChild(It());return Vm(o,{pending:()=>{}},l=>{if(a){Ue({});var d=Z;d.c=a}i&&(r.$$events=i),f=e(l,r)||{},a&&Qe()}),()=>{var h;for(var l of u){t.removeEventListener(l,zr);var d=ur.get(l);--d===0?(document.removeEventListener(l,zr),ur.delete(l)):ur.set(l,d)}Ia.delete(c),o!==n&&((h=o.parentNode)==null||h.removeChild(o))}});return wh.set(f,m),f}let wh=new WeakMap;var ft,kt,We,Rn,hi,pi,So;class Ah{constructor(t,n=!0){St(this,"anchor");Q(this,ft,new Map);Q(this,kt,new Map);Q(this,We,new Map);Q(this,Rn,new Set);Q(this,hi,!0);Q(this,pi,()=>{var t=W;if(A(this,ft).has(t)){var n=A(this,ft).get(t),r=A(this,kt).get(n);if(r)hs(r),A(this,Rn).delete(n);else{var i=A(this,We).get(n);i&&(A(this,kt).set(n,i.effect),A(this,We).delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[a,s]of A(this,ft)){if(A(this,ft).delete(a),a===t)break;const u=A(this,We).get(s);u&&(Se(u.effect),A(this,We).delete(s))}for(const[a,s]of A(this,kt)){if(a===n||A(this,Rn).has(a))continue;const u=()=>{if(Array.from(A(this,ft).values()).includes(a)){var f=document.createDocumentFragment();lf(s,f),f.append(It()),A(this,We).set(a,{effect:s,fragment:f})}else Se(s);A(this,Rn).delete(a),A(this,kt).delete(a)};A(this,hi)||!r?(A(this,Rn).add(a),jn(s,u,!1)):u()}}});Q(this,So,t=>{A(this,ft).delete(t);const n=Array.from(A(this,ft).values());for(const[r,i]of A(this,We))n.includes(r)||(Se(i.effect),A(this,We).delete(r))});this.anchor=t,G(this,hi,n)}ensure(t,n){var r=W,i=Ku();if(n&&!A(this,kt).has(t)&&!A(this,We).has(t))if(i){var a=document.createDocumentFragment(),s=It();a.append(s),A(this,We).set(t,{effect:je(()=>n(s)),fragment:a})}else A(this,kt).set(t,je(()=>n(this.anchor)));if(A(this,ft).set(r,t),i){for(const[u,c]of A(this,kt))u===t?r.skipped_effects.delete(c):r.skipped_effects.add(c);for(const[u,c]of A(this,We))u===t?r.skipped_effects.delete(c.effect):r.skipped_effects.add(c.effect);r.oncommit(A(this,pi)),r.ondiscard(A(this,So))}else A(this,pi).call(this)}}ft=new WeakMap,kt=new WeakMap,We=new WeakMap,Rn=new WeakMap,hi=new WeakMap,pi=new WeakMap,So=new WeakMap;function he(e,t,n=!1){var r=new Ah(e),i=n?Pr:0;function a(s,u){r.ensure(s,u)}Io(()=>{var s=!1;t((u,c=!0)=>{s=!0,a(c,u)}),s||a(!1,null)},i)}function $t(e,t){return t}function xh(e,t,n){for(var r=[],i=t.length,a,s=t.length,u=0;u<i;u++){let o=t[u];jn(o,()=>{if(a){if(a.pending.delete(o),a.done.add(o),a.pending.size===0){var l=e.outrogroups;$a(To(a.done)),l.delete(a),l.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var c=r.length===0&&n!==null;if(c){var f=n,m=f.parentNode;Km(m),m.append(f),e.items.clear()}$a(t,!c)}else a={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(a)}function $a(e,t=!0){for(var n=0;n<e.length;n++)Se(e[n],t)}var bl;function Ft(e,t,n,r,i,a=null){var s=e,u=new Map,c=(t&Cu)!==0;if(c){var f=e;s=f.appendChild(It())}var m=null,o=cs(()=>{var p=n();return vi(p)?p:p==null?[]:To(p)}),l,d=!0;function h(){v.fallback=m,Sh(v,l,s,t,r),m!==null&&(l.length===0?(m.f&Ut)===0?hs(m):(m.f^=Ut,Ur(m,null,s)):jn(m,()=>{m=null}))}var _=Io(()=>{l=g(o);for(var p=l.length,w=new Set,b=W,P=Ku(),T=0;T<p;T+=1){var F=l[T],N=r(F,T),M=d?null:u.get(N);M?(M.v&&Yn(M.v,F),M.i&&Yn(M.i,T),P&&b.skipped_effects.delete(M.e)):(M=Th(u,d?s:bl??(bl=It()),F,N,T,i,t,n),d||(M.e.f|=Ut),u.set(N,M)),w.add(N)}if(p===0&&a&&!m&&(d?m=je(()=>a(s)):(m=je(()=>a(bl??(bl=It()))),m.f|=Ut)),!d)if(P){for(const[k,re]of u)w.has(k)||b.skipped_effects.add(re.e);b.oncommit(h),b.ondiscard(()=>{})}else h();g(o)}),v={effect:_,items:u,outrogroups:null,fallback:m};d=!1}function Sh(e,t,n,r,i){var re,R,J,Y,K,pe,X,U,C;var a=(r&Mm)!==0,s=t.length,u=e.items,c=e.effect.first,f,m=null,o,l=[],d=[],h,_,v,p;if(a)for(p=0;p<s;p+=1)h=t[p],_=i(h,p),v=u.get(_).e,(v.f&Ut)===0&&((R=(re=v.nodes)==null?void 0:re.a)==null||R.measure(),(o??(o=new Set)).add(v));for(p=0;p<s;p+=1){if(h=t[p],_=i(h,p),v=u.get(_).e,e.outrogroups!==null)for(const L of e.outrogroups)L.pending.delete(v),L.done.delete(v);if((v.f&Ut)!==0)if(v.f^=Ut,v===c)Ur(v,null,n);else{var w=m?m.next:c;v===e.effect.last&&(e.effect.last=v.prev),v.prev&&(v.prev.next=v.next),v.next&&(v.next.prev=v.prev),cn(e,m,v),cn(e,v,w),Ur(v,w,n),m=v,l=[],d=[],c=m.next;continue}if((v.f&Ye)!==0&&(hs(v),a&&((Y=(J=v.nodes)==null?void 0:J.a)==null||Y.unfix(),(o??(o=new Set)).delete(v))),v!==c){if(f!==void 0&&f.has(v)){if(l.length<d.length){var b=d[0],P;m=b.prev;var T=l[0],F=l[l.length-1];for(P=0;P<l.length;P+=1)Ur(l[P],b,n);for(P=0;P<d.length;P+=1)f.delete(d[P]);cn(e,T.prev,F.next),cn(e,m,T),cn(e,F,b),c=b,m=F,p-=1,l=[],d=[]}else f.delete(v),Ur(v,c,n),cn(e,v.prev,v.next),cn(e,v,m===null?e.effect.first:m.next),cn(e,m,v),m=v;continue}for(l=[],d=[];c!==null&&c!==v;)(f??(f=new Set)).add(c),d.push(c),c=c.next;if(c===null)continue}(v.f&Ut)===0&&l.push(v),m=v,c=v.next}if(e.outrogroups!==null){for(const L of e.outrogroups)L.pending.size===0&&($a(To(L.done)),(K=e.outrogroups)==null||K.delete(L));e.outrogroups.size===0&&(e.outrogroups=null)}if(c!==null||f!==void 0){var N=[];if(f!==void 0)for(v of f)(v.f&Ye)===0&&N.push(v);for(;c!==null;)(c.f&Ye)===0&&c!==e.fallback&&N.push(c),c=c.next;var M=N.length;if(M>0){var k=(r&Cu)!==0&&s===0?n:null;if(a){for(p=0;p<M;p+=1)(X=(pe=N[p].nodes)==null?void 0:pe.a)==null||X.measure();for(p=0;p<M;p+=1)(C=(U=N[p].nodes)==null?void 0:U.a)==null||C.fix()}xh(e,N,k)}}a&&en(()=>{var L,de;if(o!==void 0)for(v of o)(de=(L=v.nodes)==null?void 0:L.a)==null||de.apply()})}function Th(e,t,n,r,i,a,s,u){var c=(s&gm)!==0?(s&Pm)===0?B(n,!1,!1):Wn(n):null,f=(s&ym)!==0?Wn(i):null;return{v:c,i:f,e:je(()=>(a(t,c??n,f??i,u),()=>{e.delete(r)}))}}function Ur(e,t,n){if(e.nodes)for(var r=e.nodes.start,i=e.nodes.end,a=t&&(t.f&Ut)===0?t.nodes.start:n;r!==null;){var s=Mi(r);if(a.before(r),r===i)return;r=s}}function cn(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function Oe(e,t,n,r,i){var u;var a=(u=t.$$slots)==null?void 0:u[n],s=!1;a===!0&&(a=t[n==="default"?"children":n],s=!0),a===void 0?i!==null&&i(e):a(e,s?()=>r:r)}function Eh(e){const t={};e.children&&(t.default=!0);for(const n in e.$$slots)t[n]=!0;return t}function Nh(e,t){var n;n=document.head.appendChild(It());try{Io(()=>t(n),ss)}finally{}}function Oi(e,t,n){Zt(()=>{var r=j(()=>t(e,n==null?void 0:n())||{});if(n&&(r!=null&&r.update)){var i=!1,a={};Jn(()=>{var s=n();S(s),i&&us(a,s)&&(a=s,r.update(s))}),i=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}function kh(e,t){var n=void 0,r;tf(()=>{n!==(n=t())&&(r&&(Se(r),r=null),n&&(r=je(()=>{Zt(()=>n(e))})))})}function Pf(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Pf(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ch(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Pf(e))&&(r&&(r+=" "),r+=t);return r}function Fa(e){return typeof e=="object"?Ch(e):e??""}const wl=[...` 	
\r\fÂ \v\uFEFF`];function Oh(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var a=i.length,s=0;(s=r.indexOf(i,s))>=0;){var u=s+a;(s===0||wl.includes(r[s-1]))&&(u===r.length||wl.includes(r[u]))?r=(s===0?"":r.substring(0,s))+r.substring(u+1):s=u}}return r===""?null:r}function Al(e,t=!1){var n=t?" !important;":";",r="";for(var i in e){var a=e[i];a!=null&&a!==""&&(r+=" "+i+": "+a+n)}return r}function ca(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function Ih(e,t){if(t){var n="",r,i;if(Array.isArray(t)?(r=t[0],i=t[1]):r=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var a=!1,s=0,u=!1,c=[];r&&c.push(...Object.keys(r).map(ca)),i&&c.push(...Object.keys(i).map(ca));var f=0,m=-1;const _=e.length;for(var o=0;o<_;o++){var l=e[o];if(u?l==="/"&&e[o-1]==="*"&&(u=!1):a?a===l&&(a=!1):l==="/"&&e[o+1]==="*"?u=!0:l==='"'||l==="'"?a=l:l==="("?s++:l===")"&&s--,!u&&a===!1&&s===0){if(l===":"&&m===-1)m=o;else if(l===";"||o===_-1){if(m!==-1){var d=ca(e.substring(f,m).trim());if(!c.includes(d)){l!==";"&&o++;var h=e.substring(f,o).trim();n+=" "+h+";"}}f=o+1,m=-1}}}}return r&&(n+=Al(r)),i&&(n+=Al(i,!0)),n=n.trim(),n===""?null:n}return e==null?null:String(e)}function dt(e,t,n,r,i,a){var s=e.__className;if(s!==n||s===void 0){var u=Oh(n,r,a);u==null?e.removeAttribute("class"):t?e.className=u:e.setAttribute("class",u),e.__className=n}else if(a&&i!==a)for(var c in a){var f=!!a[c];(i==null||f!==!!i[c])&&e.classList.toggle(c,f)}return a}function da(e,t={},n,r){for(var i in n){var a=n[i];t[i]!==a&&(n[i]==null?e.style.removeProperty(i):e.style.setProperty(i,a,r))}}function bf(e,t,n,r){var i=e.__style;if(i!==t){var a=Ih(t,r);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}else r&&(Array.isArray(r)?(da(e,n==null?void 0:n[0],r[0]),da(e,n==null?void 0:n[1],r[1],"important")):da(e,n,r));return r}function io(e,t,n=!1){if(e.multiple){if(t==null)return;if(!vi(t))return Cm();for(var r of e.options)r.selected=t.includes(ni(r));return}for(r of e.options){var i=ni(r);if(Yu(i,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function wf(e){var t=new MutationObserver(()=>{io(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),$r(()=>{t.disconnect()})}function Af(e,t,n=t){var r=new WeakSet,i=!0;ms(e,"change",a=>{var s=a?"[selected]":":checked",u;if(e.multiple)u=[].map.call(e.querySelectorAll(s),ni);else{var c=e.querySelector(s)??e.querySelector("option:not([disabled])");u=c&&ni(c)}n(u),W!==null&&r.add(W)}),Zt(()=>{var a=t();if(e===document.activeElement){var s=Jr??W;if(r.has(s))return}if(io(e,a,i),i&&a===void 0){var u=e.querySelector(":checked");u!==null&&(a=ni(u),n(a))}e.__value=a,i=!1}),wf(e)}function ni(e){return"__value"in e?e.__value:e.value}const Ii=Symbol("class"),Gr=Symbol("style"),xf=Symbol("is custom element"),Sf=Symbol("is html");function $h(e,t){var n=ps(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Fh(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function me(e,t,n,r){var i=ps(e);i[t]!==(i[t]=n)&&(t==="loading"&&(e[am]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Tf(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Rh(e,t,n,r,i=!1,a=!1){var s=ps(e),u=s[xf],c=!s[Sf],f=t||{},m=e.tagName==="OPTION";for(var o in t)o in n||(n[o]=null);n.class?n.class=Fa(n.class):n.class=null,n[Gr]&&(n.style??(n.style=null));var l=Tf(e);for(const b in n){let P=n[b];if(m&&b==="value"&&P==null){e.value=e.__value="",f[b]=P;continue}if(b==="class"){var d=e.namespaceURI==="http://www.w3.org/1999/xhtml";dt(e,d,P,r,t==null?void 0:t[Ii],n[Ii]),f[b]=P,f[Ii]=n[Ii];continue}if(b==="style"){bf(e,P,t==null?void 0:t[Gr],n[Gr]),f[b]=P,f[Gr]=n[Gr];continue}var h=f[b];if(!(P===h&&!(P===void 0&&e.hasAttribute(b)))){f[b]=P;var _=b[0]+b[1];if(_!=="$$")if(_==="on"){const T={},F="$$"+b;let N=b.slice(2);var v=hh(N);if(dh(N)&&(N=N.slice(0,-7),T.capture=!0),!v&&h){if(P!=null)continue;e.removeEventListener(N,f[F],T),f[F]=null}if(P!=null)if(v)e[`__${N}`]=P,yh([N]);else{let M=function(k){f[b].call(this,k)};f[F]=yf(N,e,M,T)}else v&&(e[`__${N}`]=void 0)}else if(b==="style")me(e,b,P);else if(b==="autofocus")Jm(e,!!P);else if(!u&&(b==="__value"||b==="value"&&P!=null))e.value=e.__value=P;else if(b==="selected"&&m)Fh(e,P);else{var p=b;c||(p=vh(p));var w=p==="defaultValue"||p==="defaultChecked";if(P==null&&!u&&!w)if(s[b]=null,p==="value"||p==="checked"){let T=e;const F=t===void 0;if(p==="value"){let N=T.defaultValue;T.removeAttribute(p),T.defaultValue=N,T.value=T.__value=F?N:null}else{let N=T.defaultChecked;T.removeAttribute(p),T.defaultChecked=N,T.checked=F?N:!1}}else e.removeAttribute(b);else w||l.includes(p)&&(u||typeof P!="string")?(e[p]=P,p in s&&(s[p]=we)):typeof P!="function"&&me(e,p,P)}}}return f}function Lh(e,t,n=[],r=[],i=[],a,s=!1,u=!1){fs(i,n,r,c=>{var f=void 0,m={},o=e.nodeName==="SELECT",l=!1;if(tf(()=>{var h=t(...c.map(g)),_=Rh(e,f,h,a,s,u);l&&o&&"value"in h&&io(e,h.value);for(let p of Object.getOwnPropertySymbols(m))h[p]||Se(m[p]);for(let p of Object.getOwnPropertySymbols(h)){var v=h[p];p.description===km&&(!f||v!==f[p])&&(m[p]&&Se(m[p]),m[p]=je(()=>kh(e,()=>v))),_[p]=v}f=_}),o){var d=e;Zt(()=>{io(d,f.value,!0),wf(d)})}l=!0})}function ps(e){return e.__attributes??(e.__attributes={[xf]:e.nodeName.includes("-"),[Sf]:e.namespaceURI===Nm})}var xl=new Map;function Tf(e){var t=e.getAttribute("is")||e.nodeName,n=xl.get(t);if(n)return n;xl.set(t,n=[]);for(var r,i=e,a=Element.prototype;a!==i;){r=Tu(i);for(var s in r)r[s].set&&n.push(s);i=os(i)}return n}function vs(e,t,n=t){var r=new WeakSet;ms(e,"input",async i=>{var a=i?e.defaultValue:e.value;if(a=ha(e)?pa(a):a,n(a),W!==null&&r.add(W),await pf(),a!==(a=t())){var s=e.selectionStart,u=e.selectionEnd,c=e.value.length;if(e.value=a??"",u!==null){var f=e.value.length;s===u&&u===c&&f>c?(e.selectionStart=f,e.selectionEnd=f):(e.selectionStart=s,e.selectionEnd=Math.min(u,f))}}}),j(t)==null&&e.value&&(n(ha(e)?pa(e.value):e.value),W!==null&&r.add(W)),Jn(()=>{var i=t();if(e===document.activeElement){var a=Jr??W;if(r.has(a))return}ha(e)&&i===pa(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}const ma=new Set;function Ra(e,t,n,r,i=r){var a=n.getAttribute("type")==="checkbox",s=e;if(t!==null)for(var u of t)s=s[u]??(s[u]=[]);s.push(n),ms(n,"change",()=>{var c=n.__value;a&&(c=jh(s,c,n.checked)),i(c)},()=>i(a?[]:null)),Jn(()=>{var c=r();a?(c=c||[],n.checked=c.includes(n.__value)):n.checked=Yu(n.__value,c)}),$r(()=>{var c=s.indexOf(n);c!==-1&&s.splice(c,1)}),ma.has(s)||(ma.add(s),en(()=>{s.sort((c,f)=>c.compareDocumentPosition(f)===4?-1:1),ma.delete(s)})),en(()=>{})}function jh(e,t,n){for(var r=new Set,i=0;i<e.length;i+=1)e[i].checked&&r.add(e[i].__value);return n||r.delete(t),Array.from(r)}function ha(e){var t=e.type;return t==="number"||t==="range"}function pa(e){return e===""?null:+e}function Sl(e,t,n){var r=Ln(e,t);r&&r.set&&(e[t]=n,$r(()=>{e[t]=null}))}function Tl(e,t){return e===t||(e==null?void 0:e[Jt])===t}function qi(e={},t,n,r){return Zt(()=>{var i,a;return Jn(()=>{i=a,a=[],j(()=>{e!==n(...a)&&(t(e,...a),i&&Tl(n(...i),e)&&t(null,...i))})}),()=>{en(()=>{a&&Tl(n(...a),e)&&t(null,...a)})}}),e}function fr(e){return function(...t){var n=t[0];return n.stopPropagation(),e==null?void 0:e.apply(this,t)}}function En(e){return function(...t){var n=t[0];return n.preventDefault(),e==null?void 0:e.apply(this,t)}}function st(e=!1){const t=Z,n=t.l.u;if(!n)return;let r=()=>S(t.s);if(e){let i=0,a={};const s=yi(()=>{let u=!1;const c=t.s;for(const f in c)c[f]!==a[f]&&(a[f]=c[f],u=!0);return u&&i++,i});r=()=>g(s)}n.b.length&&nh(()=>{El(t,r),Ji(n.b)}),Ca(()=>{const i=j(()=>n.m.map(rm));return()=>{for(const a of i)typeof a=="function"&&a()}}),n.a.length&&Ca(()=>{El(t,r),Ji(n.a)})}function El(e,t){if(e.l.s)for(const n of e.l.s)g(n);t()}function $i(e,t){var a;var n=(a=e.$$events)==null?void 0:a[t.type],r=vi(n)?n.slice():n==null?[]:[n];for(var i of r)i.call(this,t)}function _s(e,t,n){if(e==null)return t(void 0),n&&n(void 0),_n;const r=j(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const cr=[];function Dh(e,t){return{subscribe:$o(e,t).subscribe}}function $o(e,t=_n){let n=null;const r=new Set;function i(u){if(us(e,u)&&(e=u,n)){const c=!cr.length;for(const f of r)f[1](),cr.push(f,e);if(c){for(let f=0;f<cr.length;f+=2)cr[f][0](cr[f+1]);cr.length=0}}}function a(u){i(u(e))}function s(u,c=_n){const f=[u,c];return r.add(f),r.size===1&&(n=t(i,a)||_n),u(e),()=>{r.delete(f),r.size===0&&n&&(n(),n=null)}}return{set:i,update:a,subscribe:s}}function Hh(e,t,n){const r=!Array.isArray(e),i=r?[e]:e;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=t.length<2;return Dh(n,(s,u)=>{let c=!1;const f=[];let m=0,o=_n;const l=()=>{if(m)return;o();const h=t(r?f[0]:f,s,u);a?s(h):o=typeof h=="function"?h:_n},d=i.map((h,_)=>_s(h,v=>{f[_]=v,m&=~(1<<_),c&&l()},()=>{m|=1<<_}));return c=!0,l(),function(){Ji(d),o(),c=!1}})}function Bh(e){let t;return _s(e,n=>t=n)(),t}let Fi=!1,La=Symbol();function Sr(e,t,n){const r=n[t]??(n[t]={store:null,source:B(void 0),unsubscribe:_n});if(r.store!==e&&!(La in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=_n;else{var i=!0;r.unsubscribe=_s(e,a=>{i?r.source.v=a:E(r.source,a)}),i=!1}return e&&La in n?Bh(e):g(r.source)}function Vh(e,t){return e.set(t),t}function Fo(){const e={};function t(){$r(()=>{for(var n in e)e[n].unsubscribe();Su(e,La,{enumerable:!1,value:!0})})}return[e,t]}function qh(e){var t=Fi;try{return Fi=!1,[e(),Fi]}finally{Fi=t}}function O(e,t,n,r){var b;var i=!Ir||(n&wm)!==0,a=(n&xm)!==0,s=(n&Sm)!==0,u=r,c=!0,f=()=>(c&&(c=!1,u=s?j(r):r),u),m;if(a){var o=Jt in e||om in e;m=((b=Ln(e,t))==null?void 0:b.set)??(o&&t in e?P=>e[t]=P:void 0)}var l,d=!1;a?[l,d]=qh(()=>e[t]):l=e[t],l===void 0&&r!==void 0&&(l=f(),m&&(i&&mm(),m(l)));var h;if(i?h=()=>{var P=e[t];return P===void 0?f():(c=!0,P)}:h=()=>{var P=e[t];return P!==void 0&&(u=void 0),P===void 0?u:P},i&&(n&Am)===0)return h;if(m){var _=e.$$legacy;return(function(P,T){return arguments.length>0?((!i||!T||_||d)&&m(T?h():P),P):h()})}var v=!1,p=((n&bm)!==0?yi:cs)(()=>(v=!1,h()));a&&g(p);var w=ne;return(function(P,T){if(arguments.length>0){const F=T?g(p):i&&a?mr(P):P;return E(p,F),v=!0,u!==void 0&&(u=F),P}return er&&v||(w.f&Kt)!==0?p.v:g(p)})}function gs(e){Z===null&&_i(),Ir&&Z.l!==null?kf(Z).m.push(e):Ca(()=>{const t=j(e);if(typeof t=="function")return t})}function Ef(e){Z===null&&_i(),gs(()=>()=>j(e))}function Gh(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function Nf(){const e=Z;return e===null&&_i(),(t,n,r)=>{var a;const i=(a=e.s.$$events)==null?void 0:a[t];if(i){const s=vi(i)?i.slice():[i],u=Gh(t,n,r);for(const c of s)c.call(e.x,u);return!u.defaultPrevented}return!0}}function Xh(e){Z===null&&_i(),Z.l===null&&dm(),kf(Z).b.push(e)}function kf(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Wh="5";var xu;typeof window<"u"&&((xu=window.__svelte??(window.__svelte={})).v??(xu.v=new Set)).add(Wh);$m();function Yh(e){return e!==null&&typeof e=="object"&&"name"in e&&typeof e.name=="string"}function zh(e){return e!==null&&typeof e=="object"&&"step"in e&&typeof e.step=="number"&&"alt"in e&&typeof e.alt=="number"&&!isNaN(e.step)&&!isNaN(e.alt)}var Cf=[0,2,4,-1,1,3,5],Of=Cf.map(e=>Math.floor(e*7/12));function Uh(e){const{step:t,alt:n,oct:r,dir:i=1}=e,a=Cf[t]+7*n;if(r===void 0)return[i*a];const s=r-Of[t]-4*n;return[i*a,i*s]}var Qh=[3,0,4,1,5,2,6];function Zh(e){const[t,n,r]=e,i=Qh[Kh(t)],a=Math.floor((t+1)/7);if(n===void 0)return{step:i,alt:a,dir:r};const s=n+4*a+Of[i];return{step:i,alt:a,oct:s,dir:r}}function Kh(e){const t=(e+1)%7;return t<0?7+t:t}var Nl=(e,t)=>Array(Math.abs(t)+1).join(e),ja=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),Jh="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",e1="(AA|A|P|M|m|d|dd)([-+]?\\d+)",t1=new RegExp("^"+Jh+"|"+e1+"$");function n1(e){const t=t1.exec(`${e}`);return t===null?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}var kl={};function oo(e){return typeof e=="string"?kl[e]||(kl[e]=r1(e)):zh(e)?oo(a1(e)):Yh(e)?oo(e.name):ja}var Cl=[0,2,4,5,7,9,11],If="PMMPPMM";function r1(e){const t=n1(e);if(t[0]==="")return ja;const n=+t[0],r=t[1],i=(Math.abs(n)-1)%7,a=If[i];if(a==="M"&&r==="P")return ja;const s=a==="M"?"majorable":"perfectable",u=""+n+r,c=n<0?-1:1,f=n===8||n===-8?n:c*(i+1),m=o1(s,r),o=Math.floor((Math.abs(n)-1)/7),l=c*(Cl[i]+m+12*o),d=(c*(Cl[i]+m)%12+12)%12,h=Uh({step:i,alt:m,oct:o,dir:c});return{empty:!1,name:u,num:n,q:r,step:i,alt:m,dir:c,type:s,simple:f,semitones:l,chroma:d,coord:h,oct:o}}function i1(e,t){const[n,r=0]=e,i=n*7+r*12<0,a=t||i?[-n,-r,-1]:[n,r,1];return oo(Zh(a))}function o1(e,t){return t==="M"&&e==="majorable"||t==="P"&&e==="perfectable"?0:t==="m"&&e==="majorable"?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*(e==="perfectable"?t.length:t.length+1):0}function a1(e){const{step:t,alt:n,oct:r=0,dir:i}=e;if(!i)return"";const a=t+1+7*r,s=a===0?t+1:a,u=i<0?"-":"",c=If[t]==="M"?"majorable":"perfectable";return u+s+s1(c,n)}function s1(e,t){return t===0?e==="majorable"?"M":"P":t===-1&&e==="majorable"?"m":t>0?Nl("A",t):Nl("d",e==="perfectable"?t:t+1)}function l1(e){return e!==null&&typeof e=="object"&&"name"in e&&typeof e.name=="string"}function u1(e){return e!==null&&typeof e=="object"&&"step"in e&&typeof e.step=="number"&&"alt"in e&&typeof e.alt=="number"&&!isNaN(e.step)&&!isNaN(e.alt)}var $f=[0,2,4,-1,1,3,5],Ff=$f.map(e=>Math.floor(e*7/12));function f1(e){const{step:t,alt:n,oct:r,dir:i=1}=e,a=$f[t]+7*n;if(r===void 0)return[i*a];const s=r-Ff[t]-4*n;return[i*a,i*s]}var c1=[3,0,4,1,5,2,6];function d1(e){const[t,n,r]=e,i=c1[m1(t)],a=Math.floor((t+1)/7);if(n===void 0)return{step:i,alt:a,dir:r};const s=n+4*a+Ff[i];return{step:i,alt:a,oct:s,dir:r}}function m1(e){const t=(e+1)%7;return t<0?7+t:t}var Ol=(e,t)=>Array(Math.abs(t)+1).join(e),Rf=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),Il=new Map,h1=e=>"CDEFGAB".charAt(e),p1=e=>e<0?Ol("b",-e):Ol("#",e),v1=e=>e[0]==="b"?-e.length:e.length;function ue(e){const t=JSON.stringify(e),n=Il.get(t);if(n)return n;const r=typeof e=="string"?P1(e):u1(e)?ue(b1(e)):l1(e)?ue(e.name):Rf;return Il.set(t,r),r}var _1=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function g1(e){const t=_1.exec(e);return t?[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]:["","","",""]}function y1(e){return ue(d1(e))}var M1=(e,t)=>(e%t+t)%t,va=[0,2,4,5,7,9,11];function P1(e){const t=g1(e);if(t[0]===""||t[3]!=="")return Rf;const n=t[0],r=t[1],i=t[2],a=(n.charCodeAt(0)+3)%7,s=v1(r),u=i.length?+i:void 0,c=f1({step:a,alt:s,oct:u}),f=n+r+i,m=n+r,o=(va[a]+s+120)%12,l=u===void 0?M1(va[a]+s,12)-1188:va[a]+s+12*(u+1),d=l>=0&&l<=127?l:null,h=u===void 0?null:Math.pow(2,(l-69)/12)*440;return{empty:!1,acc:r,alt:s,chroma:o,coord:c,freq:h,height:l,letter:n,midi:d,name:f,oct:u,pc:m,step:a}}function b1(e){const{step:t,alt:n,oct:r}=e,i=h1(t);if(!i)return"";const a=i+p1(n);return r||r===0?a+r:a}function Tr(e,t){const n=ue(e),r=Array.isArray(t)?t:oo(t).coord;if(n.empty||!r||r.length<2)return"";const i=n.coord,a=i.length===1?[i[0]+r[0]]:[i[0]+r[0],i[1]+r[1]];return y1(a).name}function Lf(e,t){const n=e.length;return r=>{if(!t)return"";const i=r<0?(n- -r%n)%n:r%n,a=Math.floor(r/n),s=Tr(t,[0,a]);return Tr(s,e[i])}}function w1(e,t){const n=ue(e),r=ue(t);if(n.empty||r.empty)return"";const i=n.coord,a=r.coord,s=a[0]-i[0],u=i.length===2&&a.length===2?a[1]-i[1]:-Math.floor(s*7/12),c=r.height===n.height&&r.midi!==null&&n.oct===r.oct&&n.step>r.step;return i1([s,u],c).name}function A1(e,t){const n=[];for(;t--;n[t]=t+e);return n}function x1(e,t){const n=[];for(;t--;n[t]=e-t);return n}function jf(e,t){return e<t?A1(e,t-e+1):x1(e,e-t+1)}function Pi(e,t){const n=t.length,r=(e%n+n)%n;return t.slice(r,n).concat(t.slice(0,r))}function Df(e){return e.filter(t=>t===0||t)}function S1(e){return e!==null&&typeof e=="object"&&"name"in e&&typeof e.name=="string"}function T1(e){return e!==null&&typeof e=="object"&&"step"in e&&typeof e.step=="number"&&"alt"in e&&typeof e.alt=="number"&&!isNaN(e.step)&&!isNaN(e.alt)}var Hf=[0,2,4,-1,1,3,5],E1=Hf.map(e=>Math.floor(e*7/12));function N1(e){const{step:t,alt:n,oct:r,dir:i=1}=e,a=Hf[t]+7*n;if(r===void 0)return[i*a];const s=r-E1[t]-4*n;return[i*a,i*s]}var $l=(e,t)=>Array(Math.abs(t)+1).join(e),Da=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),k1="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",C1="(AA|A|P|M|m|d|dd)([-+]?\\d+)",O1=new RegExp("^"+k1+"|"+C1+"$");function I1(e){const t=O1.exec(`${e}`);return t===null?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}var Fl={};function Ha(e){return typeof e=="string"?Fl[e]||(Fl[e]=$1(e)):T1(e)?Ha(R1(e)):S1(e)?Ha(e.name):Da}var Rl=[0,2,4,5,7,9,11],Bf="PMMPPMM";function $1(e){const t=I1(e);if(t[0]==="")return Da;const n=+t[0],r=t[1],i=(Math.abs(n)-1)%7,a=Bf[i];if(a==="M"&&r==="P")return Da;const s=a==="M"?"majorable":"perfectable",u=""+n+r,c=n<0?-1:1,f=n===8||n===-8?n:c*(i+1),m=F1(s,r),o=Math.floor((Math.abs(n)-1)/7),l=c*(Rl[i]+m+12*o),d=(c*(Rl[i]+m)%12+12)%12,h=N1({step:i,alt:m,oct:o,dir:c});return{empty:!1,name:u,num:n,q:r,step:i,alt:m,dir:c,type:s,simple:f,semitones:l,chroma:d,coord:h,oct:o}}function F1(e,t){return t==="M"&&e==="majorable"||t==="P"&&e==="perfectable"?0:t==="m"&&e==="majorable"?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*(e==="perfectable"?t.length:t.length+1):0}function R1(e){const{step:t,alt:n,oct:r=0,dir:i}=e;if(!i)return"";const a=t+1+7*r,s=a===0?t+1:a,u=i<0?"-":"",c=Bf[t]==="M"?"majorable":"perfectable";return u+s+L1(c,n)}function L1(e,t){return t===0?e==="majorable"?"M":"P":t===-1&&e==="majorable"?"m":t>0?$l("A",t):$l("d",e==="perfectable"?t:t+1)}var Dt={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},Vf=e=>Number(e).toString(2).padStart(12,"0"),Ll=e=>parseInt(e,2),j1=/^[01]{12}$/;function ys(e){return j1.test(e)}var D1=e=>typeof e=="number"&&e>=0&&e<=4095,H1=e=>e&&ys(e.chroma),jl={[Dt.chroma]:Dt};function vt(e){const t=ys(e)?e:D1(e)?Vf(e):Array.isArray(e)?W1(e):H1(e)?e.chroma:Dt.chroma;return jl[t]=jl[t]||X1(t)}var B1=e=>vt(e).chroma,V1=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function q1(e){const t=[];for(let n=0;n<12;n++)e.charAt(n)==="1"&&t.push(V1[n]);return t}function qf(e,t=!0){const r=vt(e).chroma.split("");return Df(r.map((i,a)=>{const s=Pi(a,r);return t&&s[0]==="0"?null:s.join("")}))}function Ms(e){const t=vt(e).setNum;return n=>{const r=vt(n).setNum;return t&&t!==r&&(r&t)===r}}function Ps(e){const t=vt(e).setNum;return n=>{const r=vt(n).setNum;return t&&t!==r&&(r|t)===r}}function G1(e){const t=e.split("");return t.map((n,r)=>Pi(r,t).join(""))}function X1(e){const t=Ll(e),n=G1(e).map(Ll).filter(a=>a>=2048).sort()[0],r=Vf(n),i=q1(e);return{empty:!1,name:"",setNum:t,chroma:e,normalized:r,intervals:i}}function W1(e){if(e.length===0)return Dt.chroma;let t;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let r=0;r<e.length;r++)t=ue(e[r]),t.empty&&(t=Ha(e[r])),t.empty||(n[t.chroma]=1);return n.join("")}var Y1=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Î ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Î9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Î#4 Î#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Î7 mÎ -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim Â° o"],["1P 3m 5d 7d","diminished seventh","dim7 Â°7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 Ã¸ -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Î9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],z1=Y1;({...Dt});var bs=[],Gi={};function U1(){return bs.slice()}function Q1(e,t,n){const r=K1(e),i={...vt(e),name:n||"",quality:r,intervals:e,aliases:t};bs.push(i),i.name&&(Gi[i.name]=i),Gi[i.setNum]=i,Gi[i.chroma]=i,i.aliases.forEach(a=>Z1(i,a))}function Z1(e,t){Gi[t]=e}function K1(e){const t=n=>e.indexOf(n)!==-1;return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}z1.forEach(([e,t,n])=>Q1(e.split(" "),n.split(" "),t));bs.sort((e,t)=>e.setNum-t.setNum);var J1=e=>{const t=e.reduce((n,r)=>{const i=ue(r).chroma;return i!==void 0&&(n[i]=n[i]||ue(r).name),n},{});return n=>t[n]};function ep(e,t={}){const n=e.map(i=>ue(i).pc).filter(i=>i);return ue.length===0?[]:sp(n,1,t).filter(i=>i.weight).sort((i,a)=>a.weight-i.weight).map(i=>i.name)}var Ro={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},Lo=e=>t=>!!(t&e),tp=Lo(Ro.anyThirds),np=Lo(Ro.perfectFifth),rp=Lo(Ro.anySeventh),ip=Lo(Ro.nonPerfectFifths);function op(e){const t=parseInt(e.chroma,2);return tp(t)&&np(t)&&rp(t)}function ap(e){const t=parseInt(e,2);return ip(t)?e:(t|16).toString(2)}function sp(e,t,n){const r=e[0],i=ue(r).chroma,a=J1(e),s=qf(e,!1),u=[];return s.forEach((c,f)=>{const m=n.assumePerfectFifth&&ap(c);U1().filter(l=>n.assumePerfectFifth&&op(l)?l.chroma===m:l.chroma===c).forEach(l=>{const d=l.aliases[0],h=a(f);f!==i?u.push({weight:.5*t,name:`${h}${d}/${r}`}):u.push({weight:1*t,name:`${h}${d}`})})}),u}function Gf(e){return e!==null&&typeof e=="object"&&"name"in e&&typeof e.name=="string"}function Xf(e){return e!==null&&typeof e=="object"&&"step"in e&&typeof e.step=="number"&&"alt"in e&&typeof e.alt=="number"}var Wf=[0,2,4,-1,1,3,5],Yf=Wf.map(e=>Math.floor(e*7/12));function zf(e){const{step:t,alt:n,oct:r,dir:i=1}=e,a=Wf[t]+7*n;if(r===void 0)return[i*a];const s=r-Yf[t]-4*n;return[i*a,i*s]}var lp=[3,0,4,1,5,2,6];function Uf(e){const[t,n,r]=e,i=lp[up(t)],a=Math.floor((t+1)/7);if(n===void 0)return{step:i,alt:a,dir:r};const s=n+4*a+Yf[i];return{step:i,alt:a,oct:s,dir:r}}function up(e){const t=(e+1)%7;return t<0?7+t:t}var Dl=(e,t)=>Array(Math.abs(t)+1).join(e),Ba={empty:!0,name:"",acc:""},fp="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",cp="(AA|A|P|M|m|d|dd)([-+]?\\d+)",dp=new RegExp("^"+fp+"|"+cp+"$");function mp(e){const t=dp.exec(`${e}`);return t===null?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}var Hl={};function ao(e){return typeof e=="string"?Hl[e]||(Hl[e]=hp(e)):Xf(e)?ao(_p(e)):Gf(e)?ao(e.name):Ba}var Bl=[0,2,4,5,7,9,11],Qf="PMMPPMM";function hp(e){const t=mp(e);if(t[0]==="")return Ba;const n=+t[0],r=t[1],i=(Math.abs(n)-1)%7,a=Qf[i];if(a==="M"&&r==="P")return Ba;const s=a==="M"?"majorable":"perfectable",u=""+n+r,c=n<0?-1:1,f=n===8||n===-8?n:c*(i+1),m=vp(s,r),o=Math.floor((Math.abs(n)-1)/7),l=c*(Bl[i]+m+12*o),d=(c*(Bl[i]+m)%12+12)%12,h=zf({step:i,alt:m,oct:o,dir:c});return{empty:!1,name:u,num:n,q:r,step:i,alt:m,dir:c,type:s,simple:f,semitones:l,chroma:d,coord:h,oct:o}}function pp(e,t){const[n,r=0]=e,i=n*7+r*12<0,a=t||i?[-n,-r,-1]:[n,r,1];return ao(Uf(a))}function vp(e,t){return t==="M"&&e==="majorable"||t==="P"&&e==="perfectable"?0:t==="m"&&e==="majorable"?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*(e==="perfectable"?t.length:t.length+1):0}function _p(e){const{step:t,alt:n,oct:r=0,dir:i}=e;if(!i)return"";const a=t+1+7*r,s=a===0?t+1:a,u=i<0?"-":"",c=Qf[t]==="M"?"majorable":"perfectable";return u+s+gp(c,n)}function gp(e,t){return t===0?e==="majorable"?"M":"P":t===-1&&e==="majorable"?"m":t>0?Dl("A",t):Dl("d",e==="perfectable"?t:t+1)}var Vl=(e,t)=>Array(Math.abs(t)+1).join(e),Zf={empty:!0,name:"",pc:"",acc:""},ql=new Map,yp=e=>"CDEFGAB".charAt(e),Mp=e=>e<0?Vl("b",-e):Vl("#",e),Pp=e=>e[0]==="b"?-e.length:e.length;function Mn(e){const t=JSON.stringify(e),n=ql.get(t);if(n)return n;const r=typeof e=="string"?xp(e):Xf(e)?Mn(Sp(e)):Gf(e)?Mn(e.name):Zf;return ql.set(t,r),r}var bp=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function Kf(e){const t=bp.exec(e);return t?[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]:["","","",""]}function wp(e){return Mn(Uf(e))}var Ap=(e,t)=>(e%t+t)%t,_a=[0,2,4,5,7,9,11];function xp(e){const t=Kf(e);if(t[0]===""||t[3]!=="")return Zf;const n=t[0],r=t[1],i=t[2],a=(n.charCodeAt(0)+3)%7,s=Pp(r),u=i.length?+i:void 0,c=zf({step:a,alt:s,oct:u}),f=n+r+i,m=n+r,o=(_a[a]+s+120)%12,l=u===void 0?Ap(_a[a]+s,12)-1188:_a[a]+s+12*(u+1),d=l>=0&&l<=127?l:null,h=u===void 0?null:Math.pow(2,(l-69)/12)*440;return{empty:!1,acc:r,alt:s,chroma:o,coord:c,freq:h,height:l,letter:n,midi:d,name:f,oct:u,pc:m,step:a}}function Sp(e){const{step:t,alt:n,oct:r}=e,i=yp(t);if(!i)return"";const a=i+Mp(n);return r||r===0?a+r:a}function so(e,t){const n=Mn(e),r=Array.isArray(t)?t:ao(t).coord;if(n.empty||!r||r.length<2)return"";const i=n.coord,a=i.length===1?[i[0]+r[0]]:[i[0]+r[0],i[1]+r[1]];return wp(a).name}function Jf(e,t){const n=e.length;return r=>{if(!t)return"";const i=r<0?(n- -r%n)%n:r%n,a=Math.floor(r/n),s=so(t,[0,a]);return so(s,e[i])}}function Tp(e,t){const n=Mn(e),r=Mn(t);if(n.empty||r.empty)return"";const i=n.coord,a=r.coord,s=a[0]-i[0],u=i.length===2&&a.length===2?a[1]-i[1]:-Math.floor(s*7/12),c=r.height===n.height&&r.midi!==null&&n.midi!==null&&n.step>r.step;return pp([s,u],c).name}function Ep(e,t,n){return function(...r){return console.warn(`${e} is deprecated. Use ${t}.`),n.apply(this,r)}}var Np=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Î ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Î9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Î#4 Î#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Î7 mÎ -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim Â° o"],["1P 3m 5d 7d","diminished seventh","dim7 Â°7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 Ã¸ -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Î9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],kp=Np,Cp={...Dt,name:"",quality:"Unknown",intervals:[],aliases:[]},ws=[],ri={};function Op(e){return ri[e]||Cp}function ec(){return ws.slice()}function Ip(e,t,n){const r=Fp(e),i={...vt(e),name:n||"",quality:r,intervals:e,aliases:t};ws.push(i),i.name&&(ri[i.name]=i),ri[i.setNum]=i,ri[i.chroma]=i,i.aliases.forEach(a=>$p(i,a))}function $p(e,t){ri[t]=e}function Fp(e){const t=n=>e.indexOf(n)!==-1;return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}kp.forEach(([e,t,n])=>Ip(e.split(" "),n.split(" "),t));ws.sort((e,t)=>e.setNum-t.setNum);var Rp=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],Lp=Rp,jp={...Dt,intervals:[],aliases:[]},jo=[],Bn={};function tc(){return jo.map(e=>e.name)}function Do(e){return Bn[e]||jp}var Dp=Do;function Rr(){return jo.slice()}var Hp=Rr;function Bp(){return Object.keys(Bn)}function Vp(){jo=[],Bn={}}function nc(e,t,n=[]){const r={...vt(e),name:t,intervals:e,aliases:n};return jo.push(r),Bn[r.name]=r,Bn[r.setNum]=r,Bn[r.chroma]=r,r.aliases.forEach(i=>qp(r,i)),r}function qp(e,t){Bn[t]=e}Lp.forEach(([e,t,...n])=>nc(e.split(" "),t,n));var Gl={names:tc,get:Do,all:Rr,add:nc,removeAll:Vp,keys:Bp,entries:Hp,scaleType:Dp},Va={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function As(e){const[t,n,r,i]=Kf(e);return t===""?["",e]:t==="A"&&i==="ug"?["","aug"]:[t+n,r+i]}function tr(e){if(e==="")return Va;if(Array.isArray(e)&&e.length===2)return Xi(e[1],e[0]);{const[t,n]=As(e),r=Xi(n,t);return r.empty?Xi(e):r}}function Xi(e,t,n){const r=Op(e),i=Mn(t||""),a=Mn(n||"");if(r.empty||t&&i.empty||n&&a.empty)return Va;const s=Tp(i.pc,a.pc),u=r.intervals.indexOf(s)+1;if(!a.empty&&!u)return Va;const c=Array.from(r.intervals);for(let l=1;l<u;l++){const d=c[0][0],h=c[0][1],_=parseInt(d,10)+7;c.push(`${_}${h}`),c.shift()}const f=i.empty?[]:c.map(l=>so(i,l));e=r.aliases.indexOf(e)!==-1?e:r.aliases[0];const m=`${i.empty?"":i.pc}${e}${a.empty||u<=1?"":"/"+a.pc}`,o=`${t?i.pc+" ":""}${r.name}${u>1&&n?" over "+a.pc:""}`;return{...r,name:o,symbol:m,type:r.name,root:a.name,intervals:c,rootDegree:u,tonic:i.name,notes:f}}var Gp=Ep("Chord.chord","Chord.get",tr);function Xp(e,t){const[n,r]=As(e);return n?so(n,t)+r:e}function Wp(e){const t=tr(e),n=Ps(t.chroma);return Rr().filter(r=>n(r.chroma)).map(r=>r.name)}function Yp(e){const t=tr(e),n=Ps(t.chroma);return ec().filter(r=>n(r.chroma)).map(r=>t.tonic+r.aliases[0])}function zp(e){const t=tr(e),n=Ms(t.chroma);return ec().filter(r=>n(r.chroma)).map(r=>t.tonic+r.aliases[0])}function Up(e){const{intervals:t,tonic:n}=tr(e),r=Jf(t,n);return i=>i?r(i>0?i-1:i):""}function Qp(e){const{intervals:t,tonic:n}=tr(e);return Jf(t,n)}var rc={getChord:Xi,get:tr,detect:ep,chordScales:Wp,extended:Yp,reduced:zp,tokenize:As,transpose:Xp,degrees:Up,steps:Qp,chord:Gp},Zp=[[.125,"dl",["large","duplex longa","maxima","octuple","octuple whole"]],[.25,"l",["long","longa"]],[.5,"d",["double whole","double","breve"]],[1,"w",["whole","semibreve"]],[2,"h",["half","minim"]],[4,"q",["quarter","crotchet"]],[8,"e",["eighth","quaver"]],[16,"s",["sixteenth","semiquaver"]],[32,"t",["thirty-second","demisemiquaver"]],[64,"sf",["sixty-fourth","hemidemisemiquaver"]],[128,"h",["hundred twenty-eighth"]],[256,"th",["two hundred fifty-sixth"]]],Kp=Zp;Kp.forEach(([e,t,n])=>void 0);function Jp(e){return+e>=0&&+e<=127}function ic(e){if(Jp(e))return+e;const t=ue(e);return t.empty?null:t.midi}var ev=Math.log(2),tv=Math.log(440);function oc(e){const t=12*(Math.log(e)-tv)/ev+69;return Math.round(t*100)/100}var nv="C C# D D# E F F# G G# A A# B".split(" "),rv="C Db D Eb E F Gb G Ab A Bb B".split(" ");function nr(e,t={}){if(isNaN(e)||e===-1/0||e===1/0)return"";e=Math.round(e);const r=(t.sharps===!0?nv:rv)[e%12];if(t.pitchClass)return r;const i=Math.floor(e/12)-1;return r+i}var iv={toMidi:ic},ov=["C","D","E","F","G","A","B"],ac=e=>e.name,sc=e=>e.map(ue).filter(t=>!t.empty);function av(e){return e===void 0?ov.slice():Array.isArray(e)?sc(e).map(ac):[]}var _t=ue,sv=e=>_t(e).name,lv=e=>_t(e).pc,uv=e=>_t(e).acc,fv=e=>_t(e).oct,cv=e=>_t(e).midi,dv=e=>_t(e).freq,mv=e=>_t(e).chroma;function lc(e){return nr(e)}function hv(e){return nr(oc(e))}function pv(e){return nr(oc(e),{sharps:!0})}function vv(e){return nr(e,{sharps:!0})}var _v=w1,bi=Tr,gv=Tr,uc=e=>t=>bi(t,e),yv=uc,fc=e=>t=>bi(e,t),Mv=fc;function cc(e,t){return bi(e,[t,0])}var Pv=cc;function bv(e,t){return bi(e,[0,t])}var xs=(e,t)=>e.height-t.height,wv=(e,t)=>t.height-e.height;function dc(e,t){return t=t||xs,sc(e).sort(t).map(ac)}function mc(e){return dc(e,xs).filter((t,n,r)=>n===0||t!==r[n-1])}var Av=e=>{const t=_t(e);return t.empty?"":nr(t.midi||t.chroma,{sharps:t.alt>0,pitchClass:t.midi===null})};function hc(e,t){const n=_t(e);if(n.empty)return"";const r=_t(t||nr(n.midi||n.chroma,{sharps:n.alt<0,pitchClass:!0}));if(r.empty||r.chroma!==n.chroma)return"";if(n.oct===void 0)return r.pc;const i=n.chroma-n.alt,a=r.chroma-r.alt,s=i>11||a<0?-1:i<0||a>11?1:0,u=n.oct+s;return r.pc+u}var Ot={names:av,get:_t,name:sv,pitchClass:lv,accidentals:uv,octave:fv,midi:cv,ascending:xs,descending:wv,distance:_v,sortedNames:dc,sortedUniqNames:mc,fromMidi:lc,fromMidiSharps:vv,freq:dv,fromFreq:hv,fromFreqSharps:pv,chroma:mv,transpose:bi,tr:gv,transposeBy:uc,trBy:yv,transposeFrom:fc,trFrom:Mv,transposeFifths:cc,transposeOctaves:bv,trFifths:Pv,simplify:Av,enharmonic:hc},Ss=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],Xl={...Dt,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},xv=Ss.map(Sv),qa={};xv.forEach(e=>{qa[e.name]=e,e.aliases.forEach(t=>{qa[t]=e})});function pc(e){return typeof e=="string"?qa[e.toLowerCase()]||Xl:e&&e.name?pc(e.name):Xl}function Sv(e){const[t,n,r,i,a,s,u]=e,c=u?[u]:[],f=Number(n).toString(2);return{empty:!1,intervals:Do(i).intervals,modeNum:t,chroma:f,normalized:f,name:i,setNum:n,alt:r,triad:a,seventh:s,aliases:c}}function vc(e){return(t,n)=>{const r=pc(t);if(r.empty)return[];const i=Pi(r.modeNum,e),a=r.intervals.map(s=>Tr(n,s));return i.map((s,u)=>a[u]+s)}}vc(Ss.map(e=>e[4]));vc(Ss.map(e=>e[5]));var Tv=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Î ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Î9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Î#4 Î#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Î7 mÎ -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim Â° o"],["1P 3m 5d 7d","diminished seventh","dim7 Â°7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 Ã¸ -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Î9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],Ev=Tv;({...Dt});var _c=[],Wi={};function Nv(e,t,n){const r=Cv(e),i={...vt(e),name:n||"",quality:r,intervals:e,aliases:t};_c.push(i),i.name&&(Wi[i.name]=i),Wi[i.setNum]=i,Wi[i.chroma]=i,i.aliases.forEach(a=>kv(i,a))}function kv(e,t){Wi[t]=e}function Cv(e){const t=n=>e.indexOf(n)!==-1;return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}Ev.forEach(([e,t,n])=>Nv(e.split(" "),n.split(" "),t));_c.sort((e,t)=>e.setNum-t.setNum);function gc(e){const t=Df(e.map(n=>typeof n=="number"?n:ic(n)));return!e.length||t.length!==e.length?[]:t.reduce((n,r)=>{const i=n[n.length-1];return n.concat(jf(i,r).slice(1))},[t[0]])}function Ov(e,t){return gc(e).map(n=>nr(n,t))}var Ts={numeric:gc,chromatic:Ov},Iv=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Î ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Î9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Î#4 Î#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Î7 mÎ -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim Â° o"],["1P 3m 5d 7d","diminished seventh","dim7 Â°7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 Ã¸ -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Î9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],$v=Iv;({...Dt});var Es=[],Yi={};function Fv(){return Es.slice()}function Rv(e,t,n){const r=jv(e),i={...vt(e),name:n||"",quality:r,intervals:e,aliases:t};Es.push(i),i.name&&(Yi[i.name]=i),Yi[i.setNum]=i,Yi[i.chroma]=i,i.aliases.forEach(a=>Lv(i,a))}function Lv(e,t){Yi[t]=e}function jv(e){const t=n=>e.indexOf(n)!==-1;return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}$v.forEach(([e,t,n])=>Rv(e.split(" "),n.split(" "),t));Es.sort((e,t)=>e.setNum-t.setNum);var Dv={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function yc(e){if(typeof e!="string")return["",""];const t=e.indexOf(" "),n=ue(e.substring(0,t));if(n.empty){const i=ue(e);return i.empty?["",e.toLowerCase()]:[i.name,""]}const r=e.substring(n.name.length+1).toLowerCase();return[n.name,r.length?r:""]}var Hv=tc;function Ht(e){const t=Array.isArray(e)?e:yc(e),n=ue(t[0]).name,r=Do(t[1]);if(r.empty)return Dv;const i=r.name,a=n?r.intervals.map(u=>Tr(n,u)):[],s=n?n+" "+i:i;return{...r,name:s,type:i,tonic:n,notes:a}}var Bv=Ht;function Vv(e,t={}){const n=B1(e),r=ue(t.tonic??e[0]??""),i=r.chroma;if(i===void 0)return[];const a=n.split("");a[i]="1";const s=Pi(i,a).join(""),u=Rr().find(f=>f.chroma===s),c=[];return u&&c.push(r.name+" "+u.name),t.match==="exact"||Mc(s).forEach(f=>{c.push(r.name+" "+f)}),c}function qv(e){const t=Ht(e),n=Ms(t.chroma);return Fv().filter(r=>n(r.chroma)).map(r=>r.aliases[0])}function Mc(e){const t=ys(e)?e:Ht(e).chroma,n=Ps(t);return Rr().filter(r=>n(r.chroma)).map(r=>r.name)}function Gv(e){const t=Ms(Ht(e).chroma);return Rr().filter(n=>t(n.chroma)).map(n=>n.name)}function Pc(e){const t=e.map(i=>ue(i).pc).filter(i=>i),n=t[0],r=mc(t);return Pi(r.indexOf(n),r)}function Xv(e){const t=Ht(e);if(t.empty)return[];const n=t.tonic?t.notes:t.intervals;return qf(t.chroma).map((r,i)=>{const a=Ht(r).name;return a?[n[i],a]:["",""]}).filter(r=>r[0])}function Wv(e){const t=Array.isArray(e)?Pc(e):Ht(e).notes,n=t.map(r=>ue(r).chroma);return r=>{const i=ue(typeof r=="number"?lc(r):r),a=i.height;if(a===void 0)return;const s=a%12,u=n.indexOf(s);if(u!==-1)return hc(i.name,t[u])}}function Yv(e){const t=Wv(e);return(n,r)=>{const i=ue(n).height,a=ue(r).height;return i===void 0||a===void 0?[]:jf(i,a).map(t).filter(s=>s)}}function zv(e){const{intervals:t,tonic:n}=Ht(e),r=Lf(t,n);return i=>i?r(i>0?i-1:i):""}function Uv(e){const{intervals:t,tonic:n}=Ht(e);return Lf(t,n)}var Ga={degrees:zv,detect:Vv,extended:Mc,get:Ht,modeNames:Xv,names:Hv,rangeOf:Yv,reduced:Gv,scaleChords:qv,scaleNotes:Pc,steps:Uv,tokenize:yc,scale:Bv};const bc=(e,t,n,r=0)=>{const i=[];for(let a=0;a<n;a++)i.push(Qv(e,r+a,t));return i},Qv=(e,t,n)=>{t=t%e.length;const r=[...e];if(t+n<=r.length)return r.slice(t,t+n);const i=t+n-r.length;return[r.slice(t,t+n),r.slice(0,i)].flat()};function Xa(e,t){const i=t.intervals(),s=t.notes().map((c,f)=>({note:c,interval:i[f],name:c.name})),u=c=>bc(s,3,7,c*3);for(const[c,f]of e.entries()){const m=u(c);for(const o of f){const l=s.find(h=>o.chroma===h.note.chroma),d=m.map((h,_)=>h.some(v=>v.note.chroma===o.chroma)?_+1:-1).filter(h=>h!==-1);l&&(o.positions=d,o.interval=l.interval)}}return e}function Zv(e,t){if(t.intervals().length!==5)throw new Error("Does not appear to be a pentatonic scale");const n=5,r=2,i=t.intervals(),s=t.notes().map((c,f)=>({note:c,interval:i[f],name:c.name})),u=c=>bc(s,r,n,c*r);for(const[c,f]of e.entries()){const m=u(c);for(const o of f){const l=s.find(h=>o.chroma===h.note.chroma),d=m.map((h,_)=>h.some(v=>v.note.chroma===o.chroma)?_+1:-1).filter(h=>h!==-1);l&&(o.positions=d,o.interval=l.interval)}}return e}function Kv(e){const t=Ga.get(e);function n(){}return Object.defineProperty(n,"name",{value:()=>t.name,writable:!1}),n.setNum=()=>t.setNum,n.chroma=()=>t.chroma,n.normalized=()=>t.normalized,n.intervals=()=>t.intervals,n.aliases=()=>t.aliases,n.type=()=>t.type,n.tonic=()=>t.tonic,n.notes=()=>{const r=t.intervals;return t.notes.map((i,a)=>Object.assign(Ot.get(i),{interval:r[a]}))},n}function Jv(e=["E2","A2","D3","G3","B3","E4"],t=2,n=!1){const r=t*12;let i,a;const s=e.map(c=>{const{oct:f,letter:m}=Ot.get(c);return Ts.chromatic([c,`${m}${f+2}`],{sharps:n}).map(o=>Object.assign({},Ot.get(o)))});function u(){}return u.notes=()=>s,u.tuning=()=>e,u.count=()=>r,u.octaves=()=>t,u.system=function(c){return arguments.length?(i=c,u):i},u.scale=function(c){return arguments.length?(a=c,u):a},u}const si=$o(["E2","A2","D3","G3","B3","E4"]),li=$o("A"),zi=$o(120);Hh([si,li],(e,t)=>(console.log("scale updated",e,t),`The scale is ${si} and ${li}`));var e_=ee("<option> </option>"),t_=ee('<div class="flex items-center space-x-5"><div><select name="note" class="rounded-lg border-gray-300"></select></div> <div class="flex items-center"><input type="radio" class="mr-1"/> <span class="text-2xl">â­</span></div> <div class="flex items-center"><input type="radio" class="mr-1"/> <span>#</span></div></div>');function n_(e,t){Ue(t,!1);const n=[];let r=O(t,"key",12),i=B(r()),a=B(null);const s=["E","F","G","A","B","C","D"];function u(_){g(a)===_.target.value&&E(a,null)}D(()=>(g(i),g(a)),()=>{r([g(i),g(a)].join(""))}),D(()=>S(r()),()=>{li.set(r())}),bn(),st();var c=t_(),f=I(c),m=I(f);ie(()=>{g(i),uf(()=>{})}),Ft(m,5,()=>s,$t,(_,v,p,w)=>{var b=e_(),P=I(b),T={};ie(()=>{De(P,g(v)),T!==(T=g(v))&&(b.value=(b.__value=g(v))??"")}),$(_,b)});var o=H(f,2),l=I(o);l.value=l.__value="b";var d=H(o,2),h=I(d);h.value=h.__value="#",Af(m,()=>g(i),_=>E(i,_)),Ra(n,[],l,()=>g(a),_=>E(a,_)),se("click",l,u),Ra(n,[],h,()=>g(a),_=>E(a,_)),se("click",h,u),$(e,c),Qe()}const lo=Math.min,Vn=Math.max,uo=Math.round,Ri=Math.floor,Rt=e=>({x:e,y:e}),r_={left:"right",right:"left",bottom:"top",top:"bottom"},i_={start:"end",end:"start"};function Wl(e,t,n){return Vn(e,lo(t,n))}function Ho(e,t){return typeof e=="function"?e(t):e}function zn(e){return e.split("-")[0]}function Bo(e){return e.split("-")[1]}function wc(e){return e==="x"?"y":"x"}function Ac(e){return e==="y"?"height":"width"}const o_=new Set(["top","bottom"]);function vn(e){return o_.has(zn(e))?"y":"x"}function xc(e){return wc(vn(e))}function a_(e,t,n){n===void 0&&(n=!1);const r=Bo(e),i=xc(e),a=Ac(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=fo(s)),[s,fo(s)]}function s_(e){const t=fo(e);return[Wa(e),t,Wa(t)]}function Wa(e){return e.replace(/start|end/g,t=>i_[t])}const Yl=["left","right"],zl=["right","left"],l_=["top","bottom"],u_=["bottom","top"];function f_(e,t,n){switch(e){case"top":case"bottom":return n?t?zl:Yl:t?Yl:zl;case"left":case"right":return t?l_:u_;default:return[]}}function c_(e,t,n,r){const i=Bo(e);let a=f_(zn(e),n==="start",r);return i&&(a=a.map(s=>s+"-"+i),t&&(a=a.concat(a.map(Wa)))),a}function fo(e){return e.replace(/left|right|bottom|top/g,t=>r_[t])}function d_(e){return{top:0,right:0,bottom:0,left:0,...e}}function m_(e){return typeof e!="number"?d_(e):{top:e,right:e,bottom:e,left:e}}function co(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Ul(e,t,n){let{reference:r,floating:i}=e;const a=vn(t),s=xc(t),u=Ac(s),c=zn(t),f=a==="y",m=r.x+r.width/2-i.width/2,o=r.y+r.height/2-i.height/2,l=r[u]/2-i[u]/2;let d;switch(c){case"top":d={x:m,y:r.y-i.height};break;case"bottom":d={x:m,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:o};break;case"left":d={x:r.x-i.width,y:o};break;default:d={x:r.x,y:r.y}}switch(Bo(t)){case"start":d[s]-=l*(n&&f?-1:1);break;case"end":d[s]+=l*(n&&f?-1:1);break}return d}const h_=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=n,u=a.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let f=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:m,y:o}=Ul(f,r,c),l=r,d={},h=0;for(let _=0;_<u.length;_++){const{name:v,fn:p}=u[_],{x:w,y:b,data:P,reset:T}=await p({x:m,y:o,initialPlacement:r,placement:l,strategy:i,middlewareData:d,rects:f,platform:s,elements:{reference:e,floating:t}});m=w??m,o=b??o,d={...d,[v]:{...d[v],...P}},T&&h<=50&&(h++,typeof T=="object"&&(T.placement&&(l=T.placement),T.rects&&(f=T.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):T.rects),{x:m,y:o}=Ul(f,l,c)),_=-1)}return{x:m,y:o,placement:l,strategy:i,middlewareData:d}};async function Sc(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:s,elements:u,strategy:c}=e,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:o="floating",altBoundary:l=!1,padding:d=0}=Ho(t,e),h=m_(d),v=u[l?o==="floating"?"reference":"floating":o],p=co(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(v)))==null||n?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:f,rootBoundary:m,strategy:c})),w=o==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),P=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},T=co(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:w,offsetParent:b,strategy:c}):w);return{top:(p.top-T.top+h.top)/P.y,bottom:(T.bottom-p.bottom+h.bottom)/P.y,left:(p.left-T.left+h.left)/P.x,right:(T.right-p.right+h.right)/P.x}}const p_=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:u,platform:c,elements:f}=t,{mainAxis:m=!0,crossAxis:o=!0,fallbackPlacements:l,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:_=!0,...v}=Ho(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const p=zn(i),w=vn(u),b=zn(u)===u,P=await(c.isRTL==null?void 0:c.isRTL(f.floating)),T=l||(b||!_?[fo(u)]:s_(u)),F=h!=="none";!l&&F&&T.push(...c_(u,_,h,P));const N=[u,...T],M=await Sc(t,v),k=[];let re=((r=a.flip)==null?void 0:r.overflows)||[];if(m&&k.push(M[p]),o){const K=a_(i,s,P);k.push(M[K[0]],M[K[1]])}if(re=[...re,{placement:i,overflows:k}],!k.every(K=>K<=0)){var R,J;const K=(((R=a.flip)==null?void 0:R.index)||0)+1,pe=N[K];if(pe&&(!(o==="alignment"?w!==vn(pe):!1)||re.every(C=>vn(C.placement)===w?C.overflows[0]>0:!0)))return{data:{index:K,overflows:re},reset:{placement:pe}};let X=(J=re.filter(U=>U.overflows[0]<=0).sort((U,C)=>U.overflows[1]-C.overflows[1])[0])==null?void 0:J.placement;if(!X)switch(d){case"bestFit":{var Y;const U=(Y=re.filter(C=>{if(F){const L=vn(C.placement);return L===w||L==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(L=>L>0).reduce((L,de)=>L+de,0)]).sort((C,L)=>C[1]-L[1])[0])==null?void 0:Y[0];U&&(X=U);break}case"initialPlacement":X=u;break}if(i!==X)return{reset:{placement:X}}}return{}}}},v_=new Set(["left","top"]);async function __(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=zn(n),u=Bo(n),c=vn(n)==="y",f=v_.has(s)?-1:1,m=a&&c?-1:1,o=Ho(t,e);let{mainAxis:l,crossAxis:d,alignmentAxis:h}=typeof o=="number"?{mainAxis:o,crossAxis:0,alignmentAxis:null}:{mainAxis:o.mainAxis||0,crossAxis:o.crossAxis||0,alignmentAxis:o.alignmentAxis};return u&&typeof h=="number"&&(d=u==="end"?h*-1:h),c?{x:d*m,y:l*f}:{x:l*f,y:d*m}}const g_=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:s,middlewareData:u}=t,c=await __(t,e);return s===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:s}}}}},y_=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:u={fn:v=>{let{x:p,y:w}=v;return{x:p,y:w}}},...c}=Ho(e,t),f={x:n,y:r},m=await Sc(t,c),o=vn(zn(i)),l=wc(o);let d=f[l],h=f[o];if(a){const v=l==="y"?"top":"left",p=l==="y"?"bottom":"right",w=d+m[v],b=d-m[p];d=Wl(w,d,b)}if(s){const v=o==="y"?"top":"left",p=o==="y"?"bottom":"right",w=h+m[v],b=h-m[p];h=Wl(w,h,b)}const _=u.fn({...t,[l]:d,[o]:h});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[l]:a,[o]:s}}}}}};function Vo(){return typeof window<"u"}function Lr(e){return Tc(e)?(e.nodeName||"").toLowerCase():"#document"}function ze(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Vt(e){var t;return(t=(Tc(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Tc(e){return Vo()?e instanceof Node||e instanceof ze(e).Node:!1}function gt(e){return Vo()?e instanceof Element||e instanceof ze(e).Element:!1}function Bt(e){return Vo()?e instanceof HTMLElement||e instanceof ze(e).HTMLElement:!1}function Ql(e){return!Vo()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ze(e).ShadowRoot}const M_=new Set(["inline","contents"]);function wi(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=yt(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!M_.has(i)}const P_=new Set(["table","td","th"]);function b_(e){return P_.has(Lr(e))}const w_=[":popover-open",":modal"];function qo(e){return w_.some(t=>{try{return e.matches(t)}catch{return!1}})}const A_=["transform","translate","scale","rotate","perspective"],x_=["transform","translate","scale","rotate","perspective","filter"],S_=["paint","layout","strict","content"];function Ns(e){const t=ks(),n=gt(e)?yt(e):e;return A_.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||x_.some(r=>(n.willChange||"").includes(r))||S_.some(r=>(n.contain||"").includes(r))}function T_(e){let t=Pn(e);for(;Bt(t)&&!Er(t);){if(Ns(t))return t;if(qo(t))return null;t=Pn(t)}return null}function ks(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const E_=new Set(["html","body","#document"]);function Er(e){return E_.has(Lr(e))}function yt(e){return ze(e).getComputedStyle(e)}function Go(e){return gt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Pn(e){if(Lr(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ql(e)&&e.host||Vt(e);return Ql(t)?t.host:t}function Ec(e){const t=Pn(e);return Er(t)?e.ownerDocument?e.ownerDocument.body:e.body:Bt(t)&&wi(t)?t:Ec(t)}function ui(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=Ec(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),s=ze(i);if(a){const u=Ya(s);return t.concat(s,s.visualViewport||[],wi(i)?i:[],u&&n?ui(u):[])}return t.concat(i,ui(i,[],n))}function Ya(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Nc(e){const t=yt(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Bt(e),a=i?e.offsetWidth:n,s=i?e.offsetHeight:r,u=uo(n)!==a||uo(r)!==s;return u&&(n=a,r=s),{width:n,height:r,$:u}}function Cs(e){return gt(e)?e:e.contextElement}function pr(e){const t=Cs(e);if(!Bt(t))return Rt(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=Nc(t);let s=(a?uo(n.width):n.width)/r,u=(a?uo(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!u||!Number.isFinite(u))&&(u=1),{x:s,y:u}}const N_=Rt(0);function kc(e){const t=ze(e);return!ks()||!t.visualViewport?N_:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function k_(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ze(e)?!1:t}function Un(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=Cs(e);let s=Rt(1);t&&(r?gt(r)&&(s=pr(r)):s=pr(e));const u=k_(a,n,r)?kc(a):Rt(0);let c=(i.left+u.x)/s.x,f=(i.top+u.y)/s.y,m=i.width/s.x,o=i.height/s.y;if(a){const l=ze(a),d=r&&gt(r)?ze(r):r;let h=l,_=Ya(h);for(;_&&r&&d!==h;){const v=pr(_),p=_.getBoundingClientRect(),w=yt(_),b=p.left+(_.clientLeft+parseFloat(w.paddingLeft))*v.x,P=p.top+(_.clientTop+parseFloat(w.paddingTop))*v.y;c*=v.x,f*=v.y,m*=v.x,o*=v.y,c+=b,f+=P,h=ze(_),_=Ya(h)}}return co({width:m,height:o,x:c,y:f})}function Xo(e,t){const n=Go(e).scrollLeft;return t?t.left+n:Un(Vt(e)).left+n}function Cc(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Xo(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function C_(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",s=Vt(r),u=t?qo(t.floating):!1;if(r===s||u&&a)return n;let c={scrollLeft:0,scrollTop:0},f=Rt(1);const m=Rt(0),o=Bt(r);if((o||!o&&!a)&&((Lr(r)!=="body"||wi(s))&&(c=Go(r)),Bt(r))){const d=Un(r);f=pr(r),m.x=d.x+r.clientLeft,m.y=d.y+r.clientTop}const l=s&&!o&&!a?Cc(s,c):Rt(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-c.scrollLeft*f.x+m.x+l.x,y:n.y*f.y-c.scrollTop*f.y+m.y+l.y}}function O_(e){return Array.from(e.getClientRects())}function I_(e){const t=Vt(e),n=Go(e),r=e.ownerDocument.body,i=Vn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Vn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Xo(e);const u=-n.scrollTop;return yt(r).direction==="rtl"&&(s+=Vn(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:u}}const Zl=25;function $_(e,t){const n=ze(e),r=Vt(e),i=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,u=0,c=0;if(i){a=i.width,s=i.height;const m=ks();(!m||m&&t==="fixed")&&(u=i.offsetLeft,c=i.offsetTop)}const f=Xo(r);if(f<=0){const m=r.ownerDocument,o=m.body,l=getComputedStyle(o),d=m.compatMode==="CSS1Compat"&&parseFloat(l.marginLeft)+parseFloat(l.marginRight)||0,h=Math.abs(r.clientWidth-o.clientWidth-d);h<=Zl&&(a-=h)}else f<=Zl&&(a+=f);return{width:a,height:s,x:u,y:c}}const F_=new Set(["absolute","fixed"]);function R_(e,t){const n=Un(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Bt(e)?pr(e):Rt(1),s=e.clientWidth*a.x,u=e.clientHeight*a.y,c=i*a.x,f=r*a.y;return{width:s,height:u,x:c,y:f}}function Kl(e,t,n){let r;if(t==="viewport")r=$_(e,n);else if(t==="document")r=I_(Vt(e));else if(gt(t))r=R_(t,n);else{const i=kc(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return co(r)}function Oc(e,t){const n=Pn(e);return n===t||!gt(n)||Er(n)?!1:yt(n).position==="fixed"||Oc(n,t)}function L_(e,t){const n=t.get(e);if(n)return n;let r=ui(e,[],!1).filter(u=>gt(u)&&Lr(u)!=="body"),i=null;const a=yt(e).position==="fixed";let s=a?Pn(e):e;for(;gt(s)&&!Er(s);){const u=yt(s),c=Ns(s);!c&&u.position==="fixed"&&(i=null),(a?!c&&!i:!c&&u.position==="static"&&!!i&&F_.has(i.position)||wi(s)&&!c&&Oc(e,s))?r=r.filter(m=>m!==s):i=u,s=Pn(s)}return t.set(e,r),r}function j_(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?qo(t)?[]:L_(t,this._c):[].concat(n),r],u=s[0],c=s.reduce((f,m)=>{const o=Kl(t,m,i);return f.top=Vn(o.top,f.top),f.right=lo(o.right,f.right),f.bottom=lo(o.bottom,f.bottom),f.left=Vn(o.left,f.left),f},Kl(t,u,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function D_(e){const{width:t,height:n}=Nc(e);return{width:t,height:n}}function H_(e,t,n){const r=Bt(t),i=Vt(t),a=n==="fixed",s=Un(e,!0,a,t);let u={scrollLeft:0,scrollTop:0};const c=Rt(0);function f(){c.x=Xo(i)}if(r||!r&&!a)if((Lr(t)!=="body"||wi(i))&&(u=Go(t)),r){const d=Un(t,!0,a,t);c.x=d.x+t.clientLeft,c.y=d.y+t.clientTop}else i&&f();a&&!r&&i&&f();const m=i&&!r&&!a?Cc(i,u):Rt(0),o=s.left+u.scrollLeft-c.x-m.x,l=s.top+u.scrollTop-c.y-m.y;return{x:o,y:l,width:s.width,height:s.height}}function ga(e){return yt(e).position==="static"}function Jl(e,t){if(!Bt(e)||yt(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Vt(e)===n&&(n=n.ownerDocument.body),n}function Ic(e,t){const n=ze(e);if(qo(e))return n;if(!Bt(e)){let i=Pn(e);for(;i&&!Er(i);){if(gt(i)&&!ga(i))return i;i=Pn(i)}return n}let r=Jl(e,t);for(;r&&b_(r)&&ga(r);)r=Jl(r,t);return r&&Er(r)&&ga(r)&&!Ns(r)?n:r||T_(e)||n}const B_=async function(e){const t=this.getOffsetParent||Ic,n=this.getDimensions,r=await n(e.floating);return{reference:H_(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function V_(e){return yt(e).direction==="rtl"}const q_={convertOffsetParentRelativeRectToViewportRelativeRect:C_,getDocumentElement:Vt,getClippingRect:j_,getOffsetParent:Ic,getElementRects:B_,getClientRects:O_,getDimensions:D_,getScale:pr,isElement:gt,isRTL:V_};function $c(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function G_(e,t){let n=null,r;const i=Vt(e);function a(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function s(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),a();const f=e.getBoundingClientRect(),{left:m,top:o,width:l,height:d}=f;if(u||t(),!l||!d)return;const h=Ri(o),_=Ri(i.clientWidth-(m+l)),v=Ri(i.clientHeight-(o+d)),p=Ri(m),b={rootMargin:-h+"px "+-_+"px "+-v+"px "+-p+"px",threshold:Vn(0,lo(1,c))||1};let P=!0;function T(F){const N=F[0].intersectionRatio;if(N!==c){if(!P)return s();N?s(!1,N):r=setTimeout(()=>{s(!1,1e-7)},1e3)}N===1&&!$c(f,e.getBoundingClientRect())&&s(),P=!1}try{n=new IntersectionObserver(T,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(T,b)}n.observe(e)}return s(!0),a}function X_(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,f=Cs(e),m=i||a?[...f?ui(f):[],...ui(t)]:[];m.forEach(p=>{i&&p.addEventListener("scroll",n,{passive:!0}),a&&p.addEventListener("resize",n)});const o=f&&u?G_(f,n):null;let l=-1,d=null;s&&(d=new ResizeObserver(p=>{let[w]=p;w&&w.target===f&&d&&(d.unobserve(t),cancelAnimationFrame(l),l=requestAnimationFrame(()=>{var b;(b=d)==null||b.observe(t)})),n()}),f&&!c&&d.observe(f),d.observe(t));let h,_=c?Un(e):null;c&&v();function v(){const p=Un(e);_&&!$c(_,p)&&n(),_=p,h=requestAnimationFrame(v)}return n(),()=>{var p;m.forEach(w=>{i&&w.removeEventListener("scroll",n),a&&w.removeEventListener("resize",n)}),o==null||o(),(p=d)==null||p.disconnect(),d=null,c&&cancelAnimationFrame(h)}}const W_=g_,Y_=y_,z_=p_,U_=(e,t,n)=>{const r=new Map,i={platform:q_,...n},a={...i.platform,_c:r};return h_(e,t,{...i,platform:a})};function Q_(e){let t,n;const r={autoUpdate:!0};let i=e;const a=m=>({...r,...e||{},...m||{}}),s=m=>{t&&n&&(i=a(m),U_(t,n,i).then(o=>{Object.assign(n.style,{position:o.strategy,left:`${o.x}px`,top:`${o.y}px`}),i!=null&&i.onComputed&&i.onComputed(o)}))},u=m=>{if("subscribe"in m)return f(m),{};t=m,s()},c=(m,o)=>{let l;n=m,i=a(o),setTimeout(()=>s(o),0),s(o);const d=()=>{l&&(l(),l=void 0)},h=({autoUpdate:_}=i||{})=>{d(),_!==!1&&pf().then(()=>X_(t,n,()=>s(i),_===!0?{}:_))};return l=h(),{update(_){s(_),l=h(_)},destroy(){d()}}},f=m=>{const o=m.subscribe(l=>{t===void 0?(t=l,s()):(Object.assign(t,l),s())});Ef(o)};return[u,c,s]}function Z_({loadOptions:e,filterText:t,items:n,multiple:r,value:i,itemId:a,groupBy:s,filterSelectedItems:u,itemFilter:c,convertStringItemsToObjects:f,filterGroupedItems:m,label:o}){if(n&&e)return n;if(!n)return[];n&&n.length>0&&typeof n[0]!="object"&&(n=f(n));let l=n.filter(d=>{let h=c(d[o],t,d);return h&&r&&(i!=null&&i.length)&&(h=!i.some(_=>u?_[a]===d[a]:!1)),h});return s&&(l=m(l)),l}async function K_({dispatch:e,loadOptions:t,convertStringItemsToObjects:n,filterText:r}){let i=await t(r).catch(a=>{console.warn("svelte-select loadOptions error :>> ",a),e("error",{type:"loadOptions",details:a})});if(i&&!i.cancelled)return i?(i&&i.length>0&&typeof i[0]!="object"&&(i=n(i)),e("loaded",{items:i})):i=[],{filteredItems:i,loading:!1,focused:!0,listOpen:!0}}var J_=Pt(`<svg width="100%" height="100%" viewBox="0 0 20 20" focusable="false" aria-hidden="true" class="svelte-1kxu7be"><path fill="currentColor" d="M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747
          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0
          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502
          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0
          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"></path></svg>`);function e0(e){var t=J_();$(e,t)}var t0=Pt(`<svg width="100%" height="100%" viewBox="-2 -2 50 50" focusable="false" aria-hidden="true" role="presentation" class="svelte-1hraxrc"><path fill="currentColor" d="M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124
    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"></path></svg>`);function ya(e){var t=t0();$(e,t)}var n0=Pt('<svg class="loading svelte-y9fi5p" viewBox="25 25 50 50"><circle class="circle_path svelte-y9fi5p" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg>');function r0(e){var t=n0();$(e,t)}var i0=ee('<div class="list-item svelte-1ul7oo4" tabindex="-1" role="none"><div><!></div></div>'),o0=ee('<div class="empty svelte-1ul7oo4">No options</div>'),a0=ee('<div role="none"><!> <!> <!></div>'),s0=ee('<span id="aria-selection" class="svelte-1ul7oo4"> </span> <span id="aria-context" class="svelte-1ul7oo4"> </span>',1),l0=ee('<div class="multi-item-clear svelte-1ul7oo4"><!></div>'),u0=ee('<div role="none"><span class="multi-item-text svelte-1ul7oo4"><!></span> <!></div>'),f0=ee("<div><!></div>"),c0=ee('<div class="icon loading svelte-1ul7oo4" aria-hidden="true"><!></div>'),d0=ee('<button type="button" class="icon clear-select svelte-1ul7oo4"><!></button>'),m0=ee('<div class="icon chevron svelte-1ul7oo4" aria-hidden="true"><!></div>'),h0=ee('<input type="hidden" class="svelte-1ul7oo4"/>'),p0=ee('<select class="required svelte-1ul7oo4" required tabindex="-1" aria-hidden="true"></select>'),v0=ee('<div role="none"><!> <span aria-live="polite" aria-atomic="false" aria-relevant="additions text" class="a11y-text svelte-1ul7oo4"><!></span> <div class="prepend svelte-1ul7oo4"><!></div> <div class="value-container svelte-1ul7oo4"><!> <input/></div> <div class="indicators svelte-1ul7oo4"><!> <!> <!></div> <!> <!></div>');function _0(e,t){const n=Eh(t);Ue(t,!1);const r=B(),i=B(),a=B(),s=B(),u=B(),c=B(),f=B(),m=B(),o=B(),l=Nf();let d=O(t,"justValue",12,null),h=O(t,"filter",8,Z_),_=O(t,"getItems",8,K_),v=O(t,"id",8,null),p=O(t,"name",8,null),w=O(t,"container",12,void 0),b=O(t,"input",12,void 0),P=O(t,"multiple",8,!1),T=O(t,"multiFullItemClearable",8,!1),F=O(t,"disabled",8,!1),N=O(t,"focused",12,!1),M=O(t,"value",12,null),k=O(t,"filterText",12,""),re=O(t,"placeholder",8,"Please select"),R=O(t,"placeholderAlwaysShow",8,!1),J=O(t,"items",12,null),Y=O(t,"label",8,"label"),K=O(t,"itemFilter",8,(y,x,q)=>`${y}`.toLowerCase().includes(x.toLowerCase())),pe=O(t,"groupBy",8,void 0),X=O(t,"groupFilter",8,y=>y),U=O(t,"groupHeaderSelectable",8,!1),C=O(t,"itemId",8,"value"),L=O(t,"loadOptions",8,void 0),de=O(t,"containerStyles",8,""),Fe=O(t,"hasError",8,!1),ae=O(t,"filterSelectedItems",8,!0),fe=O(t,"required",8,!1),Me=O(t,"closeListOnChange",8,!0),ke=O(t,"clearFilterTextOnBlur",8,!0),wn=O(t,"createGroupHeaderItem",8,(y,x)=>({value:y,[Y()]:y}));const An=()=>g(f);let Gt=O(t,"searchable",8,!0),jr=O(t,"inputStyles",8,""),Ze=O(t,"clearable",8,!0),qe=O(t,"loading",12,!1),V=O(t,"listOpen",12,!1),rr,Dr=O(t,"debounce",8,(y,x=1)=>{clearTimeout(rr),rr=setTimeout(y,x)}),wt=O(t,"debounceWait",8,300),Xt=O(t,"hideEmptyState",8,!1),Pe=O(t,"inputAttributes",24,()=>({})),ir=O(t,"listAutoWidth",8,!0),on=O(t,"showChevron",8,!1),Hr=O(t,"listOffset",8,5),oe=O(t,"hoverItemIndex",12,0),Br=O(t,"floatingConfig",24,()=>({})),md=O(t,"class",8,""),le=B(),an=B(),Qo=B(),Zo=B();function hd(){if(typeof M()=="string"){let y=(J()||[]).find(x=>x[C()]===M());M(y||{[C()]:M(),label:M()})}else P()&&Array.isArray(M())&&M().length>0&&M(M().map(y=>typeof y=="string"?{value:y,label:y}:y))}let or=B();function pd(){E(or,Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},Pe())),v()&&Ci(or,g(or).id=v()),Gt()||Ci(or,g(or).readonly=!0)}function Gs(y){return y.map((x,q)=>({index:q,value:x,label:`${x}`}))}function Xs(y){const x=[],q={};y.forEach(Re=>{const ve=pe()(Re);x.includes(ve)||(x.push(ve),q[ve]=[],ve&&q[ve].push(Object.assign(wn()(ve,Re),{id:ve,groupHeader:!0,selectable:U()}))),q[ve].push(Object.assign({groupItem:!!ve},Re))});const ce=[];return X()(x).forEach(Re=>{q[Re]&&ce.push(...q[Re])}),ce}function vd(){if(P()){JSON.stringify(M())!==JSON.stringify(g(an))&&Ys()&&l("input",M());return}(!g(an)||JSON.stringify(M()[C()])!==JSON.stringify(g(an)[C()]))&&l("input",M())}function _d(){M()&&(Array.isArray(M())?M([...M()]):M([M()]))}function gd(){M()&&M(null)}function yd(){const y=g(f).findIndex(x=>x[C()]===M()[C()]);Ws(y,!0)}function Md(y){l("hoverItem",y)}function Ws(y=0,x){oe(y<0?0:y),!x&&pe()&&g(f)[oe()]&&!g(f)[oe()].selectable&&Si(1)}function Pd(){!L()&&k().length===0||(L()?Dr()(async function(){qe(!0);let y=await _()({dispatch:l,loadOptions:L(),convertStringItemsToObjects:Gs,filterText:k()});y?(qe(y.loading),V(V()?y.listOpen:k().length>0),N(V()&&y.focused),J(pe()?Xs(y.filteredItems):y.filteredItems)):(qe(!1),N(!0),V(!0))},wt()):(V(!0),P()&&E(le,void 0)))}function bd(y){V()&&l("filter",y)}Xh(async()=>{E(an,M()),E(Qo,k()),E(Zo,P())});function wd(){return P()?M()?M().map(y=>y[C()]):null:M()?M()[C()]:M()}function Ys(){let y=!0;if(M()){const x=[],q=[];M().forEach(ce=>{x.includes(ce[C()])?y=!1:(x.push(ce[C()]),q.push(ce))}),y||M(q)}return y}function zs(y){let x=y?y[C()]:M()[C()];return J().find(q=>q[C()]===x)}function Ad(y){!y||y.length===0||y.some(x=>typeof x!="object")||!M()||(P()?M().some(x=>!x||!x[C()]):!M()[C()])||(Array.isArray(M())?M(M().map(x=>zs(x)||x)):M(zs()||M()))}async function Ko(y){const x=M()[y];M().length===1?M(void 0):M(M().filter(q=>q!==x)),l("clear",x)}function Us(y){if(N())switch(y.stopPropagation(),y.key){case"Escape":y.preventDefault(),Wt();break;case"Enter":if(y.preventDefault(),V()){if(g(f).length===0)break;const x=g(f)[oe()];if(M()&&!P()&&M()[C()]===x[C()]){Wt();break}else na(g(f)[oe()])}break;case"ArrowDown":y.preventDefault(),V()?Si(1):(V(!0),E(le,void 0));break;case"ArrowUp":y.preventDefault(),V()?Si(-1):(V(!0),E(le,void 0));break;case"Tab":if(V()&&N()){if(g(f).length===0||M()&&M()[C()]===g(f)[oe()][C()])return Wt();y.preventDefault(),na(g(f)[oe()]),Wt()}break;case"Backspace":if(!P()||k().length>0)return;if(P()&&M()&&M().length>0){if(Ko(g(le)!==void 0?g(le):M().length-1),g(le)===0||g(le)===void 0)break;E(le,M().length>g(le)?g(le)-1:void 0)}break;case"ArrowLeft":if(!M()||!P()||k().length>0)return;g(le)===void 0?E(le,M().length-1):M().length>g(le)&&g(le)!==0&&E(le,g(le)-1);break;case"ArrowRight":if(!M()||!P()||k().length>0||g(le)===void 0)return;g(le)===M().length-1?E(le,void 0):g(le)<M().length-1&&E(le,g(le)+1);break}}function Jo(y){var x;N()&&b()===(document==null?void 0:document.activeElement)||(y&&l("focus",y),(x=b())==null||x.focus(),N(!0))}async function Qs(y){var x;ta||(V()||N())&&(l("blur",y),Wt(),N(!1),E(le,void 0),(x=b())==null||x.blur())}function xd(){if(!F()){if(k().length>0)return V(!0);V(!V())}}function ea(){l("clear",M()),M(void 0),Wt(),Jo()}gs(()=>{V()&&N(!0),N()&&b()&&b().focus()});function Sd(y){if(y){k("");const x=Object.assign({},y);if(x.groupHeader&&!x.selectable)return;M(P()?M()?M().concat([x]):[x]:M(x)),setTimeout(()=>{Me()&&Wt(),E(le,void 0),l("change",M()),l("select",y)})}}function Wt(){ke()&&k(""),V(!1)}let Td=O(t,"ariaValues",8,y=>`Option ${y}, selected.`),Ed=O(t,"ariaListOpen",8,(y,x)=>`You are currently focused on option ${y}. There are ${x} results available.`),Nd=O(t,"ariaFocused",8,()=>"Select is focused, type to refine list, press down to open the menu.");function kd(y){let x;return y&&M().length>0?x=M().map(q=>q[Y()]).join(", "):x=M()[Y()],Td()(x)}function Cd(){if(!g(f)||g(f).length===0)return"";let y=g(f)[oe()];if(V()&&y){let x=g(f)?g(f).length:0;return Ed()(y[Y()],x)}else return Nd()()}let Ke=B(null),Zs;function Ks(){clearTimeout(Zs),Zs=setTimeout(()=>{ta=!1},100)}function Od(y){var x;!V()&&!N()&&w()&&!w().contains(y.target)&&!((x=g(Ke))!=null&&x.contains(y.target))&&Qs()}Ef(()=>{var y;(y=g(Ke))==null||y.remove()});let ta=!1;function na(y){!y||y.selectable===!1||Sd(y)}function Js(y){ta||oe(y)}function Id(y){const{item:x,i:q}=y;if((x==null?void 0:x.selectable)!==!1){if(M()&&!P()&&M()[C()]===x[C()])return Wt();Fd(x)&&(oe(q),na(x))}}function Si(y){if(g(f).filter(ce=>!Object.hasOwn(ce,"selectable")||ce.selectable===!0).length===0)return oe(0);y>0&&oe()===g(f).length-1?oe(0):y<0&&oe()===0?oe(g(f).length-1):oe(oe()+y);const q=g(f)[oe()];if(q&&q.selectable===!1){(y===1||y===-1)&&Si(y);return}}function el(y,x,q){if(!P())return x&&x[q]===y[q]}function $d(y){return y===0}function Fd(y){return y.groupHeader&&y.selectable||y.selectable||!y.hasOwnProperty("selectable")}const ra=tl,ia=tl;function tl(y){return{update(x){x.scroll&&(Ks(),y.scrollIntoView({behavior:"auto",block:"nearest"}))}}}function Rd(){const{width:y}=w().getBoundingClientRect();Ci(Ke,g(Ke).style.width=ir()?y+"px":"auto")}let Vr=B({strategy:"absolute",placement:"bottom-start",middleware:[W_(Hr()),z_(),Y_()],autoUpdate:!1});const[oa,aa,Ld]=Q_(g(Vr));let sa=B(!0);function jd(y,x){if(!y||!x)return E(sa,!0);setTimeout(()=>{E(sa,!1)},0)}D(()=>(S(J()),S(M())),()=>{J(),M()&&hd()}),D(()=>(S(Pe()),S(Gt())),()=>{(Pe()||!Gt())&&pd()}),D(()=>S(P()),()=>{P()&&_d()}),D(()=>(g(Zo),S(P())),()=>{g(Zo)&&!P()&&gd()}),D(()=>(S(P()),S(M())),()=>{P()&&M()&&M().length>1&&Ys()}),D(()=>S(M()),()=>{M()&&vd()}),D(()=>(S(M()),S(P()),g(an)),()=>{!M()&&P()&&g(an)&&l("input",M())}),D(()=>(S(N()),S(b())),()=>{!N()&&b()&&Wt()}),D(()=>(S(k()),g(Qo)),()=>{k()!==g(Qo)&&Pd()}),D(()=>(S(h()),S(L()),S(k()),S(J()),S(P()),S(M()),S(C()),S(pe()),S(Y()),S(ae()),S(K())),()=>{E(f,h()({loadOptions:L(),filterText:k(),items:J(),multiple:P(),value:M(),itemId:C(),groupBy:pe(),label:Y(),filterSelectedItems:ae(),itemFilter:K(),convertStringItemsToObjects:Gs,filterGroupedItems:Xs}))}),D(()=>(S(P()),S(V()),S(M()),g(f)),()=>{!P()&&V()&&M()&&g(f)&&yd()}),D(()=>(S(V()),S(P())),()=>{V()&&P()&&oe(0)}),D(()=>S(k()),()=>{k()&&oe(0)}),D(()=>S(oe()),()=>{Md(oe())}),D(()=>(S(P()),S(M())),()=>{E(r,P()?M()&&M().length>0:M())}),D(()=>(g(r),S(k())),()=>{E(i,g(r)&&k().length>0)}),D(()=>(g(r),S(Ze()),S(F()),S(qe())),()=>{E(a,g(r)&&Ze()&&!F()&&!qe())}),D(()=>(S(R()),S(P()),S(re()),S(M())),()=>{var y;E(s,R()&&P()||P()&&((y=M())==null?void 0:y.length)===0?re():M()?"":re())}),D(()=>(S(M()),S(P())),()=>{E(u,M()?kd(P()):"")}),D(()=>(g(f),S(oe()),S(N()),S(V())),()=>{E(c,Cd({filteredItems:g(f),hoverItemIndex:oe(),focused:N(),listOpen:V()}))}),D(()=>S(J()),()=>{Ad(J())}),D(()=>(S(P()),S(M()),S(C())),()=>{d(wd(P(),M(),C()))}),D(()=>(S(P()),g(an),S(M())),()=>{!P()&&g(an)&&!M()&&l("input",M())}),D(()=>(S(V()),g(f),S(P()),S(M())),()=>{V()&&g(f)&&!P()&&!M()&&Ws()}),D(()=>g(f),()=>{bd(g(f))}),D(()=>(S(w()),S(Br()),g(Vr)),()=>{w()&&Br()&&Ld(Object.assign(g(Vr),Br()))}),D(()=>g(Ke),()=>{E(m,!!g(Ke))}),D(()=>(g(Ke),S(V())),()=>{jd(g(Ke),V())}),D(()=>(S(V()),S(w()),g(Ke)),()=>{V()&&w()&&g(Ke)&&Rd()}),D(()=>S(oe()),()=>{E(o,oe())}),D(()=>(S(b()),S(V()),S(N())),()=>{b()&&V()&&!N()&&Jo()}),D(()=>(S(w()),S(Br())),()=>{var y;w()&&((y=Br())==null?void 0:y.autoUpdate)===void 0&&Ci(Vr,g(Vr).autoUpdate=!0)}),bn();var Dd={getFilteredItems:An,handleClear:ea};st();var xn=v0();se("click",to,Od),se("keydown",to,Us);let nl;var rl=I(xn);{var Hd=y=>{var x=a0();let q;var ce=I(x);{var Re=te=>{var be=Xe(),At=Ne(be);Oe(At,t,"list-prepend",{},null),$(te,be)};he(ce,te=>{j(()=>n["list-prepend"])&&te(Re)})}var ve=H(ce,2);{var sn=te=>{var be=Xe(),At=Ne(be);Oe(At,t,"list",{get filteredItems(){return g(f)}},null),$(te,be)},sr=te=>{var be=Xe(),At=Ne(be);{var Ti=ln=>{var Tn=Xe(),lt=Ne(Tn);Ft(lt,1,()=>g(f),$t,(xt,Ce,Je)=>{var un=i0(),lr=I(un);let Ei;var Zd=I(lr);Oe(Zd,t,"item",{get item(){return g(Ce)},index:Je},et=>{var Ni=fa();ie(()=>De(Ni,(g(Ce),S(Y()),j(()=>{var dl;return(dl=g(Ce))==null?void 0:dl[Y()]})))),$(et,Ni)}),Oi(lr,(et,Ni)=>ra==null?void 0:ra(et),()=>({scroll:el(g(Ce),M(),C()),listDom:g(m)})),Oi(lr,(et,Ni)=>ia==null?void 0:ia(et),()=>({scroll:g(o)===Je,listDom:g(m)})),ie(et=>Ei=dt(lr,1,"item svelte-1ul7oo4",null,Ei,et),[()=>{var et;return{"list-group-title":g(Ce).groupHeader,active:el(g(Ce),M(),C()),first:$d(Je),hover:oe()===Je,"group-item":g(Ce).groupItem,"not-selectable":((et=g(Ce))==null?void 0:et.selectable)===!1}}]),se("mouseover",un,()=>Js(Je)),se("focus",un,()=>Js(Je)),se("click",un,fr(()=>Id({item:g(Ce),i:Je}))),se("keydown",un,En(fr(function(et){$i.call(this,t,et)}))),$(xt,un)}),$(ln,Tn)},la=ln=>{var Tn=Xe(),lt=Ne(Tn);{var xt=Ce=>{var Je=Xe(),un=Ne(Je);Oe(un,t,"empty",{},lr=>{var Ei=o0();$(lr,Ei)}),$(Ce,Je)};he(lt,Ce=>{Xt()||Ce(xt)},!0)}$(ln,Tn)};he(At,ln=>{g(f),j(()=>g(f).length>0)?ln(Ti):ln(la,!1)},!0)}$(te,be)};he(ve,te=>{j(()=>n.list)?te(sn):te(sr,!1)})}var qr=H(ve,2);{var Sn=te=>{var be=Xe(),At=Ne(be);Oe(At,t,"list-append",{},null),$(te,be)};he(qr,te=>{j(()=>n["list-append"])&&te(Sn)})}Oi(x,te=>aa==null?void 0:aa(te)),qi(x,te=>E(Ke,te),()=>g(Ke)),Zt(()=>se("scroll",x,Ks)),Zt(()=>se("pointerup",x,En(fr(function(te){$i.call(this,t,te)})))),Zt(()=>se("mousedown",x,En(fr(function(te){$i.call(this,t,te)})))),ie(()=>q=dt(x,1,"svelte-select-list svelte-1ul7oo4",null,q,{prefloat:g(sa)})),$(y,x)};he(rl,y=>{V()&&y(Hd)})}var il=H(rl,2),Bd=I(il);{var Vd=y=>{var x=s0(),q=Ne(x),ce=I(q),Re=H(q,2),ve=I(Re);ie(()=>{De(ce,g(u)),De(ve,g(c))}),$(y,x)};he(Bd,y=>{N()&&y(Vd)})}var ol=H(il,2),qd=I(ol);Oe(qd,t,"prepend",{},null);var al=H(ol,2),sl=I(al);{var Gd=y=>{var x=Xe(),q=Ne(x);{var ce=ve=>{var sn=Xe(),sr=Ne(sn);Ft(sr,1,M,$t,(qr,Sn,te)=>{var be=u0();let At;var Ti=I(be),la=I(Ti);Oe(la,t,"selection",{get selection(){return g(Sn)},index:te},lt=>{var xt=fa();ie(()=>De(xt,(g(Sn),S(Y()),j(()=>g(Sn)[Y()])))),$(lt,xt)});var ln=H(Ti,2);{var Tn=lt=>{var xt=l0(),Ce=I(xt);Oe(Ce,t,"multi-clear-icon",{},Je=>{ya(Je)}),se("pointerup",xt,En(fr(()=>Ko(te)))),$(lt,xt)};he(ln,lt=>{!F()&&!T()&&ya&&lt(Tn)})}ie(()=>At=dt(be,1,"multi-item svelte-1ul7oo4",null,At,{active:g(le)===te,disabled:F()})),se("click",be,En(()=>T()?Ko(te):{})),se("keydown",be,En(fr(function(lt){$i.call(this,t,lt)}))),$(qr,be)}),$(ve,sn)},Re=ve=>{var sn=f0();let sr;var qr=I(sn);Oe(qr,t,"selection",{get selection(){return M()}},Sn=>{var te=fa();ie(()=>De(te,(S(M()),S(Y()),j(()=>M()[Y()])))),$(Sn,te)}),ie(()=>sr=dt(sn,1,"selected-item svelte-1ul7oo4",null,sr,{"hide-selected-item":g(i)})),$(ve,sn)};he(q,ve=>{P()?ve(ce):ve(Re,!1)})}$(y,x)};he(sl,y=>{g(r)&&y(Gd)})}var ar=H(sl,2);Lh(ar,()=>({readOnly:!Gt(),...g(or),placeholder:g(s),style:jr(),disabled:F()}),void 0,void 0,void 0,"svelte-1ul7oo4",!0),qi(ar,y=>b(y),()=>b());var ll=H(al,2),ul=I(ll);{var Xd=y=>{var x=c0(),q=I(x);Oe(q,t,"loading-icon",{},ce=>{r0(ce)}),$(y,x)};he(ul,y=>{qe()&&y(Xd)})}var fl=H(ul,2);{var Wd=y=>{var x=d0(),q=I(x);Oe(q,t,"clear-icon",{},ce=>{ya(ce)}),se("click",x,ea),$(y,x)};he(fl,y=>{g(a)&&y(Wd)})}var Yd=H(fl,2);{var zd=y=>{var x=m0(),q=I(x);Oe(q,t,"chevron-icon",{get listOpen(){return V()}},ce=>{e0(ce)}),$(y,x)};he(Yd,y=>{on()&&y(zd)})}var cl=H(ll,2);Oe(cl,t,"input-hidden",{get value(){return M()}},y=>{var x=h0();ie(q=>{me(x,"name",p()),$h(x,q)},[()=>(S(M()),j(()=>M()?JSON.stringify(M()):null))]),$(y,x)});var Ud=H(cl,2);{var Qd=y=>{var x=Xe(),q=Ne(x);Oe(q,t,"required",{get value(){return M()}},ce=>{var Re=p0();$(ce,Re)}),$(y,x)};he(Ud,y=>{S(fe()),S(M()),j(()=>fe()&&(!M()||M().length===0))&&y(Qd)})}return Zt(()=>se("pointerup",xn,En(xd))),qi(xn,y=>w(y),()=>w()),Oi(xn,y=>oa==null?void 0:oa(y)),ie(()=>{nl=dt(xn,1,`svelte-select ${md()??""}`,"svelte-1ul7oo4",nl,{multi:P(),disabled:F(),focused:N(),"list-open":V(),"show-chevron":on(),error:Fe()}),bf(xn,de())}),se("keydown",ar,Us),se("blur",ar,Qs),se("focus",ar,Jo),vs(ar,k),$(e,xn),Sl(t,"getFilteredItems",An),Sl(t,"handleClear",ea),Qe(Dd)}var g0=ee('<div class="themed w-full svelte-1hvyfhy"><!></div>');function y0(e,t){Ue(t,!1);let n=O(t,"value",12);const r=Gl.all(),i=["minor pentatonic","major pentatonic","minor","major","phrygian","lydian","mixolydian","locrian","harmonic minor","phrygian dominant"].map(l=>({group:"Popular",...Gl.get(l)})),a=r.filter(l=>!i.find(d=>d.setNum==l.setNum)).map(l=>({...l,group:"Other"})),s=[...i,...a].map(l=>({label:`${l.name}${l.aliases.length?" ("+l.aliases[0]+")":""}`,value:l.name,group:l.group})),u=l=>l.group;function c(l){n(l.detail.value)}function f(){n("")}st();var m=g0(),o=I(m);_0(o,{get items(){return s},placeholder:"Select a scale...",containerClasses:"text-sm",containerStyles:"text-transform: capitalize",get selectedValue(){return n()},groupBy:u,$$events:{select:c,clear:f}}),$(e,m),Qe()}function Ui(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function M0(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Fc(e){let t,n,r;e.length!==2?(t=Ui,n=(u,c)=>Ui(e(u),c),r=(u,c)=>e(u)-c):(t=e===Ui||e===M0?e:P0,n=e,r=e);function i(u,c,f=0,m=u.length){if(f<m){if(t(c,c)!==0)return m;do{const o=f+m>>>1;n(u[o],c)<0?f=o+1:m=o}while(f<m)}return f}function a(u,c,f=0,m=u.length){if(f<m){if(t(c,c)!==0)return m;do{const o=f+m>>>1;n(u[o],c)<=0?f=o+1:m=o}while(f<m)}return f}function s(u,c,f=0,m=u.length){const o=i(u,c,f,m-1);return o>f&&r(u[o-1],c)>-r(u[o],c)?o-1:o}return{left:i,center:s,right:a}}function P0(){return 0}function b0(e){return e===null?NaN:+e}const w0=Fc(Ui),A0=w0.right;Fc(b0).center;class eu extends Map{constructor(t,n=T0){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(tu(this,t))}has(t){return super.has(tu(this,t))}set(t,n){return super.set(x0(this,t),n)}delete(t){return super.delete(S0(this,t))}}function tu({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function x0({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function S0({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function T0(e){return e!==null&&typeof e=="object"?e.valueOf():e}const E0=Math.sqrt(50),N0=Math.sqrt(10),k0=Math.sqrt(2);function mo(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=E0?10:a>=N0?5:a>=k0?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/s,u=Math.round(e*f),c=Math.round(t*f),u/f<e&&++u,c/f>t&&--c,f=-f):(f=Math.pow(10,i)*s,u=Math.round(e/f),c=Math.round(t/f),u*f<e&&++u,c*f>t&&--c),c<u&&.5<=n&&n<2?mo(e,t,n*2):[u,c,f]}function C0(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?mo(t,e,n):mo(e,t,n);if(!(a>=i))return[];const u=a-i+1,c=new Array(u);if(r)if(s<0)for(let f=0;f<u;++f)c[f]=(a-f)/-s;else for(let f=0;f<u;++f)c[f]=(a-f)*s;else if(s<0)for(let f=0;f<u;++f)c[f]=(i+f)/-s;else for(let f=0;f<u;++f)c[f]=(i+f)*s;return c}function za(e,t,n){return t=+t,e=+e,n=+n,mo(e,t,n)[2]}function O0(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?za(t,e,n):za(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function ho(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}var I0={value:()=>{}};function Rc(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Qi(n)}function Qi(e){this._=e}function $0(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Qi.prototype=Rc.prototype={constructor:Qi,on:function(e,t){var n=this._,r=$0(e+"",n),i,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((i=(e=r[a]).type)&&(i=F0(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<s;)if(i=(e=r[a]).type)n[i]=nu(n[i],e.name,t);else if(t==null)for(i in n)n[i]=nu(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Qi(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function F0(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function nu(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=I0,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ua="http://www.w3.org/1999/xhtml";const ru={svg:"http://www.w3.org/2000/svg",xhtml:Ua,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wo(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),ru.hasOwnProperty(t)?{space:ru[t],local:e}:e}function R0(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ua&&t.documentElement.namespaceURI===Ua?t.createElement(e):t.createElementNS(n,e)}}function L0(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Lc(e){var t=Wo(e);return(t.local?L0:R0)(t)}function j0(){}function Os(e){return e==null?j0:function(){return this.querySelector(e)}}function D0(e){typeof e!="function"&&(e=Os(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,u=r[i]=new Array(s),c,f,m=0;m<s;++m)(c=a[m])&&(f=e.call(c,c.__data__,m,a))&&("__data__"in c&&(f.__data__=c.__data__),u[m]=f);return new Mt(r,this._parents)}function H0(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function B0(){return[]}function jc(e){return e==null?B0:function(){return this.querySelectorAll(e)}}function V0(e){return function(){return H0(e.apply(this,arguments))}}function q0(e){typeof e=="function"?e=V0(e):e=jc(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var s=t[a],u=s.length,c,f=0;f<u;++f)(c=s[f])&&(r.push(e.call(c,c.__data__,f,s)),i.push(c));return new Mt(r,i)}function Dc(e){return function(){return this.matches(e)}}function Hc(e){return function(t){return t.matches(e)}}var G0=Array.prototype.find;function X0(e){return function(){return G0.call(this.children,e)}}function W0(){return this.firstElementChild}function Y0(e){return this.select(e==null?W0:X0(typeof e=="function"?e:Hc(e)))}var z0=Array.prototype.filter;function U0(){return Array.from(this.children)}function Q0(e){return function(){return z0.call(this.children,e)}}function Z0(e){return this.selectAll(e==null?U0:Q0(typeof e=="function"?e:Hc(e)))}function K0(e){typeof e!="function"&&(e=Dc(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,u=r[i]=[],c,f=0;f<s;++f)(c=a[f])&&e.call(c,c.__data__,f,a)&&u.push(c);return new Mt(r,this._parents)}function Bc(e){return new Array(e.length)}function J0(){return new Mt(this._enter||this._groups.map(Bc),this._parents)}function po(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}po.prototype={constructor:po,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function eg(e){return function(){return e}}function tg(e,t,n,r,i,a){for(var s=0,u,c=t.length,f=a.length;s<f;++s)(u=t[s])?(u.__data__=a[s],r[s]=u):n[s]=new po(e,a[s]);for(;s<c;++s)(u=t[s])&&(i[s]=u)}function ng(e,t,n,r,i,a,s){var u,c,f=new Map,m=t.length,o=a.length,l=new Array(m),d;for(u=0;u<m;++u)(c=t[u])&&(l[u]=d=s.call(c,c.__data__,u,t)+"",f.has(d)?i[u]=c:f.set(d,c));for(u=0;u<o;++u)d=s.call(e,a[u],u,a)+"",(c=f.get(d))?(r[u]=c,c.__data__=a[u],f.delete(d)):n[u]=new po(e,a[u]);for(u=0;u<m;++u)(c=t[u])&&f.get(l[u])===c&&(i[u]=c)}function rg(e){return e.__data__}function ig(e,t){if(!arguments.length)return Array.from(this,rg);var n=t?ng:tg,r=this._parents,i=this._groups;typeof e!="function"&&(e=eg(e));for(var a=i.length,s=new Array(a),u=new Array(a),c=new Array(a),f=0;f<a;++f){var m=r[f],o=i[f],l=o.length,d=og(e.call(m,m&&m.__data__,f,r)),h=d.length,_=u[f]=new Array(h),v=s[f]=new Array(h),p=c[f]=new Array(l);n(m,o,_,v,p,d,t);for(var w=0,b=0,P,T;w<h;++w)if(P=_[w]){for(w>=b&&(b=w+1);!(T=v[b])&&++b<h;);P._next=T||null}}return s=new Mt(s,r),s._enter=u,s._exit=c,s}function og(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ag(){return new Mt(this._exit||this._groups.map(Bc),this._parents)}function sg(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function lg(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,s=Math.min(i,a),u=new Array(i),c=0;c<s;++c)for(var f=n[c],m=r[c],o=f.length,l=u[c]=new Array(o),d,h=0;h<o;++h)(d=f[h]||m[h])&&(l[h]=d);for(;c<i;++c)u[c]=n[c];return new Mt(u,this._parents)}function ug(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],s;--i>=0;)(s=r[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function fg(e){e||(e=cg);function t(o,l){return o&&l?e(o.__data__,l.__data__):!o-!l}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var s=n[a],u=s.length,c=i[a]=new Array(u),f,m=0;m<u;++m)(f=s[m])&&(c[m]=f);c.sort(t)}return new Mt(i,this._parents).order()}function cg(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function dg(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function mg(){return Array.from(this)}function hg(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null}function pg(){let e=0;for(const t of this)++e;return e}function vg(){return!this.node()}function _g(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,s=i.length,u;a<s;++a)(u=i[a])&&e.call(u,u.__data__,a,i);return this}function gg(e){return function(){this.removeAttribute(e)}}function yg(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Mg(e,t){return function(){this.setAttribute(e,t)}}function Pg(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function bg(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function wg(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Ag(e,t){var n=Wo(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?yg:gg:typeof t=="function"?n.local?wg:bg:n.local?Pg:Mg)(n,t))}function Vc(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function xg(e){return function(){this.style.removeProperty(e)}}function Sg(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Tg(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Eg(e,t,n){return arguments.length>1?this.each((t==null?xg:typeof t=="function"?Tg:Sg)(e,t,n??"")):Nr(this.node(),e)}function Nr(e,t){return e.style.getPropertyValue(t)||Vc(e).getComputedStyle(e,null).getPropertyValue(t)}function Ng(e){return function(){delete this[e]}}function kg(e,t){return function(){this[e]=t}}function Cg(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Og(e,t){return arguments.length>1?this.each((t==null?Ng:typeof t=="function"?Cg:kg)(e,t)):this.node()[e]}function qc(e){return e.trim().split(/^|\s+/)}function Is(e){return e.classList||new Gc(e)}function Gc(e){this._node=e,this._names=qc(e.getAttribute("class")||"")}Gc.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Xc(e,t){for(var n=Is(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Wc(e,t){for(var n=Is(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Ig(e){return function(){Xc(this,e)}}function $g(e){return function(){Wc(this,e)}}function Fg(e,t){return function(){(t.apply(this,arguments)?Xc:Wc)(this,e)}}function Rg(e,t){var n=qc(e+"");if(arguments.length<2){for(var r=Is(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Fg:t?Ig:$g)(n,t))}function Lg(){this.textContent=""}function jg(e){return function(){this.textContent=e}}function Dg(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Hg(e){return arguments.length?this.each(e==null?Lg:(typeof e=="function"?Dg:jg)(e)):this.node().textContent}function Bg(){this.innerHTML=""}function Vg(e){return function(){this.innerHTML=e}}function qg(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Gg(e){return arguments.length?this.each(e==null?Bg:(typeof e=="function"?qg:Vg)(e)):this.node().innerHTML}function Xg(){this.nextSibling&&this.parentNode.appendChild(this)}function Wg(){return this.each(Xg)}function Yg(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function zg(){return this.each(Yg)}function Ug(e){var t=typeof e=="function"?e:Lc(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Qg(){return null}function Zg(e,t){var n=typeof e=="function"?e:Lc(e),r=t==null?Qg:typeof t=="function"?t:Os(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Kg(){var e=this.parentNode;e&&e.removeChild(this)}function Jg(){return this.each(Kg)}function ey(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ty(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ny(e){return this.select(e?ty:ey)}function ry(e){return arguments.length?this.property("__data__",e):this.node().__data__}function iy(e){return function(t){e.call(this,t,this.__data__)}}function oy(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function ay(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function sy(e,t,n){return function(){var r=this.__on,i,a=iy(t);if(r){for(var s=0,u=r.length;s<u;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function ly(e,t,n){var r=oy(e+""),i,a=r.length,s;if(arguments.length<2){var u=this.node().__on;if(u){for(var c=0,f=u.length,m;c<f;++c)for(i=0,m=u[c];i<a;++i)if((s=r[i]).type===m.type&&s.name===m.name)return m.value}return}for(u=t?sy:ay,i=0;i<a;++i)this.each(u(r[i],t,n));return this}function Yc(e,t,n){var r=Vc(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function uy(e,t){return function(){return Yc(this,e,t)}}function fy(e,t){return function(){return Yc(this,e,t.apply(this,arguments))}}function cy(e,t){return this.each((typeof t=="function"?fy:uy)(e,t))}function*dy(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,s;i<a;++i)(s=r[i])&&(yield s)}var my=[null];function Mt(e,t){this._groups=e,this._parents=t}function Ai(){return new Mt([[document.documentElement]],my)}function hy(){return this}Mt.prototype=Ai.prototype={constructor:Mt,select:D0,selectAll:q0,selectChild:Y0,selectChildren:Z0,filter:K0,data:ig,enter:J0,exit:ag,join:sg,merge:lg,selection:hy,order:ug,sort:fg,call:dg,nodes:mg,node:hg,size:pg,empty:vg,each:_g,attr:Ag,style:Eg,property:Og,classed:Rg,text:Hg,html:Gg,raise:Wg,lower:zg,append:Ug,insert:Zg,remove:Jg,clone:ny,datum:ry,on:ly,dispatch:cy,[Symbol.iterator]:dy};function $s(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function zc(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function xi(){}var fi=.7,vo=1/fi,vr="\\s*([+-]?\\d+)\\s*",ci="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",py=/^#([0-9a-f]{3,8})$/,vy=new RegExp(`^rgb\\(${vr},${vr},${vr}\\)$`),_y=new RegExp(`^rgb\\(${Lt},${Lt},${Lt}\\)$`),gy=new RegExp(`^rgba\\(${vr},${vr},${vr},${ci}\\)$`),yy=new RegExp(`^rgba\\(${Lt},${Lt},${Lt},${ci}\\)$`),My=new RegExp(`^hsl\\(${ci},${Lt},${Lt}\\)$`),Py=new RegExp(`^hsla\\(${ci},${Lt},${Lt},${ci}\\)$`),iu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$s(xi,Qn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ou,formatHex:ou,formatHex8:by,formatHsl:wy,formatRgb:au,toString:au});function ou(){return this.rgb().formatHex()}function by(){return this.rgb().formatHex8()}function wy(){return Uc(this).formatHsl()}function au(){return this.rgb().formatRgb()}function Qn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=py.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?su(t):n===3?new Be(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Li(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Li(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=vy.exec(e))?new Be(t[1],t[2],t[3],1):(t=_y.exec(e))?new Be(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=gy.exec(e))?Li(t[1],t[2],t[3],t[4]):(t=yy.exec(e))?Li(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=My.exec(e))?fu(t[1],t[2]/100,t[3]/100,1):(t=Py.exec(e))?fu(t[1],t[2]/100,t[3]/100,t[4]):iu.hasOwnProperty(e)?su(iu[e]):e==="transparent"?new Be(NaN,NaN,NaN,0):null}function su(e){return new Be(e>>16&255,e>>8&255,e&255,1)}function Li(e,t,n,r){return r<=0&&(e=t=n=NaN),new Be(e,t,n,r)}function Ay(e){return e instanceof xi||(e=Qn(e)),e?(e=e.rgb(),new Be(e.r,e.g,e.b,e.opacity)):new Be}function Qa(e,t,n,r){return arguments.length===1?Ay(e):new Be(e,t,n,r??1)}function Be(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}$s(Be,Qa,zc(xi,{brighter(e){return e=e==null?vo:Math.pow(vo,e),new Be(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fi:Math.pow(fi,e),new Be(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Be(qn(this.r),qn(this.g),qn(this.b),_o(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lu,formatHex:lu,formatHex8:xy,formatRgb:uu,toString:uu}));function lu(){return`#${kn(this.r)}${kn(this.g)}${kn(this.b)}`}function xy(){return`#${kn(this.r)}${kn(this.g)}${kn(this.b)}${kn((isNaN(this.opacity)?1:this.opacity)*255)}`}function uu(){const e=_o(this.opacity);return`${e===1?"rgb(":"rgba("}${qn(this.r)}, ${qn(this.g)}, ${qn(this.b)}${e===1?")":`, ${e})`}`}function _o(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function qn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function kn(e){return e=qn(e),(e<16?"0":"")+e.toString(16)}function fu(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new mt(e,t,n,r)}function Uc(e){if(e instanceof mt)return new mt(e.h,e.s,e.l,e.opacity);if(e instanceof xi||(e=Qn(e)),!e)return new mt;if(e instanceof mt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,u=a-i,c=(a+i)/2;return u?(t===a?s=(n-r)/u+(n<r)*6:n===a?s=(r-t)/u+2:s=(t-n)/u+4,u/=c<.5?a+i:2-a-i,s*=60):u=c>0&&c<1?0:s,new mt(s,u,c,e.opacity)}function Sy(e,t,n,r){return arguments.length===1?Uc(e):new mt(e,t,n,r??1)}function mt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}$s(mt,Sy,zc(xi,{brighter(e){return e=e==null?vo:Math.pow(vo,e),new mt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fi:Math.pow(fi,e),new mt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Be(Ma(e>=240?e-240:e+120,i,r),Ma(e,i,r),Ma(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new mt(cu(this.h),ji(this.s),ji(this.l),_o(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_o(this.opacity);return`${e===1?"hsl(":"hsla("}${cu(this.h)}, ${ji(this.s)*100}%, ${ji(this.l)*100}%${e===1?")":`, ${e})`}`}}));function cu(e){return e=(e||0)%360,e<0?e+360:e}function ji(e){return Math.max(0,Math.min(1,e||0))}function Ma(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Fs=e=>()=>e;function Ty(e,t){return function(n){return e+n*t}}function Ey(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Ny(e){return(e=+e)==1?Qc:function(t,n){return n-t?Ey(t,n,e):Fs(isNaN(t)?n:t)}}function Qc(e,t){var n=t-e;return n?Ty(e,n):Fs(isNaN(e)?t:e)}const go=(function e(t){var n=Ny(t);function r(i,a){var s=n((i=Qa(i)).r,(a=Qa(a)).r),u=n(i.g,a.g),c=n(i.b,a.b),f=Qc(i.opacity,a.opacity);return function(m){return i.r=s(m),i.g=u(m),i.b=c(m),i.opacity=f(m),i+""}}return r.gamma=e,r})(1);function ky(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function Cy(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Oy(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Rs(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(u){for(s=0;s<r;++s)a[s]=i[s](u);return a}}function Iy(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ct(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function $y(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Rs(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Za=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pa=new RegExp(Za.source,"g");function Fy(e){return function(){return e}}function Ry(e){return function(t){return e(t)+""}}function Zc(e,t){var n=Za.lastIndex=Pa.lastIndex=0,r,i,a,s=-1,u=[],c=[];for(e=e+"",t=t+"";(r=Za.exec(e))&&(i=Pa.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),u[s]?u[s]+=a:u[++s]=a),(r=r[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,c.push({i:s,x:ct(r,i)})),n=Pa.lastIndex;return n<t.length&&(a=t.slice(n),u[s]?u[s]+=a:u[++s]=a),u.length<2?c[0]?Ry(c[0].x):Fy(t):(t=c.length,function(f){for(var m=0,o;m<t;++m)u[(o=c[m]).i]=o.x(f);return u.join("")})}function Rs(e,t){var n=typeof t,r;return t==null||n==="boolean"?Fs(t):(n==="number"?ct:n==="string"?(r=Qn(t))?(t=r,go):Zc:t instanceof Qn?go:t instanceof Date?Iy:Cy(t)?ky:Array.isArray(t)?Oy:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?$y:ct)(e,t)}function Ly(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var du=180/Math.PI,Ka={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Kc(e,t,n,r,i,a){var s,u,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,c/=u),e*r<t*n&&(e=-e,t=-t,c=-c,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*du,skewX:Math.atan(c)*du,scaleX:s,scaleY:u}}var Di;function jy(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ka:Kc(t.a,t.b,t.c,t.d,t.e,t.f)}function Dy(e){return e==null||(Di||(Di=document.createElementNS("http://www.w3.org/2000/svg","g")),Di.setAttribute("transform",e),!(e=Di.transform.baseVal.consolidate()))?Ka:(e=e.matrix,Kc(e.a,e.b,e.c,e.d,e.e,e.f))}function Jc(e,t,n,r){function i(f){return f.length?f.pop()+" ":""}function a(f,m,o,l,d,h){if(f!==o||m!==l){var _=d.push("translate(",null,t,null,n);h.push({i:_-4,x:ct(f,o)},{i:_-2,x:ct(m,l)})}else(o||l)&&d.push("translate("+o+t+l+n)}function s(f,m,o,l){f!==m?(f-m>180?m+=360:m-f>180&&(f+=360),l.push({i:o.push(i(o)+"rotate(",null,r)-2,x:ct(f,m)})):m&&o.push(i(o)+"rotate("+m+r)}function u(f,m,o,l){f!==m?l.push({i:o.push(i(o)+"skewX(",null,r)-2,x:ct(f,m)}):m&&o.push(i(o)+"skewX("+m+r)}function c(f,m,o,l,d,h){if(f!==o||m!==l){var _=d.push(i(d)+"scale(",null,",",null,")");h.push({i:_-4,x:ct(f,o)},{i:_-2,x:ct(m,l)})}else(o!==1||l!==1)&&d.push(i(d)+"scale("+o+","+l+")")}return function(f,m){var o=[],l=[];return f=e(f),m=e(m),a(f.translateX,f.translateY,m.translateX,m.translateY,o,l),s(f.rotate,m.rotate,o,l),u(f.skewX,m.skewX,o,l),c(f.scaleX,f.scaleY,m.scaleX,m.scaleY,o,l),f=m=null,function(d){for(var h=-1,_=l.length,v;++h<_;)o[(v=l[h]).i]=v.x(d);return o.join("")}}}var Hy=Jc(jy,"px, ","px)","deg)"),By=Jc(Dy,", ",")",")"),kr=0,Qr=0,Xr=0,ed=1e3,yo,Zr,Mo=0,Zn=0,Yo=0,di=typeof performance=="object"&&performance.now?performance:Date,td=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ls(){return Zn||(td(Vy),Zn=di.now()+Yo)}function Vy(){Zn=0}function Po(){this._call=this._time=this._next=null}Po.prototype=nd.prototype={constructor:Po,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ls():+n)+(t==null?0:+t),!this._next&&Zr!==this&&(Zr?Zr._next=this:yo=this,Zr=this),this._call=e,this._time=n,Ja()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ja())}};function nd(e,t,n){var r=new Po;return r.restart(e,t,n),r}function qy(){Ls(),++kr;for(var e=yo,t;e;)(t=Zn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--kr}function mu(){Zn=(Mo=di.now())+Yo,kr=Qr=0;try{qy()}finally{kr=0,Xy(),Zn=0}}function Gy(){var e=di.now(),t=e-Mo;t>ed&&(Yo-=t,Mo=e)}function Xy(){for(var e,t=yo,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:yo=n);Zr=e,Ja(r)}function Ja(e){if(!kr){Qr&&(Qr=clearTimeout(Qr));var t=e-Zn;t>24?(e<1/0&&(Qr=setTimeout(mu,e-di.now()-Yo)),Xr&&(Xr=clearInterval(Xr))):(Xr||(Mo=di.now(),Xr=setInterval(Gy,ed)),kr=1,td(mu))}}function hu(e,t,n){var r=new Po;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Wy=Rc("start","end","cancel","interrupt"),Yy=[],rd=0,pu=1,es=2,Zi=3,vu=4,ts=5,Ki=6;function zo(e,t,n,r,i,a){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;zy(e,n,{name:t,index:r,group:i,on:Wy,tween:Yy,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:rd})}function js(e,t){var n=bt(e,t);if(n.state>rd)throw new Error("too late; already scheduled");return n}function qt(e,t){var n=bt(e,t);if(n.state>Zi)throw new Error("too late; already running");return n}function bt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function zy(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=nd(a,0,n.time);function a(f){n.state=pu,n.timer.restart(s,n.delay,n.time),n.delay<=f&&s(f-n.delay)}function s(f){var m,o,l,d;if(n.state!==pu)return c();for(m in r)if(d=r[m],d.name===n.name){if(d.state===Zi)return hu(s);d.state===vu?(d.state=Ki,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete r[m]):+m<t&&(d.state=Ki,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete r[m])}if(hu(function(){n.state===Zi&&(n.state=vu,n.timer.restart(u,n.delay,n.time),u(f))}),n.state=es,n.on.call("start",e,e.__data__,n.index,n.group),n.state===es){for(n.state=Zi,i=new Array(l=n.tween.length),m=0,o=-1;m<l;++m)(d=n.tween[m].value.call(e,e.__data__,n.index,n.group))&&(i[++o]=d);i.length=o+1}}function u(f){for(var m=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(c),n.state=ts,1),o=-1,l=i.length;++o<l;)i[o].call(e,m);n.state===ts&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Ki,n.timer.stop(),delete r[t];for(var f in r)return;delete e.__transition}}function Uy(e,t){var n=e.__transition,r,i,a=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){a=!1;continue}i=r.state>es&&r.state<ts,r.state=Ki,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}a&&delete e.__transition}}function Qy(e){return this.each(function(){Uy(this,e)})}function Zy(e,t){var n,r;return function(){var i=qt(this,e),a=i.tween;if(a!==n){r=n=a;for(var s=0,u=r.length;s<u;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Ky(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=qt(this,e),s=a.tween;if(s!==r){i=(r=s).slice();for(var u={name:t,value:n},c=0,f=i.length;c<f;++c)if(i[c].name===t){i[c]=u;break}c===f&&i.push(u)}a.tween=i}}function Jy(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=bt(this.node(),n).tween,i=0,a=r.length,s;i<a;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?Zy:Ky)(n,e,t))}function Ds(e,t,n){var r=e._id;return e.each(function(){var i=qt(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return bt(i,r).value[t]}}function id(e,t){var n;return(typeof t=="number"?ct:t instanceof Qn?go:(n=Qn(t))?(t=n,go):Zc)(e,t)}function eM(e){return function(){this.removeAttribute(e)}}function tM(e){return function(){this.removeAttributeNS(e.space,e.local)}}function nM(e,t,n){var r,i=n+"",a;return function(){var s=this.getAttribute(e);return s===i?null:s===r?a:a=t(r=s,n)}}function rM(e,t,n){var r,i=n+"",a;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?a:a=t(r=s,n)}}function iM(e,t,n){var r,i,a;return function(){var s,u=n(this),c;return u==null?void this.removeAttribute(e):(s=this.getAttribute(e),c=u+"",s===c?null:s===r&&c===i?a:(i=c,a=t(r=s,u)))}}function oM(e,t,n){var r,i,a;return function(){var s,u=n(this),c;return u==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),c=u+"",s===c?null:s===r&&c===i?a:(i=c,a=t(r=s,u)))}}function aM(e,t){var n=Wo(e),r=n==="transform"?By:id;return this.attrTween(e,typeof t=="function"?(n.local?oM:iM)(n,r,Ds(this,"attr."+e,t)):t==null?(n.local?tM:eM)(n):(n.local?rM:nM)(n,r,t))}function sM(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function lM(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function uM(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&lM(e,a)),n}return i._value=t,i}function fM(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&sM(e,a)),n}return i._value=t,i}function cM(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Wo(e);return this.tween(n,(r.local?uM:fM)(r,t))}function dM(e,t){return function(){js(this,e).delay=+t.apply(this,arguments)}}function mM(e,t){return t=+t,function(){js(this,e).delay=t}}function hM(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?dM:mM)(t,e)):bt(this.node(),t).delay}function pM(e,t){return function(){qt(this,e).duration=+t.apply(this,arguments)}}function vM(e,t){return t=+t,function(){qt(this,e).duration=t}}function _M(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?pM:vM)(t,e)):bt(this.node(),t).duration}function gM(e,t){if(typeof t!="function")throw new Error;return function(){qt(this,e).ease=t}}function yM(e){var t=this._id;return arguments.length?this.each(gM(t,e)):bt(this.node(),t).ease}function MM(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;qt(this,e).ease=n}}function PM(e){if(typeof e!="function")throw new Error;return this.each(MM(this._id,e))}function bM(e){typeof e!="function"&&(e=Dc(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,u=r[i]=[],c,f=0;f<s;++f)(c=a[f])&&e.call(c,c.__data__,f,a)&&u.push(c);return new tn(r,this._parents,this._name,this._id)}function wM(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),s=new Array(r),u=0;u<a;++u)for(var c=t[u],f=n[u],m=c.length,o=s[u]=new Array(m),l,d=0;d<m;++d)(l=c[d]||f[d])&&(o[d]=l);for(;u<r;++u)s[u]=t[u];return new tn(s,this._parents,this._name,this._id)}function AM(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function xM(e,t,n){var r,i,a=AM(t)?js:qt;return function(){var s=a(this,e),u=s.on;u!==r&&(i=(r=u).copy()).on(t,n),s.on=i}}function SM(e,t){var n=this._id;return arguments.length<2?bt(this.node(),n).on.on(e):this.each(xM(n,e,t))}function TM(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function EM(){return this.on("end.remove",TM(this._id))}function NM(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Os(e));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var u=r[s],c=u.length,f=a[s]=new Array(c),m,o,l=0;l<c;++l)(m=u[l])&&(o=e.call(m,m.__data__,l,u))&&("__data__"in m&&(o.__data__=m.__data__),f[l]=o,zo(f[l],t,n,l,f,bt(m,n)));return new tn(a,this._parents,t,n)}function kM(e){var t=this._name,n=this._id;typeof e!="function"&&(e=jc(e));for(var r=this._groups,i=r.length,a=[],s=[],u=0;u<i;++u)for(var c=r[u],f=c.length,m,o=0;o<f;++o)if(m=c[o]){for(var l=e.call(m,m.__data__,o,c),d,h=bt(m,n),_=0,v=l.length;_<v;++_)(d=l[_])&&zo(d,t,n,_,l,h);a.push(l),s.push(m)}return new tn(a,s,t,n)}var CM=Ai.prototype.constructor;function OM(){return new CM(this._groups,this._parents)}function IM(e,t){var n,r,i;return function(){var a=Nr(this,e),s=(this.style.removeProperty(e),Nr(this,e));return a===s?null:a===n&&s===r?i:i=t(n=a,r=s)}}function od(e){return function(){this.style.removeProperty(e)}}function $M(e,t,n){var r,i=n+"",a;return function(){var s=Nr(this,e);return s===i?null:s===r?a:a=t(r=s,n)}}function FM(e,t,n){var r,i,a;return function(){var s=Nr(this,e),u=n(this),c=u+"";return u==null&&(c=u=(this.style.removeProperty(e),Nr(this,e))),s===c?null:s===r&&c===i?a:(i=c,a=t(r=s,u))}}function RM(e,t){var n,r,i,a="style."+t,s="end."+a,u;return function(){var c=qt(this,e),f=c.on,m=c.value[a]==null?u||(u=od(t)):void 0;(f!==n||i!==m)&&(r=(n=f).copy()).on(s,i=m),c.on=r}}function LM(e,t,n){var r=(e+="")=="transform"?Hy:id;return t==null?this.styleTween(e,IM(e,r)).on("end.style."+e,od(e)):typeof t=="function"?this.styleTween(e,FM(e,r,Ds(this,"style."+e,t))).each(RM(this._id,e)):this.styleTween(e,$M(e,r,t),n).on("end.style."+e,null)}function jM(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function DM(e,t,n){var r,i;function a(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&jM(e,s,n)),r}return a._value=t,a}function HM(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,DM(e,t,n??""))}function BM(e){return function(){this.textContent=e}}function VM(e){return function(){var t=e(this);this.textContent=t??""}}function qM(e){return this.tween("text",typeof e=="function"?VM(Ds(this,"text",e)):BM(e==null?"":e+""))}function GM(e){return function(t){this.textContent=e.call(this,t)}}function XM(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&GM(i)),t}return r._value=e,r}function WM(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,XM(e))}function YM(){for(var e=this._name,t=this._id,n=ad(),r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],u=s.length,c,f=0;f<u;++f)if(c=s[f]){var m=bt(c,t);zo(c,e,n,f,s,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new tn(r,this._parents,e,n)}function zM(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,s){var u={value:s},c={value:function(){--i===0&&a()}};n.each(function(){var f=qt(this,r),m=f.on;m!==e&&(t=(e=m).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(c)),f.on=t}),i===0&&a()})}var UM=0;function tn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function ad(){return++UM}var Yt=Ai.prototype;tn.prototype={constructor:tn,select:NM,selectAll:kM,selectChild:Yt.selectChild,selectChildren:Yt.selectChildren,filter:bM,merge:wM,selection:OM,transition:YM,call:Yt.call,nodes:Yt.nodes,node:Yt.node,size:Yt.size,empty:Yt.empty,each:Yt.each,on:SM,attr:aM,attrTween:cM,style:LM,styleTween:HM,text:qM,textTween:WM,remove:EM,tween:Jy,delay:hM,duration:_M,ease:yM,easeVarying:PM,end:zM,[Symbol.iterator]:Yt[Symbol.iterator]};function QM(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var ZM={time:null,delay:0,duration:250,ease:QM};function KM(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function JM(e){var t,n;e instanceof tn?(t=e._id,e=e._name):(t=ad(),(n=ZM).time=Ls(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],u=s.length,c,f=0;f<u;++f)(c=s[f])&&zo(c,e,t,f,s,n||KM(c,t));return new tn(r,this._parents,e,t)}Ai.prototype.interrupt=Qy;Ai.prototype.transition=JM;function eP(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function bo(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Cr(e){return e=bo(Math.abs(e)),e?e[1]:NaN}function tP(e,t){return function(n,r){for(var i=n.length,a=[],s=0,u=e[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),a.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=e[s=(s+1)%e.length];return a.reverse().join(t)}}function nP(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var rP=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wo(e){if(!(t=rP.exec(e)))throw new Error("invalid format: "+e);var t;return new Hs({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}wo.prototype=Hs.prototype;function Hs(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Hs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function iP(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var sd;function oP(e,t){var n=bo(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(sd=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+bo(e,Math.max(0,t+a-1))[0]}function _u(e,t){var n=bo(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const gu={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:eP,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>_u(e*100,t),r:_u,s:oP,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function yu(e){return e}var Mu=Array.prototype.map,Pu=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function aP(e){var t=e.grouping===void 0||e.thousands===void 0?yu:tP(Mu.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?yu:nP(Mu.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"â":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function f(o){o=wo(o);var l=o.fill,d=o.align,h=o.sign,_=o.symbol,v=o.zero,p=o.width,w=o.comma,b=o.precision,P=o.trim,T=o.type;T==="n"?(w=!0,T="g"):gu[T]||(b===void 0&&(b=12),P=!0,T="g"),(v||l==="0"&&d==="=")&&(v=!0,l="0",d="=");var F=_==="$"?n:_==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",N=_==="$"?r:/[%p]/.test(T)?s:"",M=gu[T],k=/[defgprs%]/.test(T);b=b===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function re(R){var J=F,Y=N,K,pe,X;if(T==="c")Y=M(R)+Y,R="";else{R=+R;var U=R<0||1/R<0;if(R=isNaN(R)?c:M(Math.abs(R),b),P&&(R=iP(R)),U&&+R==0&&h!=="+"&&(U=!1),J=(U?h==="("?h:u:h==="-"||h==="("?"":h)+J,Y=(T==="s"?Pu[8+sd/3]:"")+Y+(U&&h==="("?")":""),k){for(K=-1,pe=R.length;++K<pe;)if(X=R.charCodeAt(K),48>X||X>57){Y=(X===46?i+R.slice(K+1):R.slice(K))+Y,R=R.slice(0,K);break}}}w&&!v&&(R=t(R,1/0));var C=J.length+R.length+Y.length,L=C<p?new Array(p-C+1).join(l):"";switch(w&&v&&(R=t(L+R,L.length?p-Y.length:1/0),L=""),d){case"<":R=J+R+Y+L;break;case"=":R=J+L+R+Y;break;case"^":R=L.slice(0,C=L.length>>1)+J+R+Y+L.slice(C);break;default:R=L+J+R+Y;break}return a(R)}return re.toString=function(){return o+""},re}function m(o,l){var d=f((o=wo(o),o.type="f",o)),h=Math.max(-8,Math.min(8,Math.floor(Cr(l)/3)))*3,_=Math.pow(10,-h),v=Pu[8+h/3];return function(p){return d(_*p)+v}}return{format:f,formatPrefix:m}}var Hi,ld,ud;sP({thousands:",",grouping:[3],currency:["$",""]});function sP(e){return Hi=aP(e),ld=Hi.format,ud=Hi.formatPrefix,Hi}function lP(e){return Math.max(0,-Cr(Math.abs(e)))}function uP(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Cr(t)/3)))*3-Cr(Math.abs(e)))}function fP(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Cr(t)-Cr(e))+1}function Bs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const bu=Symbol("implicit");function fd(){var e=new eu,t=[],n=[],r=bu;function i(a){let s=e.get(a);if(s===void 0){if(r!==bu)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new eu;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return fd(t,n).unknown(r)},Bs.apply(i,arguments),i}function Vs(){var e=fd().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,u=!1,c=0,f=0,m=.5;delete e.unknown;function o(){var l=t().length,d=i<r,h=d?i:r,_=d?r:i;a=(_-h)/Math.max(1,l-c+f*2),u&&(a=Math.floor(a)),h+=(_-h-a*(l-c))*m,s=a*(1-c),u&&(h=Math.round(h),s=Math.round(s));var v=ho(l).map(function(p){return h+a*p});return n(d?v.reverse():v)}return e.domain=function(l){return arguments.length?(t(l),o()):t()},e.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,o()):[r,i]},e.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,u=!0,o()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(l){return arguments.length?(u=!!l,o()):u},e.padding=function(l){return arguments.length?(c=Math.min(1,f=+l),o()):c},e.paddingInner=function(l){return arguments.length?(c=Math.min(1,l),o()):c},e.paddingOuter=function(l){return arguments.length?(f=+l,o()):f},e.align=function(l){return arguments.length?(m=Math.max(0,Math.min(1,l)),o()):m},e.copy=function(){return Vs(t(),[r,i]).round(u).paddingInner(c).paddingOuter(f).align(m)},Bs.apply(o(),arguments)}function cd(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return cd(t())},e}function dd(){return cd(Vs.apply(null,arguments).paddingInner(1))}function cP(e){return function(){return e}}function dP(e){return+e}var wu=[0,1];function hr(e){return e}function ns(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:cP(isNaN(t)?NaN:.5)}function mP(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function hP(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=ns(i,r),a=n(s,a)):(r=ns(r,i),a=n(a,s)),function(u){return a(r(u))}}function pP(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=ns(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(u){var c=A0(e,u,1,r)-1;return a[c](i[c](u))}}function vP(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function _P(){var e=wu,t=wu,n=Rs,r,i,a,s=hr,u,c,f;function m(){var l=Math.min(e.length,t.length);return s!==hr&&(s=mP(e[0],e[l-1])),u=l>2?pP:hP,c=f=null,o}function o(l){return l==null||isNaN(l=+l)?a:(c||(c=u(e.map(r),t,n)))(r(s(l)))}return o.invert=function(l){return s(i((f||(f=u(t,e.map(r),ct)))(l)))},o.domain=function(l){return arguments.length?(e=Array.from(l,dP),m()):e.slice()},o.range=function(l){return arguments.length?(t=Array.from(l),m()):t.slice()},o.rangeRound=function(l){return t=Array.from(l),n=Ly,m()},o.clamp=function(l){return arguments.length?(s=l?!0:hr,m()):s!==hr},o.interpolate=function(l){return arguments.length?(n=l,m()):n},o.unknown=function(l){return arguments.length?(a=l,o):a},function(l,d){return r=l,i=d,m()}}function gP(){return _P()(hr,hr)}function yP(e,t,n,r){var i=O0(e,t,n),a;switch(r=wo(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=uP(i,s))&&(r.precision=a),ud(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=fP(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=lP(i))&&(r.precision=a-(r.type==="%")*2);break}}return ld(r)}function MP(e){var t=e.domain;return e.ticks=function(n){var r=t();return C0(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return yP(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],u=r[a],c,f,m=10;for(u<s&&(f=s,s=u,u=f,f=i,i=a,a=f);m-- >0;){if(f=za(s,u,n),f===c)return r[i]=s,r[a]=u,t(r);if(f>0)s=Math.floor(s/f)*f,u=Math.ceil(u/f)*f;else if(f<0)s=Math.ceil(s*f)/f,u=Math.floor(u*f)/f;else break;c=f}return e},e}function rs(){var e=gP();return e.copy=function(){return vP(e,rs())},Bs.apply(e,arguments),MP(e)}function Kr(e,t,n){this.k=e,this.x=t,this.y=n}Kr.prototype={constructor:Kr,scale:function(e){return e===1?this:new Kr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Kr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Kr.prototype;const Uo=(e,t)=>new Promise(function(n){setTimeout(function(){n(t)},e)});var PP=Pt('<circle r="10" fill="currentColor"></circle>'),bP=Pt('<circle r="10" fill="currentColor" class="text-gray-200"></circle>'),wP=Pt('<g role="button" tabindex="0"><!><text dy="1" font-size="10" fill="currentColor" text-anchor="middle" dominant-baseline="middle"> </text></g>'),AP=Pt('<g><line stroke="currentColor" class="text-gray-100"></line><!></g>'),xP=Pt('<circle cx="10" r="3" fill="currentColor" class="text-gray-400"></circle>'),SP=Pt('<g><text dx="10" fill="currentColor" class="text-black" font-size="10" text-anchor="middle"></text><rect rx="2" y="20" fill="currentColor" width="3"></rect><!></g>'),TP=ee('<div><div class="flex items-center mt-2 ml-2"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-6 h-6 mr-1" role="button" tabindex="0"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"></path></svg> Play notes</div> <svg><!><!></svg></div>');function EP(e,t){Ue(t,!1);const n=()=>Sr(zi,"$bpm",r),[r,i]=Fo();let a=O(t,"scale",8,null),s=O(t,"system",8,Xa),u=O(t,"position",8,null),c=O(t,"tuning",8),f=O(t,"notes",8,null);const{player:m}=$u("app"),o={top:45,right:10,bottom:35,left:10},l=1200;let d=240,h=B(),_=B(),v=B(),p=B(),w=B(),b=B(),P=B();const T=X=>(X+1)%2!==0&&![1,11,13].includes(X+1)||X+1==12,F=(X,U)=>U&&X.positions&&X.positions.includes(+U),N=(X,U)=>{const C=U.map(L=>L.name);return X.interval==="1P"?C.includes(X.name)?"text-pink-700":"text-black":X.interval?C.includes(X.name)?"text-gray-600":"text-purple-800":"text-white"};async function M(X){console.log(X),await m.play([X.midi])}async function k(X){const U=g(p).map(de=>de.filter(Fe=>F(Fe,u())).map(Fe=>Fe.midi));let C=[],L=[];for(console.log(U),U.forEach(de=>{C=C.concat(de.slice(0,3).reverse()),L=L.concat(de.slice(3).reverse())});C.length>0;){const de=C.pop();await Uo(60/n()*1e3),await m.play([de])}}D(()=>(S(a()),S(u()),S(c()),g(h),g(_),g(v),g(p),S(s()),rs),()=>{if((a()||u())&&c()){const X=a().notes().some(U=>U.acc==="#");E(h,d+(c().length-6)*32),E(_,Jv(c(),2,X)),E(v,g(_).notes()),E(p,s()(g(v),a()).reverse()),E(w,Vs().domain(ho(g(_).count()+1)).range([o.left,l-o.right])),E(b,dd().domain(ho(g(v).length)).range([o.top,g(h)-o.bottom])),E(P,rs().domain([0,g(p).length]).range([1,4]))}}),bn(),st();var re=TP(),R=I(re),J=I(R),Y=H(R,2),K=I(Y);Ft(K,1,()=>g(p),$t,(X,U,C)=>{var L=AP(),de=I(L),Fe=H(de);Ft(Fe,1,()=>g(U),$t,(ae,fe,Me)=>{var ke=wP(),wn=I(ke);{var An=Ze=>{var qe=Xe(),V=Ne(qe);{var rr=wt=>{var Xt=PP();ie(Pe=>dt(Xt,0,Pe),[()=>Fa((g(fe),S(f()),j(()=>N(g(fe),f()))))]),$(wt,Xt)},Dr=wt=>{var Xt=Xe(),Pe=Ne(Xt);{var ir=on=>{var Hr=bP();$(on,Hr)};he(Pe,on=>{g(fe),S(u()),j(()=>F(g(fe),u()===7?1:u()+1)||F(g(fe),u()===1?7:u()-1))&&on(ir)},!0)}$(wt,Xt)};he(V,wt=>{S(u()),g(fe),j(()=>!u()||F(g(fe),u()))?wt(rr):wt(Dr,!1)})}$(Ze,qe)};he(wn,Ze=>{Me>0&&Ze(An)})}var Gt=H(wn),jr=I(Gt);ie((Ze,qe,V)=>{me(ke,"transform",`translate(${Ze??""}, 0)`),dt(Gt,0,`${qe??""} ${Me==0?"font-bold":"font-normal"}`),De(jr,V)},[()=>(g(w),j(()=>g(w)(Me))),()=>(g(fe),S(u()),j(()=>g(fe).interval&&!u()||F(g(fe),u())?Me==0?"text-purple-500":"text-white":"text-gray-400")),()=>(g(fe),j(()=>g(fe).pc.replace("b","â­")))]),se("click",ke,()=>M(g(fe))),se("keydown",ke,Ze=>Ze.key==="Enter"&&M(g(fe))),$(ae,ke)}),ie((ae,fe,Me)=>{me(L,"transform",`translate(${j(()=>o.left)??""}, ${ae??""})`),me(de,"x1",fe),me(de,"x2",j(()=>l-o.right)),me(de,"stroke-width",Me)},[()=>(g(b),j(()=>g(b)(C))),()=>(g(w),j(()=>g(w)(1))),()=>(g(P),j(()=>g(P)(C)))]),$(X,L)});var pe=H(K);Ft(pe,1,()=>(g(_),j(()=>Array(g(_).count()))),$t,(X,U,C)=>{var L=SP(),de=I(L);de.textContent=C+1;var Fe=H(de);dt(Fe,0,Fa(C+1===11?"text-gray-900":"text-gray-400"));var ae=H(Fe);{var fe=Me=>{var ke=xP();ie(()=>me(ke,"cy",(g(h),j(()=>g(h)-o.bottom+10)))),$(Me,ke)};he(ae,Me=>{j(()=>T(C))&&Me(fe)})}ie((Me,ke)=>{me(L,"transform",`translate(${Me??""}, ${j(()=>o.top-30)??""})`),me(Fe,"x",ke),me(Fe,"height",(g(h),j(()=>g(h)-o.bottom-20)))},[()=>(g(w),j(()=>g(w)(C+1))),()=>(g(w),j(()=>g(w).step()/1.45))]),$(X,L)}),ie(()=>me(Y,"viewBox",`0 0 1200 ${g(h)??""}`)),se("click",J,k),se("keydown",J,X=>X.key==="Enter"&&k()),$(e,re),Qe(),i()}var NP=Pt('<g><circle r="12"></circle><text text-anchor="middle" dy="4" font-size="10" class="text-white" fill="currentColor"> </text><text text-anchor="middle" dy="25" font-size="10" class="text-black" fill="currentColor"> </text></g>'),kP=Pt("<svg></svg>"),CP=ee("<div><!></div>");function OP(e,t){Ue(t,!1);let n=O(t,"scale",8),r=O(t,"position",8,null),i=B(),a=B(),s=B();const u={right:20,left:20},c=dd().domain(ho(n().notes().length));r(),gs(()=>{E(a,g(i).clientWidth),E(s,45),c.range([u.left,g(a)-u.right])}),st();var f=Xe(),m=Ne(f);{var o=l=>{var d=CP(),h=I(d);{var _=v=>{var p=kP();Ft(p,5,()=>(S(n()),j(()=>n().notes())),$t,(w,b,P)=>{var T=NP(),F=I(T),N=H(F),M=I(N),k=H(N),re=I(k);ie(R=>{me(T,"transform",`translate(${R??""}, 20)`),me(F,"fill",(g(b),j(()=>g(b).interval==="1P"?"rgb(50, 50, 50)":"rgb(87, 45, 146)"))),De(M,(g(b),j(()=>g(b).name))),De(re,(g(b),j(()=>g(b).interval)))},[()=>j(()=>c(P))]),$(w,T)}),ie(()=>me(p,"viewBox",`0 0 ${g(a)??""} ${g(s)??""}`)),$(v,p)};he(h,v=>{g(a)&&v(_)})}qi(d,v=>E(i,v),()=>g(i)),$(l,d)};he(m,l=>{n()&&l(o)})}$(e,f),Qe()}var IP=ee('<div class="flex flex-col text-center"><input type="radio"/> <span></span></div>'),$P=ee('<div class="flex space-x-5"></div>');function FP(e,t){Ue(t,!1);const n=B(),r=[];let i=O(t,"scale",8),a=O(t,"position",12,null);function s(f){const{target:m}=f;a()===+m.value&&(a(null),m.checked=!1)}function u(f,m){return m?m-1===0?f===g(n)||f===m+1:m+1>g(n)?f===1||f===m-1:f===m-1||f===m+1:!1}D(()=>S(i()),()=>{E(n,i().intervals().length)}),bn(),st();var c=$P();Ft(c,5,()=>({length:g(n)}),$t,(f,m,o)=>{var l=IP(),d=I(l);d.value=d.__value=o+1;var h=H(d,2);let _;h.textContent=o+1,ie(v=>_=dt(h,1,"mt-1 text-xs rounded-full svelte-8fmbrh",null,_,v),[()=>({selected:a()==o+1,surrounding:u(o+1,a())})]),Ra(r,[],d,()=>a(),a),se("click",d,s),$(f,l)}),$(e,c),Qe()}var RP=ee("<option> </option>"),LP=ee('<select name="tuning" class="w-full rounded-lg border-gray-200"></select>');function jP(e,t){Ue(t,!1);let n=O(t,"defaultTuning",8);const r=[["E Standard","E2 A2 D3 G3 B3 E4"],["Drop D","D2 A2 D3 G3 B3 E4"],["Drop C","C2 G2 C3 F3 A3 D4"],["B Standard - Seven string","B2 E2 A2 D3 G3 B3 E4"],["Drop A - Seven string","A1 E2 A2 D3 G3 B3 E4"]];let i=B(n().join(" "));D(()=>g(i),()=>{si.set(Array.isArray(g(i))?g(i):g(i).split(" "))}),bn(),st();var a=LP();ie(()=>{g(i),uf(()=>{})}),Ft(a,5,()=>r,$t,(s,u)=>{var c=zm(()=>im(g(u),2));let f=()=>g(c)[0],m=()=>g(c)[1];var o=RP(),l=I(o),d={};ie(()=>{De(l,f()),d!==(d=m())&&(o.value=(o.__value=m())??"")}),$(s,o)}),Af(a,()=>g(i),s=>E(i,s)),$(e,a),Qe()}var DP=ee('<li class="px-2 py-1 overflow-hidden whitespace-nowrap rounded-full text-center bg-gray-200 hover:bg-purple-600 hover:text-white cursor-pointer"> </li>'),HP=ee('<ul class="text-xs text-gray-500 grid grid-cols-4 xl:grid-cols-8 gap-2"></ul>');function BP(e,t){Ue(t,!1);const n=()=>Sr(si,"$tuning",i),r=()=>Sr(li,"$tonic",i),[i,a]=Fo();let s=O(t,"scale",8);const u=Ot.get(n()[0]),c=Nf(),{player:f}=$u("app");function m(l){const d=l.target.dataset.chord,h=Ot.get(`${r()}${r()==="C"?u.oct+1:u.oct}`),_=h.height<u.height?Ot.get(`${h.name}${h.oct+1}`):h,v=rc.getChord(d,_),p=v.notes.map(iv.toMidi);f.play(p,15),c("chordchange",v)}st();var o=HP();Ft(o,5,()=>(S(Ga),S(s()),j(()=>Ga.scaleChords(s().type()))),$t,(l,d)=>{var h=DP(),_=I(h);ie(()=>{me(h,"data-chord",g(d)),De(_,g(d))}),se("mouseup",h,m),$(l,h)}),$(e,o),Qe(),a()}var Wr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ba={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */var Au;function VP(){return Au||(Au=1,(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var o=this||n;return o._counter=1e3,o._html5AudioPool=[],o.html5PoolSize=10,o._codecs={},o._howls=[],o._muted=!1,o._volume=1,o._canPlayEvent="canplaythrough",o._navigator=typeof window<"u"&&window.navigator?window.navigator:null,o.masterGain=null,o.noAudio=!1,o.usingWebAudio=!0,o.autoSuspend=!0,o.ctx=null,o.autoUnlock=!0,o._setup(),o},volume:function(o){var l=this||n;if(o=parseFloat(o),l.ctx||m(),typeof o<"u"&&o>=0&&o<=1){if(l._volume=o,l._muted)return l;l.usingWebAudio&&l.masterGain.gain.setValueAtTime(o,n.ctx.currentTime);for(var d=0;d<l._howls.length;d++)if(!l._howls[d]._webAudio)for(var h=l._howls[d]._getSoundIds(),_=0;_<h.length;_++){var v=l._howls[d]._soundById(h[_]);v&&v._node&&(v._node.volume=v._volume*o)}return l}return l._volume},mute:function(o){var l=this||n;l.ctx||m(),l._muted=o,l.usingWebAudio&&l.masterGain.gain.setValueAtTime(o?0:l._volume,n.ctx.currentTime);for(var d=0;d<l._howls.length;d++)if(!l._howls[d]._webAudio)for(var h=l._howls[d]._getSoundIds(),_=0;_<h.length;_++){var v=l._howls[d]._soundById(h[_]);v&&v._node&&(v._node.muted=o?!0:v._muted)}return l},stop:function(){for(var o=this||n,l=0;l<o._howls.length;l++)o._howls[l].stop();return o},unload:function(){for(var o=this||n,l=o._howls.length-1;l>=0;l--)o._howls[l].unload();return o.usingWebAudio&&o.ctx&&typeof o.ctx.close<"u"&&(o.ctx.close(),o.ctx=null,m()),o},codecs:function(o){return(this||n)._codecs[o.replace(/^x-/,"")]},_setup:function(){var o=this||n;if(o.state=o.ctx&&o.ctx.state||"suspended",o._autoSuspend(),!o.usingWebAudio)if(typeof Audio<"u")try{var l=new Audio;typeof l.oncanplaythrough>"u"&&(o._canPlayEvent="canplay")}catch{o.noAudio=!0}else o.noAudio=!0;try{var l=new Audio;l.muted&&(o.noAudio=!0)}catch{}return o.noAudio||o._setupCodecs(),o},_setupCodecs:function(){var o=this||n,l=null;try{l=typeof Audio<"u"?new Audio:null}catch{return o}if(!l||typeof l.canPlayType!="function")return o;var d=l.canPlayType("audio/mpeg;").replace(/^no$/,""),h=o._navigator?o._navigator.userAgent:"",_=h.match(/OPR\/(\d+)/g),v=_&&parseInt(_[0].split("/")[1],10)<33,p=h.indexOf("Safari")!==-1&&h.indexOf("Chrome")===-1,w=h.match(/Version\/(.*?) /),b=p&&w&&parseInt(w[1],10)<15;return o._codecs={mp3:!!(!v&&(d||l.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!d,opus:!!l.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!l.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!l.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(l.canPlayType('audio/wav; codecs="1"')||l.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!l.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!l.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(l.canPlayType("audio/x-m4a;")||l.canPlayType("audio/m4a;")||l.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(l.canPlayType("audio/x-m4b;")||l.canPlayType("audio/m4b;")||l.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(l.canPlayType("audio/x-mp4;")||l.canPlayType("audio/mp4;")||l.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!b&&l.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!b&&l.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!l.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(l.canPlayType("audio/x-flac;")||l.canPlayType("audio/flac;")).replace(/^no$/,"")},o},_unlockAudio:function(){var o=this||n;if(!(o._audioUnlocked||!o.ctx)){o._audioUnlocked=!1,o.autoUnlock=!1,!o._mobileUnloaded&&o.ctx.sampleRate!==44100&&(o._mobileUnloaded=!0,o.unload()),o._scratchBuffer=o.ctx.createBuffer(1,1,22050);var l=function(d){for(;o._html5AudioPool.length<o.html5PoolSize;)try{var h=new Audio;h._unlocked=!0,o._releaseHtml5Audio(h)}catch{o.noAudio=!0;break}for(var _=0;_<o._howls.length;_++)if(!o._howls[_]._webAudio)for(var v=o._howls[_]._getSoundIds(),p=0;p<v.length;p++){var w=o._howls[_]._soundById(v[p]);w&&w._node&&!w._node._unlocked&&(w._node._unlocked=!0,w._node.load())}o._autoResume();var b=o.ctx.createBufferSource();b.buffer=o._scratchBuffer,b.connect(o.ctx.destination),typeof b.start>"u"?b.noteOn(0):b.start(0),typeof o.ctx.resume=="function"&&o.ctx.resume(),b.onended=function(){b.disconnect(0),o._audioUnlocked=!0,document.removeEventListener("touchstart",l,!0),document.removeEventListener("touchend",l,!0),document.removeEventListener("click",l,!0),document.removeEventListener("keydown",l,!0);for(var P=0;P<o._howls.length;P++)o._howls[P]._emit("unlock")}};return document.addEventListener("touchstart",l,!0),document.addEventListener("touchend",l,!0),document.addEventListener("click",l,!0),document.addEventListener("keydown",l,!0),o}},_obtainHtml5Audio:function(){var o=this||n;if(o._html5AudioPool.length)return o._html5AudioPool.pop();var l=new Audio().play();return l&&typeof Promise<"u"&&(l instanceof Promise||typeof l.then=="function")&&l.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(o){var l=this||n;return o._unlocked&&l._html5AudioPool.push(o),l},_autoSuspend:function(){var o=this;if(!(!o.autoSuspend||!o.ctx||typeof o.ctx.suspend>"u"||!n.usingWebAudio)){for(var l=0;l<o._howls.length;l++)if(o._howls[l]._webAudio){for(var d=0;d<o._howls[l]._sounds.length;d++)if(!o._howls[l]._sounds[d]._paused)return o}return o._suspendTimer&&clearTimeout(o._suspendTimer),o._suspendTimer=setTimeout(function(){if(o.autoSuspend){o._suspendTimer=null,o.state="suspending";var h=function(){o.state="suspended",o._resumeAfterSuspend&&(delete o._resumeAfterSuspend,o._autoResume())};o.ctx.suspend().then(h,h)}},3e4),o}},_autoResume:function(){var o=this;if(!(!o.ctx||typeof o.ctx.resume>"u"||!n.usingWebAudio))return o.state==="running"&&o.ctx.state!=="interrupted"&&o._suspendTimer?(clearTimeout(o._suspendTimer),o._suspendTimer=null):o.state==="suspended"||o.state==="running"&&o.ctx.state==="interrupted"?(o.ctx.resume().then(function(){o.state="running";for(var l=0;l<o._howls.length;l++)o._howls[l]._emit("resume")}),o._suspendTimer&&(clearTimeout(o._suspendTimer),o._suspendTimer=null)):o.state==="suspending"&&(o._resumeAfterSuspend=!0),o}};var n=new t,r=function(o){var l=this;if(!o.src||o.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}l.init(o)};r.prototype={init:function(o){var l=this;return n.ctx||m(),l._autoplay=o.autoplay||!1,l._format=typeof o.format!="string"?o.format:[o.format],l._html5=o.html5||!1,l._muted=o.mute||!1,l._loop=o.loop||!1,l._pool=o.pool||5,l._preload=typeof o.preload=="boolean"||o.preload==="metadata"?o.preload:!0,l._rate=o.rate||1,l._sprite=o.sprite||{},l._src=typeof o.src!="string"?o.src:[o.src],l._volume=o.volume!==void 0?o.volume:1,l._xhr={method:o.xhr&&o.xhr.method?o.xhr.method:"GET",headers:o.xhr&&o.xhr.headers?o.xhr.headers:null,withCredentials:o.xhr&&o.xhr.withCredentials?o.xhr.withCredentials:!1},l._duration=0,l._state="unloaded",l._sounds=[],l._endTimers={},l._queue=[],l._playLock=!1,l._onend=o.onend?[{fn:o.onend}]:[],l._onfade=o.onfade?[{fn:o.onfade}]:[],l._onload=o.onload?[{fn:o.onload}]:[],l._onloaderror=o.onloaderror?[{fn:o.onloaderror}]:[],l._onplayerror=o.onplayerror?[{fn:o.onplayerror}]:[],l._onpause=o.onpause?[{fn:o.onpause}]:[],l._onplay=o.onplay?[{fn:o.onplay}]:[],l._onstop=o.onstop?[{fn:o.onstop}]:[],l._onmute=o.onmute?[{fn:o.onmute}]:[],l._onvolume=o.onvolume?[{fn:o.onvolume}]:[],l._onrate=o.onrate?[{fn:o.onrate}]:[],l._onseek=o.onseek?[{fn:o.onseek}]:[],l._onunlock=o.onunlock?[{fn:o.onunlock}]:[],l._onresume=[],l._webAudio=n.usingWebAudio&&!l._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(l),l._autoplay&&l._queue.push({event:"play",action:function(){l.play()}}),l._preload&&l._preload!=="none"&&l.load(),l},load:function(){var o=this,l=null;if(n.noAudio){o._emit("loaderror",null,"No audio support.");return}typeof o._src=="string"&&(o._src=[o._src]);for(var d=0;d<o._src.length;d++){var h,_;if(o._format&&o._format[d])h=o._format[d];else{if(_=o._src[d],typeof _!="string"){o._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}h=/^data:audio\/([^;,]+);/i.exec(_),h||(h=/\.([^.]+)$/.exec(_.split("?",1)[0])),h&&(h=h[1].toLowerCase())}if(h||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),h&&n.codecs(h)){l=o._src[d];break}}if(!l){o._emit("loaderror",null,"No codec support for selected audio sources.");return}return o._src=l,o._state="loading",window.location.protocol==="https:"&&l.slice(0,5)==="http:"&&(o._html5=!0,o._webAudio=!1),new i(o),o._webAudio&&s(o),o},play:function(o,l){var d=this,h=null;if(typeof o=="number")h=o,o=null;else{if(typeof o=="string"&&d._state==="loaded"&&!d._sprite[o])return null;if(typeof o>"u"&&(o="__default",!d._playLock)){for(var _=0,v=0;v<d._sounds.length;v++)d._sounds[v]._paused&&!d._sounds[v]._ended&&(_++,h=d._sounds[v]._id);_===1?o=null:h=null}}var p=h?d._soundById(h):d._inactiveSound();if(!p)return null;if(h&&!o&&(o=p._sprite||"__default"),d._state!=="loaded"){p._sprite=o,p._ended=!1;var w=p._id;return d._queue.push({event:"play",action:function(){d.play(w)}}),w}if(h&&!p._paused)return l||d._loadQueue("play"),p._id;d._webAudio&&n._autoResume();var b=Math.max(0,p._seek>0?p._seek:d._sprite[o][0]/1e3),P=Math.max(0,(d._sprite[o][0]+d._sprite[o][1])/1e3-b),T=P*1e3/Math.abs(p._rate),F=d._sprite[o][0]/1e3,N=(d._sprite[o][0]+d._sprite[o][1])/1e3;p._sprite=o,p._ended=!1;var M=function(){p._paused=!1,p._seek=b,p._start=F,p._stop=N,p._loop=!!(p._loop||d._sprite[o][2])};if(b>=N){d._ended(p);return}var k=p._node;if(d._webAudio){var re=function(){d._playLock=!1,M(),d._refreshBuffer(p);var K=p._muted||d._muted?0:p._volume;k.gain.setValueAtTime(K,n.ctx.currentTime),p._playStart=n.ctx.currentTime,typeof k.bufferSource.start>"u"?p._loop?k.bufferSource.noteGrainOn(0,b,86400):k.bufferSource.noteGrainOn(0,b,P):p._loop?k.bufferSource.start(0,b,86400):k.bufferSource.start(0,b,P),T!==1/0&&(d._endTimers[p._id]=setTimeout(d._ended.bind(d,p),T)),l||setTimeout(function(){d._emit("play",p._id),d._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?re():(d._playLock=!0,d.once("resume",re),d._clearTimer(p._id))}else{var R=function(){k.currentTime=b,k.muted=p._muted||d._muted||n._muted||k.muted,k.volume=p._volume*n.volume(),k.playbackRate=p._rate;try{var K=k.play();if(K&&typeof Promise<"u"&&(K instanceof Promise||typeof K.then=="function")?(d._playLock=!0,M(),K.then(function(){d._playLock=!1,k._unlocked=!0,l?d._loadQueue():d._emit("play",p._id)}).catch(function(){d._playLock=!1,d._emit("playerror",p._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),p._ended=!0,p._paused=!0})):l||(d._playLock=!1,M(),d._emit("play",p._id)),k.playbackRate=p._rate,k.paused){d._emit("playerror",p._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}o!=="__default"||p._loop?d._endTimers[p._id]=setTimeout(d._ended.bind(d,p),T):(d._endTimers[p._id]=function(){d._ended(p),k.removeEventListener("ended",d._endTimers[p._id],!1)},k.addEventListener("ended",d._endTimers[p._id],!1))}catch(pe){d._emit("playerror",p._id,pe)}};k.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(k.src=d._src,k.load());var J=window&&window.ejecta||!k.readyState&&n._navigator.isCocoonJS;if(k.readyState>=3||J)R();else{d._playLock=!0,d._state="loading";var Y=function(){d._state="loaded",R(),k.removeEventListener(n._canPlayEvent,Y,!1)};k.addEventListener(n._canPlayEvent,Y,!1),d._clearTimer(p._id)}}return p._id},pause:function(o){var l=this;if(l._state!=="loaded"||l._playLock)return l._queue.push({event:"pause",action:function(){l.pause(o)}}),l;for(var d=l._getSoundIds(o),h=0;h<d.length;h++){l._clearTimer(d[h]);var _=l._soundById(d[h]);if(_&&!_._paused&&(_._seek=l.seek(d[h]),_._rateSeek=0,_._paused=!0,l._stopFade(d[h]),_._node))if(l._webAudio){if(!_._node.bufferSource)continue;typeof _._node.bufferSource.stop>"u"?_._node.bufferSource.noteOff(0):_._node.bufferSource.stop(0),l._cleanBuffer(_._node)}else(!isNaN(_._node.duration)||_._node.duration===1/0)&&_._node.pause();arguments[1]||l._emit("pause",_?_._id:null)}return l},stop:function(o,l){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"stop",action:function(){d.stop(o)}}),d;for(var h=d._getSoundIds(o),_=0;_<h.length;_++){d._clearTimer(h[_]);var v=d._soundById(h[_]);v&&(v._seek=v._start||0,v._rateSeek=0,v._paused=!0,v._ended=!0,d._stopFade(h[_]),v._node&&(d._webAudio?v._node.bufferSource&&(typeof v._node.bufferSource.stop>"u"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),d._cleanBuffer(v._node)):(!isNaN(v._node.duration)||v._node.duration===1/0)&&(v._node.currentTime=v._start||0,v._node.pause(),v._node.duration===1/0&&d._clearSound(v._node))),l||d._emit("stop",v._id))}return d},mute:function(o,l){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"mute",action:function(){d.mute(o,l)}}),d;if(typeof l>"u")if(typeof o=="boolean")d._muted=o;else return d._muted;for(var h=d._getSoundIds(l),_=0;_<h.length;_++){var v=d._soundById(h[_]);v&&(v._muted=o,v._interval&&d._stopFade(v._id),d._webAudio&&v._node?v._node.gain.setValueAtTime(o?0:v._volume,n.ctx.currentTime):v._node&&(v._node.muted=n._muted?!0:o),d._emit("mute",v._id))}return d},volume:function(){var o=this,l=arguments,d,h;if(l.length===0)return o._volume;if(l.length===1||l.length===2&&typeof l[1]>"u"){var _=o._getSoundIds(),v=_.indexOf(l[0]);v>=0?h=parseInt(l[0],10):d=parseFloat(l[0])}else l.length>=2&&(d=parseFloat(l[0]),h=parseInt(l[1],10));var p;if(typeof d<"u"&&d>=0&&d<=1){if(o._state!=="loaded"||o._playLock)return o._queue.push({event:"volume",action:function(){o.volume.apply(o,l)}}),o;typeof h>"u"&&(o._volume=d),h=o._getSoundIds(h);for(var w=0;w<h.length;w++)p=o._soundById(h[w]),p&&(p._volume=d,l[2]||o._stopFade(h[w]),o._webAudio&&p._node&&!p._muted?p._node.gain.setValueAtTime(d,n.ctx.currentTime):p._node&&!p._muted&&(p._node.volume=d*n.volume()),o._emit("volume",p._id))}else return p=h?o._soundById(h):o._sounds[0],p?p._volume:0;return o},fade:function(o,l,d,h){var _=this;if(_._state!=="loaded"||_._playLock)return _._queue.push({event:"fade",action:function(){_.fade(o,l,d,h)}}),_;o=Math.min(Math.max(0,parseFloat(o)),1),l=Math.min(Math.max(0,parseFloat(l)),1),d=parseFloat(d),_.volume(o,h);for(var v=_._getSoundIds(h),p=0;p<v.length;p++){var w=_._soundById(v[p]);if(w){if(h||_._stopFade(v[p]),_._webAudio&&!w._muted){var b=n.ctx.currentTime,P=b+d/1e3;w._volume=o,w._node.gain.setValueAtTime(o,b),w._node.gain.linearRampToValueAtTime(l,P)}_._startFadeInterval(w,o,l,d,v[p],typeof h>"u")}}return _},_startFadeInterval:function(o,l,d,h,_,v){var p=this,w=l,b=d-l,P=Math.abs(b/.01),T=Math.max(4,P>0?h/P:h),F=Date.now();o._fadeTo=d,o._interval=setInterval(function(){var N=(Date.now()-F)/h;F=Date.now(),w+=b*N,w=Math.round(w*100)/100,b<0?w=Math.max(d,w):w=Math.min(d,w),p._webAudio?o._volume=w:p.volume(w,o._id,!0),v&&(p._volume=w),(d<l&&w<=d||d>l&&w>=d)&&(clearInterval(o._interval),o._interval=null,o._fadeTo=null,p.volume(d,o._id),p._emit("fade",o._id))},T)},_stopFade:function(o){var l=this,d=l._soundById(o);return d&&d._interval&&(l._webAudio&&d._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(d._interval),d._interval=null,l.volume(d._fadeTo,o),d._fadeTo=null,l._emit("fade",o)),l},loop:function(){var o=this,l=arguments,d,h,_;if(l.length===0)return o._loop;if(l.length===1)if(typeof l[0]=="boolean")d=l[0],o._loop=d;else return _=o._soundById(parseInt(l[0],10)),_?_._loop:!1;else l.length===2&&(d=l[0],h=parseInt(l[1],10));for(var v=o._getSoundIds(h),p=0;p<v.length;p++)_=o._soundById(v[p]),_&&(_._loop=d,o._webAudio&&_._node&&_._node.bufferSource&&(_._node.bufferSource.loop=d,d&&(_._node.bufferSource.loopStart=_._start||0,_._node.bufferSource.loopEnd=_._stop,o.playing(v[p])&&(o.pause(v[p],!0),o.play(v[p],!0)))));return o},rate:function(){var o=this,l=arguments,d,h;if(l.length===0)h=o._sounds[0]._id;else if(l.length===1){var _=o._getSoundIds(),v=_.indexOf(l[0]);v>=0?h=parseInt(l[0],10):d=parseFloat(l[0])}else l.length===2&&(d=parseFloat(l[0]),h=parseInt(l[1],10));var p;if(typeof d=="number"){if(o._state!=="loaded"||o._playLock)return o._queue.push({event:"rate",action:function(){o.rate.apply(o,l)}}),o;typeof h>"u"&&(o._rate=d),h=o._getSoundIds(h);for(var w=0;w<h.length;w++)if(p=o._soundById(h[w]),p){o.playing(h[w])&&(p._rateSeek=o.seek(h[w]),p._playStart=o._webAudio?n.ctx.currentTime:p._playStart),p._rate=d,o._webAudio&&p._node&&p._node.bufferSource?p._node.bufferSource.playbackRate.setValueAtTime(d,n.ctx.currentTime):p._node&&(p._node.playbackRate=d);var b=o.seek(h[w]),P=(o._sprite[p._sprite][0]+o._sprite[p._sprite][1])/1e3-b,T=P*1e3/Math.abs(p._rate);(o._endTimers[h[w]]||!p._paused)&&(o._clearTimer(h[w]),o._endTimers[h[w]]=setTimeout(o._ended.bind(o,p),T)),o._emit("rate",p._id)}}else return p=o._soundById(h),p?p._rate:o._rate;return o},seek:function(){var o=this,l=arguments,d,h;if(l.length===0)o._sounds.length&&(h=o._sounds[0]._id);else if(l.length===1){var _=o._getSoundIds(),v=_.indexOf(l[0]);v>=0?h=parseInt(l[0],10):o._sounds.length&&(h=o._sounds[0]._id,d=parseFloat(l[0]))}else l.length===2&&(d=parseFloat(l[0]),h=parseInt(l[1],10));if(typeof h>"u")return 0;if(typeof d=="number"&&(o._state!=="loaded"||o._playLock))return o._queue.push({event:"seek",action:function(){o.seek.apply(o,l)}}),o;var p=o._soundById(h);if(p)if(typeof d=="number"&&d>=0){var w=o.playing(h);w&&o.pause(h,!0),p._seek=d,p._ended=!1,o._clearTimer(h),!o._webAudio&&p._node&&!isNaN(p._node.duration)&&(p._node.currentTime=d);var b=function(){w&&o.play(h,!0),o._emit("seek",h)};if(w&&!o._webAudio){var P=function(){o._playLock?setTimeout(P,0):b()};setTimeout(P,0)}else b()}else if(o._webAudio){var T=o.playing(h)?n.ctx.currentTime-p._playStart:0,F=p._rateSeek?p._rateSeek-p._seek:0;return p._seek+(F+T*Math.abs(p._rate))}else return p._node.currentTime;return o},playing:function(o){var l=this;if(typeof o=="number"){var d=l._soundById(o);return d?!d._paused:!1}for(var h=0;h<l._sounds.length;h++)if(!l._sounds[h]._paused)return!0;return!1},duration:function(o){var l=this,d=l._duration,h=l._soundById(o);return h&&(d=l._sprite[h._sprite][1]/1e3),d},state:function(){return this._state},unload:function(){for(var o=this,l=o._sounds,d=0;d<l.length;d++)l[d]._paused||o.stop(l[d]._id),o._webAudio||(o._clearSound(l[d]._node),l[d]._node.removeEventListener("error",l[d]._errorFn,!1),l[d]._node.removeEventListener(n._canPlayEvent,l[d]._loadFn,!1),l[d]._node.removeEventListener("ended",l[d]._endFn,!1),n._releaseHtml5Audio(l[d]._node)),delete l[d]._node,o._clearTimer(l[d]._id);var h=n._howls.indexOf(o);h>=0&&n._howls.splice(h,1);var _=!0;for(d=0;d<n._howls.length;d++)if(n._howls[d]._src===o._src||o._src.indexOf(n._howls[d]._src)>=0){_=!1;break}return a&&_&&delete a[o._src],n.noAudio=!1,o._state="unloaded",o._sounds=[],o=null,null},on:function(o,l,d,h){var _=this,v=_["_on"+o];return typeof l=="function"&&v.push(h?{id:d,fn:l,once:h}:{id:d,fn:l}),_},off:function(o,l,d){var h=this,_=h["_on"+o],v=0;if(typeof l=="number"&&(d=l,l=null),l||d)for(v=0;v<_.length;v++){var p=d===_[v].id;if(l===_[v].fn&&p||!l&&p){_.splice(v,1);break}}else if(o)h["_on"+o]=[];else{var w=Object.keys(h);for(v=0;v<w.length;v++)w[v].indexOf("_on")===0&&Array.isArray(h[w[v]])&&(h[w[v]]=[])}return h},once:function(o,l,d){var h=this;return h.on(o,l,d,1),h},_emit:function(o,l,d){for(var h=this,_=h["_on"+o],v=_.length-1;v>=0;v--)(!_[v].id||_[v].id===l||o==="load")&&(setTimeout((function(p){p.call(this,l,d)}).bind(h,_[v].fn),0),_[v].once&&h.off(o,_[v].fn,_[v].id));return h._loadQueue(o),h},_loadQueue:function(o){var l=this;if(l._queue.length>0){var d=l._queue[0];d.event===o&&(l._queue.shift(),l._loadQueue()),o||d.action()}return l},_ended:function(o){var l=this,d=o._sprite;if(!l._webAudio&&o._node&&!o._node.paused&&!o._node.ended&&o._node.currentTime<o._stop)return setTimeout(l._ended.bind(l,o),100),l;var h=!!(o._loop||l._sprite[d][2]);if(l._emit("end",o._id),!l._webAudio&&h&&l.stop(o._id,!0).play(o._id),l._webAudio&&h){l._emit("play",o._id),o._seek=o._start||0,o._rateSeek=0,o._playStart=n.ctx.currentTime;var _=(o._stop-o._start)*1e3/Math.abs(o._rate);l._endTimers[o._id]=setTimeout(l._ended.bind(l,o),_)}return l._webAudio&&!h&&(o._paused=!0,o._ended=!0,o._seek=o._start||0,o._rateSeek=0,l._clearTimer(o._id),l._cleanBuffer(o._node),n._autoSuspend()),!l._webAudio&&!h&&l.stop(o._id,!0),l},_clearTimer:function(o){var l=this;if(l._endTimers[o]){if(typeof l._endTimers[o]!="function")clearTimeout(l._endTimers[o]);else{var d=l._soundById(o);d&&d._node&&d._node.removeEventListener("ended",l._endTimers[o],!1)}delete l._endTimers[o]}return l},_soundById:function(o){for(var l=this,d=0;d<l._sounds.length;d++)if(o===l._sounds[d]._id)return l._sounds[d];return null},_inactiveSound:function(){var o=this;o._drain();for(var l=0;l<o._sounds.length;l++)if(o._sounds[l]._ended)return o._sounds[l].reset();return new i(o)},_drain:function(){var o=this,l=o._pool,d=0,h=0;if(!(o._sounds.length<l)){for(h=0;h<o._sounds.length;h++)o._sounds[h]._ended&&d++;for(h=o._sounds.length-1;h>=0;h--){if(d<=l)return;o._sounds[h]._ended&&(o._webAudio&&o._sounds[h]._node&&o._sounds[h]._node.disconnect(0),o._sounds.splice(h,1),d--)}}},_getSoundIds:function(o){var l=this;if(typeof o>"u"){for(var d=[],h=0;h<l._sounds.length;h++)d.push(l._sounds[h]._id);return d}else return[o]},_refreshBuffer:function(o){var l=this;return o._node.bufferSource=n.ctx.createBufferSource(),o._node.bufferSource.buffer=a[l._src],o._panner?o._node.bufferSource.connect(o._panner):o._node.bufferSource.connect(o._node),o._node.bufferSource.loop=o._loop,o._loop&&(o._node.bufferSource.loopStart=o._start||0,o._node.bufferSource.loopEnd=o._stop||0),o._node.bufferSource.playbackRate.setValueAtTime(o._rate,n.ctx.currentTime),l},_cleanBuffer:function(o){var l=this,d=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!o.bufferSource)return l;if(n._scratchBuffer&&o.bufferSource&&(o.bufferSource.onended=null,o.bufferSource.disconnect(0),d))try{o.bufferSource.buffer=n._scratchBuffer}catch{}return o.bufferSource=null,l},_clearSound:function(o){var l=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);l||(o.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(o){this._parent=o,this.init()};i.prototype={init:function(){var o=this,l=o._parent;return o._muted=l._muted,o._loop=l._loop,o._volume=l._volume,o._rate=l._rate,o._seek=0,o._paused=!0,o._ended=!0,o._sprite="__default",o._id=++n._counter,l._sounds.push(o),o.create(),o},create:function(){var o=this,l=o._parent,d=n._muted||o._muted||o._parent._muted?0:o._volume;return l._webAudio?(o._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),o._node.gain.setValueAtTime(d,n.ctx.currentTime),o._node.paused=!0,o._node.connect(n.masterGain)):n.noAudio||(o._node=n._obtainHtml5Audio(),o._errorFn=o._errorListener.bind(o),o._node.addEventListener("error",o._errorFn,!1),o._loadFn=o._loadListener.bind(o),o._node.addEventListener(n._canPlayEvent,o._loadFn,!1),o._endFn=o._endListener.bind(o),o._node.addEventListener("ended",o._endFn,!1),o._node.src=l._src,o._node.preload=l._preload===!0?"auto":l._preload,o._node.volume=d*n.volume(),o._node.load()),o},reset:function(){var o=this,l=o._parent;return o._muted=l._muted,o._loop=l._loop,o._volume=l._volume,o._rate=l._rate,o._seek=0,o._rateSeek=0,o._paused=!0,o._ended=!0,o._sprite="__default",o._id=++n._counter,o},_errorListener:function(){var o=this;o._parent._emit("loaderror",o._id,o._node.error?o._node.error.code:0),o._node.removeEventListener("error",o._errorFn,!1)},_loadListener:function(){var o=this,l=o._parent;l._duration=Math.ceil(o._node.duration*10)/10,Object.keys(l._sprite).length===0&&(l._sprite={__default:[0,l._duration*1e3]}),l._state!=="loaded"&&(l._state="loaded",l._emit("load"),l._loadQueue()),o._node.removeEventListener(n._canPlayEvent,o._loadFn,!1)},_endListener:function(){var o=this,l=o._parent;l._duration===1/0&&(l._duration=Math.ceil(o._node.duration*10)/10,l._sprite.__default[1]===1/0&&(l._sprite.__default[1]=l._duration*1e3),l._ended(o)),o._node.removeEventListener("ended",o._endFn,!1)}};var a={},s=function(o){var l=o._src;if(a[l]){o._duration=a[l].duration,f(o);return}if(/^data:[^;]+;base64,/.test(l)){for(var d=atob(l.split(",")[1]),h=new Uint8Array(d.length),_=0;_<d.length;++_)h[_]=d.charCodeAt(_);c(h.buffer,o)}else{var v=new XMLHttpRequest;v.open(o._xhr.method,l,!0),v.withCredentials=o._xhr.withCredentials,v.responseType="arraybuffer",o._xhr.headers&&Object.keys(o._xhr.headers).forEach(function(p){v.setRequestHeader(p,o._xhr.headers[p])}),v.onload=function(){var p=(v.status+"")[0];if(p!=="0"&&p!=="2"&&p!=="3"){o._emit("loaderror",null,"Failed loading audio file with status: "+v.status+".");return}c(v.response,o)},v.onerror=function(){o._webAudio&&(o._html5=!0,o._webAudio=!1,o._sounds=[],delete a[l],o.load())},u(v)}},u=function(o){try{o.send()}catch{o.onerror()}},c=function(o,l){var d=function(){l._emit("loaderror",null,"Decoding audio data failed.")},h=function(_){_&&l._sounds.length>0?(a[l._src]=_,f(l,_)):d()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(o).then(h).catch(d):n.ctx.decodeAudioData(o,h,d)},f=function(o,l){l&&!o._duration&&(o._duration=l.duration),Object.keys(o._sprite).length===0&&(o._sprite={__default:[0,o._duration*1e3]}),o._state!=="loaded"&&(o._state="loaded",o._emit("load"),o._loadQueue())},m=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var o=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),l=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),d=l?parseInt(l[1],10):null;if(o&&d&&d<9){var h=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!h&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=r,typeof Wr<"u"?(Wr.HowlerGlobal=t,Wr.Howler=n,Wr.Howl=r,Wr.Sound=i):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var i=r._howls.length-1;i>=0;i--)r._howls[i].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,i){var a=this;if(!a.ctx||!a.ctx.listener)return a;if(r=typeof r!="number"?a._pos[1]:r,i=typeof i!="number"?a._pos[2]:i,typeof n=="number")a._pos=[n,r,i],typeof a.ctx.listener.positionX<"u"?(a.ctx.listener.positionX.setTargetAtTime(a._pos[0],Howler.ctx.currentTime,.1),a.ctx.listener.positionY.setTargetAtTime(a._pos[1],Howler.ctx.currentTime,.1),a.ctx.listener.positionZ.setTargetAtTime(a._pos[2],Howler.ctx.currentTime,.1)):a.ctx.listener.setPosition(a._pos[0],a._pos[1],a._pos[2]);else return a._pos;return a},HowlerGlobal.prototype.orientation=function(n,r,i,a,s,u){var c=this;if(!c.ctx||!c.ctx.listener)return c;var f=c._orientation;if(r=typeof r!="number"?f[1]:r,i=typeof i!="number"?f[2]:i,a=typeof a!="number"?f[3]:a,s=typeof s!="number"?f[4]:s,u=typeof u!="number"?f[5]:u,typeof n=="number")c._orientation=[n,r,i,a,s,u],typeof c.ctx.listener.forwardX<"u"?(c.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),c.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),c.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),c.ctx.listener.upX.setTargetAtTime(a,Howler.ctx.currentTime,.1),c.ctx.listener.upY.setTargetAtTime(s,Howler.ctx.currentTime,.1),c.ctx.listener.upZ.setTargetAtTime(u,Howler.ctx.currentTime,.1)):c.ctx.listener.setOrientation(n,r,i,a,s,u);else return f;return c},Howl.prototype.init=(function(n){return function(r){var i=this;return i._orientation=r.orientation||[1,0,0],i._stereo=r.stereo||null,i._pos=r.pos||null,i._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},i._onstereo=r.onstereo?[{fn:r.onstereo}]:[],i._onpos=r.onpos?[{fn:r.onpos}]:[],i._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}})(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(n,r)}}),i;var a=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")i._stereo=n,i._pos=[n,0,0];else return i._stereo;for(var s=i._getSoundIds(r),u=0;u<s.length;u++){var c=i._soundById(s[u]);if(c)if(typeof n=="number")c._stereo=n,c._pos=[n,0,0],c._node&&(c._pannerAttr.panningModel="equalpower",(!c._panner||!c._panner.pan)&&t(c,a),a==="spatial"?typeof c._panner.positionX<"u"?(c._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):c._panner.setPosition(n,0,0):c._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),i._emit("stereo",c._id);else return c._stereo}return i},Howl.prototype.pos=function(n,r,i,a){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"pos",action:function(){s.pos(n,r,i,a)}}),s;if(r=typeof r!="number"?0:r,i=typeof i!="number"?-.5:i,typeof a>"u")if(typeof n=="number")s._pos=[n,r,i];else return s._pos;for(var u=s._getSoundIds(a),c=0;c<u.length;c++){var f=s._soundById(u[c]);if(f)if(typeof n=="number")f._pos=[n,r,i],f._node&&((!f._panner||f._panner.pan)&&t(f,"spatial"),typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):f._panner.setPosition(n,r,i)),s._emit("pos",f._id);else return f._pos}return s},Howl.prototype.orientation=function(n,r,i,a){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"orientation",action:function(){s.orientation(n,r,i,a)}}),s;if(r=typeof r!="number"?s._orientation[1]:r,i=typeof i!="number"?s._orientation[2]:i,typeof a>"u")if(typeof n=="number")s._orientation=[n,r,i];else return s._orientation;for(var u=s._getSoundIds(a),c=0;c<u.length;c++){var f=s._soundById(u[c]);if(f)if(typeof n=="number")f._orientation=[n,r,i],f._node&&(f._panner||(f._pos||(f._pos=s._pos||[0,0,-.5]),t(f,"spatial")),typeof f._panner.orientationX<"u"?(f._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),f._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),f._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):f._panner.setOrientation(n,r,i)),s._emit("orientation",f._id);else return f._orientation}return s},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,i,a,s;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")i=r[0],typeof a>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),n._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:n._panningModel});else return s=n._soundById(parseInt(r[0],10)),s?s._pannerAttr:n._pannerAttr;else r.length===2&&(i=r[0],a=parseInt(r[1],10));for(var u=n._getSoundIds(a),c=0;c<u.length;c++)if(s=n._soundById(u[c]),s){var f=s._pannerAttr;f={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:f.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:f.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:f.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:f.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:f.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:f.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:f.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:f.panningModel};var m=s._panner;m||(s._pos||(s._pos=n._pos||[0,0,-.5]),t(s,"spatial"),m=s._panner),m.coneInnerAngle=f.coneInnerAngle,m.coneOuterAngle=f.coneOuterAngle,m.coneOuterGain=f.coneOuterGain,m.distanceModel=f.distanceModel,m.maxDistance=f.maxDistance,m.refDistance=f.refDistance,m.rolloffFactor=f.rolloffFactor,m.panningModel=f.panningModel}return n},Sound.prototype.init=(function(n){return function(){var r=this,i=r._parent;r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,n.call(this),r._stereo?i.stereo(r._stereo):r._pos&&i.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}})(Sound.prototype.init),Sound.prototype.reset=(function(n){return function(){var r=this,i=r._parent;return r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,r._stereo?i.stereo(r._stereo):r._pos?i.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,i._refreshBuffer(r)),n.call(this)}})(Sound.prototype.reset);var t=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(ba)),ba}var qs=VP();function qP(e,t){Ue(t,!1);let n=O(t,"notes",8,""),r=O(t,"delay",8,20);const i=m=>Ts.chromatic(["C1","B5"],{sharps:m}).reduce((o,l,d)=>(o[l]=[d*2e3,2e3],o),{}),a=i(!0),s=i(),u={...a,...s};var c=new qs.Howl({src:"guitar-notes.mp3",sprite:u});c.volume(.2);async function f(m){const o=[...m];for(;o.length;){const l=o.shift();c.play(l.name),await Uo(r())}}D(()=>S(n()),()=>{f(n())}),bn(),st(),Qe()}const GP=""+new URL("note-crescendo-Cw3IIixl.mp3",import.meta.url).href;function XP(){function e(){}let t=!1;const n=Ts.numeric(["C1","E6"]).reduce((i,a,s)=>(i[a]=[s*2e3,2e3],i),{});var r=new qs.Howl({src:GP,sprite:n});return r.on("load",async()=>{t=!0}),e.volume=i=>r.volume(i),e.play=async function(i,a=0){t||console.error("Sound file not loaded...");const s=[...i].map(String);for(;s.length;){const u=s.shift();r.play(u),await Uo(a)}},e}var WP=ee("<div><!></div>");function YP(e,t){Ue(t,!1);let n=O(t,"volume",8,.5);const r=XP();r.volume(n()),Fm("app",{player:r}),st();var i=WP(),a=I(i);Oe(a,t,"default",{},null),$(e,i),Qe()}var zP=ee('<div class="flex items-center"><input type="range" class="appearance-none h-1 w-auto mr-1 bg-gray-200 rounded"/> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4 text-gray-400"><path fill-rule="evenodd" d="M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z" clip-rule="evenodd"></path></svg></div>');function UP(e,t){let n=O(t,"volume",12,.5);var r=zP(),i=I(r);me(i,"min",0),me(i,"max",1),me(i,"step",.05),vs(i,n),$(e,r)}var QP=ee('<div><div class="flex items-center  justify-center mx-auto mb-1"><input type="number" class="p-0 m-0 w-auto appearance-none border-none  text-4xl text-gray-800"/> <label for="bmp" class="text-sm ml-1 text-gray-500">BPM</label></div> <div class="flex items-center space-x-2"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <div><!></div></div></div>');function ZP(e,t){Ue(t,!1);const n=()=>Sr(zi,"$bpm",r),[r,i]=Fo();let a=B(.5),s=B(!1);var u=new qs.Howl({src:"metronome.mp3",sprite:{a:[0,500],b:[500,500],c:[1e3,500],d:[1500,500]}});async function c(p){for(E(s,!g(s));g(s);)u.play("d"),await Uo(60/n()*1e3)}D(()=>g(a),()=>{u.volume(g(a))}),D(()=>n(),()=>{zi.set(n())}),bn(),st();var f=QP(),m=I(f),o=I(m);me(o,"min",10),me(o,"max",300);var l=H(m,2),d=I(l);let h;var _=H(d,2),v=I(_);UP(v,{get volume(){return g(a)},set volume(p){E(a,p)},$$legacy:!0}),ie(()=>h=dt(d,0,"w-6 h-6",null,h,{"text-green-500":g(s)})),vs(o,n,p=>Vh(zi,p)),se("click",d,c),$(e,f),Qe(),i()}var KP=ee('<meta name="Description"/> <html lang="en"></html>',1),JP=ee('<span class="text-sm text-gray-400">Also known as <span class="capitalize"> </span></span>'),eb=ee('<div class="flex border-b border-gray-200 bg-gray-50 space-x-10"><div class="flex flex-1 flex-col border-r border-gray-200"><div class="p-5 border-b border-gray-200"><h1 class="text-3xl font-bold i capitalize"><span class="underline"> </span> <span> </span></h1> <!></div> <div class="p-5"><h3 class="font-bold">Notes and intervals</h3> <!></div></div> <div class="p-5 hidden lg:block w-2/3"><h3 class="font-bold">Chords</h3> <!></div></div>'),tb=ee('<div class="flex flex-wrap md:flex-nowrap border-b border-gray-300"><div class="p-5 w-1/2 md:w-auto border-r border-b sm:border-b-0 border-gray-200"><h3 class="mb-2 font-bold">Tuning</h3> <!></div> <div class="p-5 w-1/2 md:w-auto border-r border-b sm:border-b-0 border-gray-200"><h3 class="mb-2 font-bold">Key</h3> <div><!></div></div> <div class="p-5 pb-6 w-1/2 md:w-96 border-r border-b sm:border-b-0 border-gray-200"><h3 class="font-bold mb-2">Scale</h3> <div><!></div></div> <div class="p-5 w-1/2 md:w-auto border-r border-b sm:border-b-0 border-gray-200"><h3 class="mb-2 font-bold">Position</h3> <!></div> <div class="p-5 w-1/2 md:w-auto border-r border-gray-200"><!></div></div> <div><!> <div class="py-10"><!></div> <!></div>',1);function nb(e,t){Ue(t,!1);const n=()=>Sr(li,"$tonic",i),r=()=>Sr(si,"$tuning",i),[i,a]=Fo(),s=B(),u=B(),c=B(),f=B(),m=B(),o=B();let l=B("aeolian"),d=B(),h=B();function _(v){E(h,v.detail)}D(()=>(n(),g(l)),()=>{E(s,`${n()} ${g(l)}`)}),D(()=>g(s),()=>{E(u,Kv(g(s)))}),D(()=>(g(u),Xa),()=>{E(c,g(u).intervals().length===5?Zv:Xa)}),D(()=>g(u),()=>{E(f,g(u).aliases())}),D(()=>(g(h),r(),n()),()=>{E(m,rc.getChord(g(h),Ot.get(r()[0]).height>Ot.get(`${n()}2`).height?`${n()}3`:`${n()}2`))}),D(()=>(g(m),Ot),()=>{E(o,g(m).notes.map(Ot.get))}),bn(),st(),Nh("1hicyxm",v=>{var p=KP(),w=Ne(p);ie(()=>me(w,"content",`${g(s)??""} guitar scale`)),oh(()=>{zu.title=g(s)??""}),$(v,p)}),YP(e,{children:(v,p)=>{var w=tb(),b=Ne(w),P=I(b),T=H(I(P),2);jP(T,{get defaultTuning(){return r()}});var F=H(P,2),N=H(I(F),2),M=I(N);n_(M,{get key(){return n()}});var k=H(F,2),re=H(I(k),2),R=I(re);y0(R,{get value(){return g(l)},set value(ae){E(l,ae)},$$legacy:!0});var J=H(k,2),Y=H(I(J),2);FP(Y,{get scale(){return g(u)},get position(){return g(d)},set position(ae){E(d,ae)},$$legacy:!0});var K=H(J,2),pe=I(K);ZP(pe,{});var X=H(b,2),U=I(X);{var C=ae=>{var fe=eb(),Me=I(fe),ke=I(Me),wn=I(ke),An=I(wn),Gt=I(An),jr=H(An,2),Ze=I(jr),qe=H(wn,2);{var V=Pe=>{var ir=JP(),on=H(I(ir)),Hr=I(on);ie(()=>De(Hr,g(f))),$(Pe,ir)};he(qe,Pe=>{g(f),j(()=>g(f).length>0)&&Pe(V)})}var rr=H(ke,2),Dr=H(I(rr),2);OP(Dr,{get scale(){return g(u)},set scale(Pe){E(u,Pe)},get position(){return g(d)},set position(Pe){E(d,Pe)},$$legacy:!0});var wt=H(Me,2),Xt=H(I(wt),2);BP(Xt,{get scale(){return g(u)},$$events:{chordchange:_}}),ie(Pe=>{De(Gt,Pe),De(Ze,`${g(l)??""} scale`)},[()=>(n(),j(()=>n().replace("b","â­")))]),$(ae,fe)};he(U,ae=>{g(l)!=""&&ae(C)})}var L=H(U,2),de=I(L);EP(de,{get tuning(){return r()},get scale(){return g(u)},set scale(ae){E(u,ae)},get system(){return g(c)},set system(ae){E(c,ae)},get position(){return g(d)},set position(ae){E(d,ae)},get notes(){return g(o)},set notes(ae){E(o,ae)},$$legacy:!0});var Fe=H(L,2);qP(Fe,{get notes(){return g(o)},set notes(ae){E(o,ae)},$$legacy:!0}),$(v,w)},$$slots:{default:!0}}),Qe(),a()}Ph(nb,{target:document.body});
